<?xml version="1.0" encoding="UTF-8"?>
<xmi:XMI xmi:version="20131001" xmlns:xmi="http://www.omg.org/spec/XMI/20131001" xmlns:PapyrusJava="http://www.eclipse.org/papyrus/PapyrusJava/1" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:standard="http://www.eclipse.org/uml2/5.0.0/UML/Profile/Standard" xmlns:uml="http://www.eclipse.org/uml2/5.0.0/UML">
  <uml:Model xmi:id="_fsSAAHuoEemZOa7va52DCQ" name="arenashooter">
    <ownedComment xmi:type="uml:Comment" xmi:id="_RqgO4HvKEemtSbXqvSvPoQ">
      <body>Track&#xD;
</body>
    </ownedComment>
    <ownedComment xmi:type="uml:Comment" xmi:id="_sP5ZIHvKEemtSbXqvSvPoQ">
      <body>animevents&#xD;
</body>
    </ownedComment>
    <ownedComment xmi:type="uml:Comment" xmi:id="_Dpk1UHvLEemtSbXqvSvPoQ">
      <body>ANIMATION&#xD;
</body>
    </ownedComment>
    <ownedComment xmi:type="uml:Comment" xmi:id="_ISmkAHvNEemtSbXqvSvPoQ">
      <body>Audio</body>
    </ownedComment>
    <ownedComment xmi:type="uml:Comment" xmi:id="_yslBUHvNEemtSbXqvSvPoQ">
      <body>Events</body>
    </ownedComment>
    <ownedComment xmi:type="uml:Comment" xmi:id="_FhMW4HvOEemtSbXqvSvPoQ">
      <body>Menus</body>
    </ownedComment>
    <ownedComment xmi:type="uml:Comment" xmi:id="_upJLoHvOEemtSbXqvSvPoQ">
      <body>engine</body>
    </ownedComment>
    <ownedComment xmi:type="uml:Comment" xmi:id="_VcCNgHvPEemtSbXqvSvPoQ">
      <body>Graphics</body>
    </ownedComment>
    <ownedComment xmi:type="uml:Comment" xmi:id="_v1HaEHvPEemtSbXqvSvPoQ">
      <body>fonts</body>
    </ownedComment>
    <ownedComment xmi:type="uml:Comment" xmi:id="_y9Q2wHvPEemtSbXqvSvPoQ">
      <body>particles</body>
    </ownedComment>
    <ownedComment xmi:type="uml:Comment" xmi:id="_bwhwwHvXEemtSbXqvSvPoQ">
      <body>Input</body>
    </ownedComment>
    <ownedComment xmi:type="uml:Comment" xmi:id="_DwKLMHvbEemtSbXqvSvPoQ">
      <body>math</body>
    </ownedComment>
    <ownedComment xmi:type="uml:Comment" xmi:id="_q56YcHvcEemtSbXqvSvPoQ">
      <body>physic</body>
    </ownedComment>
    <ownedComment xmi:type="uml:Comment" xmi:id="_Ic-0wHvdEemtSbXqvSvPoQ">
      <body>bodies</body>
    </ownedComment>
    <ownedComment xmi:type="uml:Comment" xmi:id="_VbM-sHvdEemtSbXqvSvPoQ">
      <body>shapes</body>
    </ownedComment>
    <ownedComment xmi:type="uml:Comment" xmi:id="_PK4ocHvjEemtSbXqvSvPoQ">
      <body>ui</body>
    </ownedComment>
    <ownedComment xmi:type="uml:Comment" xmi:id="_CYelUHyFEemsjr4EcXr-sw">
      <body>xmlReaders</body>
    </ownedComment>
    <ownedComment xmi:type="uml:Comment" xmi:id="_LsoI4HyTEemsjr4EcXr-sw">
      <body>entities</body>
    </ownedComment>
    <ownedComment xmi:type="uml:Comment" xmi:id="_0r_-gHyVEemsjr4EcXr-sw">
      <body>spatials</body>
    </ownedComment>
    <ownedComment xmi:type="uml:Comment" xmi:id="_nDIbcHydEemsjr4EcXr-sw">
      <body>items</body>
    </ownedComment>
    <ownedComment xmi:type="uml:Comment" xmi:id="_8pMTAHyfEemsjr4EcXr-sw">
      <body>game</body>
    </ownedComment>
    <ownedComment xmi:type="uml:Comment" xmi:id="_frQHkHygEemsjr4EcXr-sw">
      <body>gameStates</body>
    </ownedComment>
    <ownedComment xmi:type="uml:Comment" xmi:id="_Ue1AgHyiEemsjr4EcXr-sw">
      <body>engineParam</body>
    </ownedComment>
    <ownedComment xmi:type="uml:Comment" xmi:id="_GFcOMHykEemsjr4EcXr-sw">
      <body>ArenaShooter</body>
    </ownedComment>
    <packageImport xmi:type="uml:PackageImport" xmi:id="_fzk60HuoEemZOa7va52DCQ">
      <importedPackage xmi:type="uml:Model" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#_0"/>
    </packageImport>
    <packagedElement xmi:type="uml:Package" xmi:id="_tYNIAHupEemZOa7va52DCQ" name="project">
      <packagedElement xmi:type="uml:Package" xmi:id="_tZloEHupEemZOa7va52DCQ" name="arenashooter">
        <packagedElement xmi:type="uml:Package" xmi:id="_tZm2MHupEemZOa7va52DCQ" name="engine">
          <packagedElement xmi:type="uml:Class" xmi:id="_7pfKYHurEem9A9zbMJW8SQ" name="FileUtils" visibility="public" isLeaf="true" isAbstract="true">
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_7qPYUHurEem9A9zbMJW8SQ" name="FileUtils" specification="_7qAu0HurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_7qeB0HurEem9A9zbMJW8SQ" name="resToString" specification="_7qWGAHurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    String res = &quot;&quot;;&#xD;
    try {&#xD;
        InputStream in = new FileInputStream(new File(path));&#xD;
        InputStreamReader inReader = new InputStreamReader(in);&#xD;
        BufferedReader reader = new BufferedReader(inReader);&#xD;
        String line = &quot;&quot;;&#xD;
        while ((line = reader.readLine()) != null) //Include line breaks&#xD;
        res += line + &quot;\n&quot;;&#xD;
        reader.close();&#xD;
        inReader.close();&#xD;
        in.close();&#xD;
    } catch (Exception e) {&#xD;
        System.err.println(&quot;Can't read file: &quot; + path);&#xD;
    }&#xD;
    return res;&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_7qrdMHurEem9A9zbMJW8SQ" name="resToByteBuffer" specification="_7qkIcHurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    ByteBuffer res = null;&#xD;
    InputStream in;&#xD;
    ByteArrayOutputStream out = new ByteArrayOutputStream();&#xD;
    try {&#xD;
        in = new FileInputStream(new File(path));&#xD;
        int val = in.read();&#xD;
        while (val != -1) {&#xD;
            out.write(val);&#xD;
            val = in.read();&#xD;
        }&#xD;
        in.close();&#xD;
    } catch (Exception e) {&#xD;
        System.err.println(&quot;Cannot load file : &quot; + path);&#xD;
        e.printStackTrace();&#xD;
        return null;&#xD;
    }&#xD;
    byte[] array = out.toByteArray();&#xD;
    res = BufferUtils.createByteBuffer(array.length);&#xD;
    for (int i = 0; i &lt; array.length; i++) res.put(array[i]);&#xD;
    res.flip();&#xD;
    return res;&#xD;
</body>
            </ownedBehavior>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_7qAu0HurEem9A9zbMJW8SQ" name="FileUtils" visibility="private" method="_7qPYUHurEem9A9zbMJW8SQ"/>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_7qWGAHurEem9A9zbMJW8SQ" name="resToString" visibility="public" isStatic="true" method="_7qeB0HurEem9A9zbMJW8SQ">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_7qZJUHurEem9A9zbMJW8SQ" type="_tbdQUHupEemZOa7va52DCQ" direction="return"/>
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_7qblkHurEem9A9zbMJW8SQ" name="path" type="_tbdQUHupEemZOa7va52DCQ"/>
            </ownedOperation>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_7qkIcHurEem9A9zbMJW8SQ" name="resToByteBuffer" visibility="public" isStatic="true" method="_7qrdMHurEem9A9zbMJW8SQ">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_7qny0HurEem9A9zbMJW8SQ" type="_tbmaQXupEemZOa7va52DCQ" direction="return"/>
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_7qpoAHurEem9A9zbMJW8SQ" name="path" type="_tbdQUHupEemZOa7va52DCQ"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_7qxj0HurEem9A9zbMJW8SQ" name="ConfigManager" visibility="public" isAbstract="true">
            <ownedAttribute xmi:type="uml:Property" xmi:id="_7q2cUHurEem9A9zbMJW8SQ" name="file" visibility="private" isStatic="true" type="_tbtvAHupEemZOa7va52DCQ" isUnique="false">
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7q6GsHurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>new File(&quot;config.cfg&quot;)</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_7rANUHurEem9A9zbMJW8SQ" name="p" visibility="private" isStatic="true" type="_tbyngXupEemZOa7va52DCQ" isUnique="false">
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7rEewHurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>new Properties()</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_7rHiEHurEem9A9zbMJW8SQ" name="defaults" visibility="private" isStatic="true" type="_tbyngXupEemZOa7va52DCQ" isUnique="false">
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7rKlYHurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>new Properties()</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_7rNosHurEem9A9zbMJW8SQ" name="log" visibility="private" isStatic="true" type="_tb7KYHupEemZOa7va52DCQ" isUnique="false">
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7rQsAHurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>LogManager.getLogger(&quot;Config&quot;)</body>
              </defaultValue>
            </ownedAttribute>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_7rZO4HurEem9A9zbMJW8SQ" name="save" specification="_7rXZsHurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    log.info(&quot;Saving configuration to file&quot;);&#xD;
    try (OutputStream out = new FileOutputStream(file)) {&#xD;
        p.store(out, &quot;SuperBlep Config&quot;);&#xD;
    } catch (Exception e) {&#xD;
        log.error(&quot;Error writing configuration file&quot;);&#xD;
    }&#xD;
</body>
            </ownedBehavior>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_7rXZsHurEem9A9zbMJW8SQ" name="save" visibility="public" isStatic="true" method="_7rZO4HurEem9A9zbMJW8SQ"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_7sDWMHurEem9A9zbMJW8SQ" name="Profiler" visibility="public" isLeaf="true" isAbstract="true">
            <ownedAttribute xmi:type="uml:Property" xmi:id="_7sNuQHurEem9A9zbMJW8SQ" name="enabled" visibility="public" isStatic="true" isUnique="false">
              <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7sPjcHurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>false</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_7sRYoHurEem9A9zbMJW8SQ" name="NANOTOMILLI" visibility="private" isLeaf="true" isStatic="true" isUnique="false">
              <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7sT04HurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>0.000001</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_7sVqEHurEem9A9zbMJW8SQ" name="drawCalls" visibility="public" isStatic="true" isUnique="false">
              <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7sXfQHurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>0</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_7saikHurEem9A9zbMJW8SQ" name="STEP" visibility="public" isLeaf="true" isStatic="true" isUnique="false">
              <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7seM8HurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>0</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_7sfbEHurEem9A9zbMJW8SQ" name="PHYSIC" visibility="public" isLeaf="true" isStatic="true" isUnique="false">
              <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7sh3UHurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>7</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_7sk6oHurEem9A9zbMJW8SQ" name="RENDER" visibility="public" isLeaf="true" isStatic="true" isUnique="false">
              <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7spzIHurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>1</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_7sroUHurEem9A9zbMJW8SQ" name="SPRITES" visibility="public" isLeaf="true" isStatic="true" isUnique="false">
              <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7suEkHurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>3</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_7suroHurEem9A9zbMJW8SQ" name="MESHES" visibility="public" isLeaf="true" isStatic="true" isUnique="false">
              <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7swg0HurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>4</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_7sxH4HurEem9A9zbMJW8SQ" name="PARTICLES" visibility="public" isLeaf="true" isStatic="true" isUnique="false">
              <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7sy9EHurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>5</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_7s0yQHurEem9A9zbMJW8SQ" name="POSTPROCESS" visibility="public" isLeaf="true" isStatic="true" isUnique="false">
              <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7s31kHurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>6</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_7s5DsHurEem9A9zbMJW8SQ" name="TRANSPARENCY" visibility="public" isLeaf="true" isStatic="true" isUnique="false">
              <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7s7f8HurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>8</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_7s8uEHurEem9A9zbMJW8SQ" name="SLEEP" visibility="public" isLeaf="true" isStatic="true" isUnique="false">
              <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7tAYcHurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>2</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_7tA_gHurEem9A9zbMJW8SQ" name="times" visibility="private" isStatic="true" isUnique="false">
              <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_8heigBydEduyofBvg4RL2w"/>
              <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_7tDbwHurEem9A9zbMJW8SQ"/>
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_7tEC0HurEem9A9zbMJW8SQ" value="*"/>
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7tFQ8HurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>new long[9]</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_7tGfEHurEem9A9zbMJW8SQ" name="counters" visibility="private" isStatic="true" isUnique="false">
              <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_8heigBydEduyofBvg4RL2w"/>
              <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_7tKwgHurEem9A9zbMJW8SQ"/>
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_7tNMwHurEem9A9zbMJW8SQ" value="*"/>
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7tOa4HurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>new long[9]</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_7tQ3IHurEem9A9zbMJW8SQ" name="running" visibility="private" isStatic="true" isUnique="false">
              <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
              <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_7tTTYHurEem9A9zbMJW8SQ"/>
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_7tUhgHurEem9A9zbMJW8SQ" value="*"/>
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7tVIkHurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>new boolean[9]</body>
              </defaultValue>
            </ownedAttribute>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_7sKq8HurEem9A9zbMJW8SQ" name="Profiler">
              <language>JAVA</language>
              <body>&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_7tYL4HurEem9A9zbMJW8SQ" name="beginFrame" specification="_7tW9wHurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    if (!enabled)&#xD;
        return;&#xD;
    drawCalls = 0;&#xD;
    for (int i = 0; i &lt; times.length; i++) {&#xD;
        times[i] = 0;&#xD;
        running[i] = false;&#xD;
    }&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_7tb2QHurEem9A9zbMJW8SQ" name="printData" specification="_7taBEHurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    if (!enabled)&#xD;
        return;&#xD;
    System.out.println(&quot;Frame profiling:&quot;);&#xD;
    System.out.println(&quot;-Frame: &quot; + (float) ((times[RENDER] + times[STEP]) * NANOTOMILLI) + &quot;ms&quot;);&#xD;
    System.out.println(&quot; |-Step:...&quot; + (float) (times[STEP] * NANOTOMILLI) + &quot;ms&quot;);&#xD;
    System.out.println(&quot; | |-Physic:.......&quot; + (float) (times[PHYSIC] * NANOTOMILLI) + &quot;ms&quot;);&#xD;
    System.out.println(&quot; |&quot;);&#xD;
    System.out.println(&quot; |-Render:.&quot; + (float) (times[RENDER] * NANOTOMILLI) + &quot;ms&quot;);&#xD;
    System.out.println(&quot; | |-Draw calls:...&quot; + drawCalls);&#xD;
    System.out.println(&quot; | |-Transparency:.&quot; + (float) (times[TRANSPARENCY] * NANOTOMILLI) + &quot;ms&quot;);&#xD;
    System.out.println(&quot; | |-Sprites:......&quot; + (float) (times[SPRITES] * NANOTOMILLI) + &quot;ms&quot;);&#xD;
    System.out.println(&quot; | |-Meshes:.......&quot; + (float) (times[MESHES] * NANOTOMILLI) + &quot;ms&quot;);&#xD;
    System.out.println(&quot; | |-Particles:....&quot; + (float) (times[PARTICLES] * NANOTOMILLI) + &quot;ms&quot;);&#xD;
    System.out.println(&quot; | |-PostProcess:..&quot; + (float) (times[POSTPROCESS] * NANOTOMILLI) + &quot;ms&quot;);&#xD;
    System.out.println(&quot; |&quot;);&#xD;
    System.out.println(&quot; |-Sleep:..&quot; + (float) (times[SLEEP] * NANOTOMILLI) + &quot;ms&quot;);&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_7thV0HurEem9A9zbMJW8SQ" name="startTimer" specification="_7teSgHurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    if (!enabled)&#xD;
        return;&#xD;
    if (!running[timer])&#xD;
        counters[timer] = System.nanoTime();&#xD;
    running[timer] = true;&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_7tlnQHurEem9A9zbMJW8SQ" name="endTimer" specification="_7tjLAHurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    if (!enabled)&#xD;
        return;&#xD;
    if (running[timer])&#xD;
        times[timer] += System.nanoTime() - counters[timer];&#xD;
    running[timer] = false;&#xD;
</body>
            </ownedBehavior>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_7tW9wHurEem9A9zbMJW8SQ" name="beginFrame" visibility="public" isStatic="true" method="_7tYL4HurEem9A9zbMJW8SQ"/>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_7taBEHurEem9A9zbMJW8SQ" name="printData" visibility="public" isStatic="true" method="_7tb2QHurEem9A9zbMJW8SQ"/>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_7teSgHurEem9A9zbMJW8SQ" name="startTimer" visibility="public" isStatic="true" method="_7thV0HurEem9A9zbMJW8SQ">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_7te5kHurEem9A9zbMJW8SQ" name="timer">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_7tjLAHurEem9A9zbMJW8SQ" name="endTimer" visibility="public" isStatic="true" method="_7tlnQHurEem9A9zbMJW8SQ">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_7tkZIHurEem9A9zbMJW8SQ" name="timer">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              </ownedParameter>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_7tp4sHurEem9A9zbMJW8SQ" name="animation">
            <packagedElement xmi:type="uml:Class" xmi:id="_7trt4HurEem9A9zbMJW8SQ" name="AnimationData" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7tx0gHurEem9A9zbMJW8SQ" name="cache" visibility="private" isStatic="true" type="_7ts8AHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7tzpsHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new HashMap&lt;String, AnimationData>()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7t030HurEem9A9zbMJW8SQ" name="length" visibility="private" isLeaf="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7t37IHurEem9A9zbMJW8SQ" name="loop" visibility="private" isLeaf="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7t8zoHurEem9A9zbMJW8SQ" name="eventTrack" visibility="private" isLeaf="true" type="_7t7lgHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7t_28HurEem9A9zbMJW8SQ" name="tracksD" visibility="private" isLeaf="true" type="_7ts8AHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7uC6QHurEem9A9zbMJW8SQ" name="tracksT" visibility="private" isLeaf="true" type="_7ts8AHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7uEIYHurEem9A9zbMJW8SQ" name="tracksVec2f" visibility="private" isLeaf="true" type="_7ts8AHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7uGkoHurEem9A9zbMJW8SQ" name="tracksVec3f" visibility="private" isLeaf="true" type="_7ts8AHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_7uVOIHurEem9A9zbMJW8SQ" name="AnimationData">
                <language>JAVA</language>
                <body>&#xD;
    this.loop = loop;&#xD;
    this.length = length;&#xD;
    this.eventTrack = eventTrack;&#xD;
    this.tracksD = tracksD;&#xD;
    this.tracksT = tracksT;&#xD;
    this.tracksVec2f = tracksVec2f;&#xD;
    this.tracksVec3f = tracksVec3f;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_7uatsHurEem9A9zbMJW8SQ" name="loadAnim" specification="_7uXDUHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    AnimationData result = cache.get(path);&#xD;
    if (result != null)&#xD;
        return result;&#xD;
    result = AnimationXmlReader.read(path);&#xD;
    cache.put(path, result);&#xD;
    return result;&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_7uXDUHurEem9A9zbMJW8SQ" name="loadAnim" visibility="public" isStatic="true" method="_7uatsHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_7uYRcHurEem9A9zbMJW8SQ" type="_7trt4HurEem9A9zbMJW8SQ" direction="return"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_7uZfkHurEem9A9zbMJW8SQ" name="path" type="_tbdQUHupEemZOa7va52DCQ"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Package" xmi:id="_7t6-cHurEem9A9zbMJW8SQ" name="tracks">
              <packagedElement xmi:type="uml:Class" xmi:id="_7t7lgHurEem9A9zbMJW8SQ" name="EventTrack" visibility="public" isAbstract="true">
                <ownedAttribute xmi:type="uml:Property" xmi:id="_7z0LEHurEem9A9zbMJW8SQ" name="times" visibility="protected" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                  <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_7z2AQHurEem9A9zbMJW8SQ"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_7z2nUHurEem9A9zbMJW8SQ" value="*"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_7z3OYHurEem9A9zbMJW8SQ" name="values" visibility="protected" isUnique="false">
                  <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_7z4cgHurEem9A9zbMJW8SQ"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_7z5DkHurEem9A9zbMJW8SQ" value="*"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_7z-jIHurEem9A9zbMJW8SQ" name="EventTrack" specification="_7z6RsHurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    times = new double[keyframes.size()];&#xD;
    values = new AnimEvent[keyframes.size()];&#xD;
    //Make sure keyframes times are sorted&#xD;
    ArrayList&lt;Double> timesList = new ArrayList&lt;>(keyframes.size());&#xD;
    timesList.addAll(keyframes.keySet());&#xD;
    timesList.sort(new Comparator&lt;Double>() {&#xD;
&#xD;
        public int compare(Double d1, Double d2) {&#xD;
            return d1.compareTo(d2);&#xD;
        }&#xD;
    });&#xD;
    for (int i = 0; i &lt; timesList.size(); i++) {&#xD;
        times[i] = timesList.get(i);&#xD;
        values[i] = keyframes.get(times[i]);&#xD;
    }&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_70ECsHurEem9A9zbMJW8SQ" name="getEvents" specification="_7z_xQHurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    Queue&lt;AnimEvent> res = new LinkedList&lt;>();&#xD;
    if (times.length &lt;= 0)&#xD;
        return res;&#xD;
    double current = from;&#xD;
    while (current &lt; to) {&#xD;
        int next = nextKeyframe(current);&#xD;
        res.add(values[next]);&#xD;
        current = times[next];&#xD;
    //TODO: loop if to&lt;from&#xD;
    }&#xD;
    return res;&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_70HtEHurEem9A9zbMJW8SQ" name="prevKeyframe" specification="_70FQ0HurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    for (int i = times.length - 1; i >= 0; i--) {&#xD;
        if (times[i] &lt;= time)&#xD;
            return i;&#xD;
    }&#xD;
    return 0;&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_70LXcHurEem9A9zbMJW8SQ" name="nextKeyframe" specification="_70I7MHurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    for (int i = 0; i &lt; times.length; i++) {&#xD;
        if (times[i] > time)&#xD;
            return i;&#xD;
    }&#xD;
    return times.length - 1;&#xD;
</body>
                </ownedBehavior>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_7z6RsHurEem9A9zbMJW8SQ" name="EventTrack" visibility="public" method="_7z-jIHurEem9A9zbMJW8SQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_7z98EHurEem9A9zbMJW8SQ" name="keyframes" type="_7ts8AHurEem9A9zbMJW8SQ"/>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_7z_xQHurEem9A9zbMJW8SQ" name="getEvents" visibility="public" method="_70ECsHurEem9A9zbMJW8SQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_70A_YHurEem9A9zbMJW8SQ" type="_7vC_0HurEem9A9zbMJW8SQ" direction="return"/>
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_70BmcHurEem9A9zbMJW8SQ" name="from">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                  </ownedParameter>
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_70C0kHurEem9A9zbMJW8SQ" name="to">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_70FQ0HurEem9A9zbMJW8SQ" name="prevKeyframe" visibility="protected" method="_70HtEHurEem9A9zbMJW8SQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_70F34HurEem9A9zbMJW8SQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                  </ownedParameter>
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_70Ge8HurEem9A9zbMJW8SQ" name="time">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_70I7MHurEem9A9zbMJW8SQ" name="nextKeyframe" visibility="protected" method="_70LXcHurEem9A9zbMJW8SQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_70KJUHurEem9A9zbMJW8SQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                  </ownedParameter>
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_70KwYHurEem9A9zbMJW8SQ" name="time">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                  </ownedParameter>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_7wmfAHurEem9A9zbMJW8SQ" name="AnimTrackDouble" visibility="public" isAbstract="true">
                <generalization xmi:type="uml:Generalization" xmi:id="_7zR_kHurEem9A9zbMJW8SQ" general="_7xnysHurEem9A9zbMJW8SQ"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_7zkTcHurEem9A9zbMJW8SQ" name="AnimTrackDouble">
                  <language>JAVA</language>
                  <body>&#xD;
    super(keyframes);&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_7zv5oHurEem9A9zbMJW8SQ" name="valueAt" specification="_7zs2UHurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    int prev = prevKeyframe(time);&#xD;
    int next = nextKeyframe(time);&#xD;
    double f = times[next] - times[prev];&#xD;
    if (f != 0)&#xD;
        f = (time - times[prev]) / f;&#xD;
    return Utils.lerpD((double) values[prev], (double) values[next], f);&#xD;
</body>
                </ownedBehavior>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_7zs2UHurEem9A9zbMJW8SQ" name="valueAt" visibility="public" method="_7zv5oHurEem9A9zbMJW8SQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_7zuEcHurEem9A9zbMJW8SQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_KgG0cPaLEeW5KOK8aDMdgA"/>
                  </ownedParameter>
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_7zurgHurEem9A9zbMJW8SQ" name="time">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                  </ownedParameter>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_7wtMsHurEem9A9zbMJW8SQ" name="AnimTrackTexture" visibility="public" isAbstract="true">
                <generalization xmi:type="uml:Generalization" xmi:id="_7yul8HurEem9A9zbMJW8SQ" general="_7xnysHurEem9A9zbMJW8SQ"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_7y0skHurEem9A9zbMJW8SQ" name="AnimTrackTexture">
                  <language>JAVA</language>
                  <body>&#xD;
    super(keyframes);&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_7y4-AHurEem9A9zbMJW8SQ" name="valueAt" specification="_7y2hwHurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    return (Texture) values[prevKeyframe(time)];&#xD;
</body>
                </ownedBehavior>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_7y2hwHurEem9A9zbMJW8SQ" name="valueAt" visibility="public" method="_7y4-AHurEem9A9zbMJW8SQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_7y3I0HurEem9A9zbMJW8SQ" type="_7vwKcHurEem9A9zbMJW8SQ" direction="return"/>
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_7y4W8HurEem9A9zbMJW8SQ" name="time">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                  </ownedParameter>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_7wwQAHurEem9A9zbMJW8SQ" name="AnimTrackVec2f" visibility="public" isAbstract="true">
                <generalization xmi:type="uml:Generalization" xmi:id="_7yYAoHurEem9A9zbMJW8SQ" general="_7xnysHurEem9A9zbMJW8SQ"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_7yeuUHurEem9A9zbMJW8SQ" name="AnimTrackVec2f">
                  <language>JAVA</language>
                  <body>&#xD;
    super(keyframes);&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_7yrioHurEem9A9zbMJW8SQ" name="valueAt" specification="_7yofUHurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    double f;&#xD;
    switch(interpMode) {&#xD;
        case //TODO: Test loop/non-loop&#xD;
        CUBIC:&#xD;
            int p1 = prevKeyframe(time);&#xD;
            int p0 = prevKeyframe(p1);&#xD;
            int p2 = nextKeyframe(time);&#xD;
            int p3 = nextKeyframe(p2);&#xD;
            if (p1 == 0)&#xD;
                p0 = times.length - 1;&#xD;
            if (p2 == times.length - 1)&#xD;
                p3 = 0;&#xD;
            f = times[p2] - times[p1];&#xD;
            if (f != 0)&#xD;
                f = (time - times[p1]) / f;&#xD;
            return Utils.catmullRomSpline2f((Vec2f) values[p0], (Vec2f) values[p1], (Vec2f) values[p2], (Vec2f) values[p3], f);&#xD;
        default:&#xD;
            //LINEAR&#xD;
            int prev = prevKeyframe(time);&#xD;
            int next = nextKeyframe(time);&#xD;
            f = times[next] - times[prev];&#xD;
            if (f != 0)&#xD;
                f = (time - times[prev]) / f;&#xD;
            return Vec2f.lerp((Vec2f) values[prev], (Vec2f) values[next], f);&#xD;
    }&#xD;
</body>
                </ownedBehavior>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_7yofUHurEem9A9zbMJW8SQ" name="valueAt" visibility="public" method="_7yrioHurEem9A9zbMJW8SQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_7ypGYHurEem9A9zbMJW8SQ" type="_tdf3sXupEemZOa7va52DCQ" direction="return"/>
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_7yqUgHurEem9A9zbMJW8SQ" name="time">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                  </ownedParameter>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_7xB80HurEem9A9zbMJW8SQ" name="AnimTrackVec3f" visibility="public" isAbstract="true">
                <generalization xmi:type="uml:Generalization" xmi:id="_7y9PcHurEem9A9zbMJW8SQ" general="_7xnysHurEem9A9zbMJW8SQ"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_7zKq0HurEem9A9zbMJW8SQ" name="AnimTrackVec3f">
                  <language>JAVA</language>
                  <body>&#xD;
    super(keyframes, interpMode);&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_7zOVMHurEem9A9zbMJW8SQ" name="valueAt" specification="_7zMgAHurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    double f;&#xD;
    switch(interpMode) {&#xD;
        case //TODO: Test loop/non-loop&#xD;
        CUBIC:&#xD;
            int p1 = prevKeyframe(time);&#xD;
            int p0 = prevKeyframe(p1);&#xD;
            int p2 = nextKeyframe(time);&#xD;
            int p3 = nextKeyframe(p2);&#xD;
            if (p1 == 0)&#xD;
                p0 = times.length - 1;&#xD;
            if (p2 == times.length - 1)&#xD;
                p3 = 0;&#xD;
            f = times[p2] - times[p1];&#xD;
            if (f != 0)&#xD;
                f = (time - times[p1]) / f;&#xD;
            return Utils.catmullRomSpline3f((Vec3f) values[p0], (Vec3f) values[p1], (Vec3f) values[p2], (Vec3f) values[p3], f);&#xD;
        default:&#xD;
            //LINEAR&#xD;
            int prev = prevKeyframe(time);&#xD;
            int next = nextKeyframe(time);&#xD;
            f = times[next] - times[prev];&#xD;
            if (f != 0)&#xD;
                f = (time - times[prev]) / f;&#xD;
            return Vec3f.lerp((Vec3f) values[prev], (Vec3f) values[next], f);&#xD;
    }&#xD;
</body>
                </ownedBehavior>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_7zMgAHurEem9A9zbMJW8SQ" name="valueAt" visibility="public" method="_7zOVMHurEem9A9zbMJW8SQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_7zNHEHurEem9A9zbMJW8SQ" type="_tf2BEXupEemZOa7va52DCQ" direction="return"/>
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_7zNuIHurEem9A9zbMJW8SQ" name="time">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                  </ownedParameter>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_7xnysHurEem9A9zbMJW8SQ" name="AnimTrack" visibility="public" isAbstract="true">
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_7yD3kHurEem9A9zbMJW8SQ" name="AnimTrack">
                  <language>JAVA</language>
                  <body>&#xD;
    this.interpMode = interpMode;&#xD;
    times = new double[keyframes.size()];&#xD;
    values = new Object[keyframes.size()];&#xD;
    //Make sure keyframes times are sorted&#xD;
    ArrayList&lt;Double> timesList = new ArrayList&lt;>(keyframes.size());&#xD;
    timesList.addAll(keyframes.keySet());&#xD;
    timesList.sort(new Comparator&lt;Double>() {&#xD;
&#xD;
        public int compare(Double d1, Double d2) {&#xD;
            return d1.compareTo(d2);&#xD;
        }&#xD;
    });&#xD;
    for (int i = 0; i &lt; timesList.size(); i++) {&#xD;
        times[i] = timesList.get(i);&#xD;
        values[i] = keyframes.get(times[i]);&#xD;
    }&#xD;
</body>
                </ownedBehavior>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_7yGT0HurEem9A9zbMJW8SQ" name="T"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Interface" xmi:id="_7udxAHurEem9A9zbMJW8SQ" name="IAnimated" visibility="public" isAbstract="true">
              <ownedOperation xmi:type="uml:Operation" xmi:id="_7uiCcHurEem9A9zbMJW8SQ" name="setAnim" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_7ujQkHurEem9A9zbMJW8SQ" name="anim" type="_7ugNQHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_7uj3oHurEem9A9zbMJW8SQ" name="playAnim" visibility="public"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_7ulFwHurEem9A9zbMJW8SQ" name="stopAnim" visibility="public"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_7uls0HurEem9A9zbMJW8SQ" name="animJumpToEnd" visibility="public"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_7umT4HurEem9A9zbMJW8SQ" name="getAnim" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_7uniAHurEem9A9zbMJW8SQ" type="_7ugNQHurEem9A9zbMJW8SQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_7upXMHurEem9A9zbMJW8SQ" name="setAnimSpeed" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_7uqlUHurEem9A9zbMJW8SQ" name="speed">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_7urMYHurEem9A9zbMJW8SQ" name="getAnimSpeed" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_7urzcHurEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_7ugNQHurEem9A9zbMJW8SQ" name="Animation" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7uzvQHurEem9A9zbMJW8SQ" name="animData" visibility="private" isLeaf="true" type="_7trt4HurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7u6c8HurEem9A9zbMJW8SQ" name="time" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7u9gQHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>0</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7u-uYHurEem9A9zbMJW8SQ" name="playSpeed" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7u_8gHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>1</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7vBKoHurEem9A9zbMJW8SQ" name="playing" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7vCYwHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>false</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7vGqMHurEem9A9zbMJW8SQ" name="events" visibility="private" type="_7vC_0HurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_7vNX4HurEem9A9zbMJW8SQ" name="Animation">
                <language>JAVA</language>
                <body>&#xD;
    this.animData = data;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_7vQbMHurEem9A9zbMJW8SQ" name="play" specification="_7vPNEHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    playing = true;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_7vSQYHurEem9A9zbMJW8SQ" name="stopPlaying" specification="_7vRpUHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    playing = false;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_7vWh0HurEem9A9zbMJW8SQ" name="isPlaying" specification="_7vUFkHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    return playing;&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_7vPNEHurEem9A9zbMJW8SQ" name="play" visibility="public" method="_7vQbMHurEem9A9zbMJW8SQ"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_7vRpUHurEem9A9zbMJW8SQ" name="stopPlaying" visibility="public" method="_7vSQYHurEem9A9zbMJW8SQ"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_7vUFkHurEem9A9zbMJW8SQ" name="isPlaying" visibility="public" method="_7vWh0HurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_7vVTsHurEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_7viIAHurEem9A9zbMJW8SQ" name="step" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_7vjWIHurEem9A9zbMJW8SQ" name="delta">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Enumeration" xmi:id="_7xX7EHurEem9A9zbMJW8SQ" name="AnimInterpolation" visibility="public" isAbstract="true">
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_7xZJMHurEem9A9zbMJW8SQ" name="LINEAR"/>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_7xaXUHurEem9A9zbMJW8SQ" name="CUBIC"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Package" xmi:id="_7xblcHurEem9A9zbMJW8SQ" name="animevents">
              <packagedElement xmi:type="uml:Class" xmi:id="_anoSIHyfEemsjr4EcXr-sw" name="AnimEvent" visibility="public" isAbstract="true">
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_anyqMHyfEemsjr4EcXr-sw" name="AnimEvent" specification="_anquYHyfEemsjr4EcXr-sw">
                  <language>JAVA</language>
                  <body>&#xD;
</body>
                </ownedBehavior>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_anquYHyfEemsjr4EcXr-sw" name="AnimEvent" visibility="public" method="_anyqMHyfEemsjr4EcXr-sw"/>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_an1tgHyfEemsjr4EcXr-sw" name="fire" visibility="private" isAbstract="true"/>
              </packagedElement>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_7vvjYHurEem9A9zbMJW8SQ" name="graphics">
            <packagedElement xmi:type="uml:Class" xmi:id="_7vwKcHurEem9A9zbMJW8SQ" name="Texture" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_78JAoHurEem9A9zbMJW8SQ" name="textures" visibility="private" isStatic="true" type="_7ts8AHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_78K10HurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new HashMap&lt;String, TextureEntry>()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_78MD8HurEem9A9zbMJW8SQ" name="default_tex" visibility="public" isLeaf="true" isStatic="true" type="_7vwKcHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_78OgMHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>loadTexture(&quot;data/default_texture.png&quot;)</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_78PuUHurEem9A9zbMJW8SQ" name="id" visibility="private" isLeaf="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_78Q8cHurEem9A9zbMJW8SQ" name="file" visibility="private" isLeaf="true" type="_tbdQUHupEemZOa7va52DCQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_78SxoHurEem9A9zbMJW8SQ" name="width" visibility="private" isLeaf="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_78T_wHurEem9A9zbMJW8SQ" name="height" visibility="private" isLeaf="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_78VN4HurEem9A9zbMJW8SQ" name="transparency" visibility="public" isLeaf="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_78eX0HurEem9A9zbMJW8SQ" name="Texture">
                <language>JAVA</language>
                <body>&#xD;
    file = path;&#xD;
    this.id = id;&#xD;
    this.width = width;&#xD;
    this.height = height;&#xD;
    this.transparency = transparency;&#xD;
</body>
              </ownedBehavior>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_77zpcHurEem9A9zbMJW8SQ" name="PostProcess" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_771eoHurEem9A9zbMJW8SQ" name="shader" visibility="private" type="_7703kHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_772swHurEem9A9zbMJW8SQ" name="vignetteIntensity" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_77364HurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>1.4f</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_775JAHurEem9A9zbMJW8SQ" name="chromaAbbIntensity" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_776XIHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>0</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_77-okHurEem9A9zbMJW8SQ" name="PostProcess" specification="_776-MHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    this.shader = Shader.loadShader(shader);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_78BE0HurEem9A9zbMJW8SQ" name="getShader" specification="_77_2sHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    return shader;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_78C6AHurEem9A9zbMJW8SQ" name="bind" specification="_78CS8HurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    shader.bind();&#xD;
    shader.setUniformF(&quot;vignetteIntensity&quot;, vignetteIntensity);&#xD;
    shader.setUniformF(&quot;chromaAbbIntensity&quot;, chromaAbbIntensity);&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_776-MHurEem9A9zbMJW8SQ" name="PostProcess" visibility="public" method="_77-okHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_77-BgHurEem9A9zbMJW8SQ" name="shader" type="_tbdQUHupEemZOa7va52DCQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_77_2sHurEem9A9zbMJW8SQ" name="getShader" visibility="private" method="_78BE0HurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_78AdwHurEem9A9zbMJW8SQ" type="_7703kHurEem9A9zbMJW8SQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_78CS8HurEem9A9zbMJW8SQ" name="bind" visibility="private" method="_78C6AHurEem9A9zbMJW8SQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_7703kHurEem9A9zbMJW8SQ" name="Shader" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7-DsMHurEem9A9zbMJW8SQ" name="cache" visibility="private" isStatic="true" type="_tebr0HupEemZOa7va52DCQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7-FhYHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new HashMap&lt;>()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7-GvgHurEem9A9zbMJW8SQ" name="cacheVertex" visibility="private" isStatic="true" type="_tebr0HupEemZOa7va52DCQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7-H9oHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new HashMap&lt;>()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7-JLwHurEem9A9zbMJW8SQ" name="cacheFragment" visibility="private" isStatic="true" type="_tebr0HupEemZOa7va52DCQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7-LA8HurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new HashMap&lt;>()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7-LoAHurEem9A9zbMJW8SQ" name="boundShader" visibility="private" isStatic="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7-M2IHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>0</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7-OrUHurEem9A9zbMJW8SQ" name="uniforms" visibility="private" type="_tebr0HupEemZOa7va52DCQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7-QggHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new HashMap&lt;>()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7-RHkHurEem9A9zbMJW8SQ" name="vertex" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7-SVsHurEem9A9zbMJW8SQ" name="fragment" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7-Tj0HurEem9A9zbMJW8SQ" name="program" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7-Ux8HurEem9A9zbMJW8SQ" name="transparent" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7-WAEHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>false</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_7-ctwHurEem9A9zbMJW8SQ" name="Shader">
                <language>JAVA</language>
                <body>&#xD;
    this.vertex = vertex;&#xD;
    this.fragment = fragment;&#xD;
    this.program = program;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_7-g_MHurEem9A9zbMJW8SQ" name="loadShader" specification="_7-d74HurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    Shader cached = cache.get(path);&#xD;
    if (cached != null)&#xD;
        return cached;&#xD;
    Shader shader = loadShader(path + &quot;.vert&quot;, path + &quot;.frag&quot;);&#xD;
    cache.put(path, shader);&#xD;
    return shader;&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_7-d74HurEem9A9zbMJW8SQ" name="loadShader" visibility="public" isStatic="true" method="_7-g_MHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_7-ei8HurEem9A9zbMJW8SQ" type="_7703kHurEem9A9zbMJW8SQ" direction="return"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_7-fxEHurEem9A9zbMJW8SQ" name="path" type="_tbdQUHupEemZOa7va52DCQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_7_XTwHurEem9A9zbMJW8SQ" name="unbind" visibility="public" isStatic="true"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_7_ZwAHurEem9A9zbMJW8SQ" name="cleanShaders" visibility="public" isStatic="true"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_79MwkHurEem9A9zbMJW8SQ" name="ModelObjLoader" isLeaf="true" isAbstract="true">
              <ownedOperation xmi:type="uml:Operation" xmi:id="_79RCAHurEem9A9zbMJW8SQ" name="ModelObjLoader" visibility="private"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_79aL8HurEem9A9zbMJW8SQ" name="loadObj" visibility="private" isStatic="true">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_79baEHurEem9A9zbMJW8SQ" type="_79azAHurEem9A9zbMJW8SQ" direction="return"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_79coMHurEem9A9zbMJW8SQ" name="path" type="_tbdQUHupEemZOa7va52DCQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_79frgHurEem9A9zbMJW8SQ" name="readPoint" visibility="private" isStatic="true">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_79gSkHurEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                  <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_79g5oHurEem9A9zbMJW8SQ"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_79hgsHurEem9A9zbMJW8SQ" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_79iHwHurEem9A9zbMJW8SQ" name="data" type="_tbdQUHupEemZOa7va52DCQ"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_79azAHurEem9A9zbMJW8SQ" name="ModelsData" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8GNioHurEem9A9zbMJW8SQ" name="default_shader" visibility="private" isLeaf="true" isStatic="true" type="_tbdQUHupEemZOa7va52DCQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8GOwwHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>&quot;data/shaders/mesh_simple&quot;</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8GPX0HurEem9A9zbMJW8SQ" name="models" visibility="public" type="_8AmC0HurEem9A9zbMJW8SQ" isUnique="false">
                <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_8GQl8HurEem9A9zbMJW8SQ"/>
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_8GQl8XurEem9A9zbMJW8SQ" value="*"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8GQl8nurEem9A9zbMJW8SQ" name="materials" visibility="public" type="_8CXkcHurEem9A9zbMJW8SQ" isUnique="false">
                <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_8GRNAHurEem9A9zbMJW8SQ"/>
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_8GRNAXurEem9A9zbMJW8SQ" value="*"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8GXToHurEem9A9zbMJW8SQ" name="ModelsData">
                <language>JAVA</language>
                <body>&#xD;
    this.models = models;&#xD;
    this.materials = materials;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8GaW8HurEem9A9zbMJW8SQ" name="loadModel">
                <language>JAVA</language>
                <body>&#xD;
    if (path.endsWith(&quot;.obj&quot;))&#xD;
        return ModelObjLoader.loadObj(path);&#xD;
    else {&#xD;
        Window.log.error(path + &quot; is not a wavefront obj file&quot;);&#xD;
        return null;&#xD;
    }&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8GeBUHurEem9A9zbMJW8SQ" name="getShadersOverrides">
                <language>JAVA</language>
                <body>&#xD;
    HashMap&lt;String, String> res = new HashMap&lt;>();&#xD;
    File file = new File(path.substring(0, path.lastIndexOf('.')) + &quot;.shaders&quot;);&#xD;
    if (!file.exists())&#xD;
        return res;&#xD;
    try (InputStream in = new FileInputStream(file)) {&#xD;
        InputStreamReader inReader = new InputStreamReader(in);&#xD;
        BufferedReader reader = new BufferedReader(inReader);&#xD;
        String line = &quot;&quot;;&#xD;
        boolean isMatName = true;&#xD;
        String matName = &quot;&quot;;&#xD;
        while ((line = reader.readLine()) != null) {&#xD;
            if (isMatName)&#xD;
                matName = line;&#xD;
            else&#xD;
                res.put(matName, line);&#xD;
            isMatName = !isMatName;&#xD;
        }&#xD;
        reader.close();&#xD;
    } catch (Exception e) {&#xD;
        e.printStackTrace();&#xD;
    }&#xD;
    return res;&#xD;
</body>
              </ownedBehavior>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_7_eogHurEem9A9zbMJW8SQ" name="Image" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7_fPkHurEem9A9zbMJW8SQ" name="file" visibility="public" isLeaf="true" type="_tbdQUHupEemZOa7va52DCQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7_hEwHurEem9A9zbMJW8SQ" name="width" visibility="public" isLeaf="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7_iS4HurEem9A9zbMJW8SQ" name="height" visibility="public" isLeaf="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7_jhAHurEem9A9zbMJW8SQ" name="channels" visibility="public" isLeaf="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7_lWMHurEem9A9zbMJW8SQ" name="buffer" visibility="public" isLeaf="true" type="_tbmaQXupEemZOa7va52DCQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7_mkUHurEem9A9zbMJW8SQ" name="transparency" visibility="public" isLeaf="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_7_vuQHurEem9A9zbMJW8SQ" name="Image">
                <language>JAVA</language>
                <body>&#xD;
    this.file = path;&#xD;
    this.width = width;&#xD;
    this.height = height;&#xD;
    this.channels = channels;&#xD;
    this.buffer = buffer;&#xD;
    String pathWithoutExt = path.substring(0, path.lastIndexOf('.'));&#xD;
    transparency = pathWithoutExt.endsWith(&quot;_tr&quot;);&#xD;
</body>
              </ownedBehavior>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_7_77gHurEem9A9zbMJW8SQ" name="Window" visibility="public" isLeaf="true" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7_9JoHurEem9A9zbMJW8SQ" name="WIDTH_MIN" visibility="private" isLeaf="true" isStatic="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_7__l4HurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>640</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8AAM8HurEem9A9zbMJW8SQ" name="HEIGHT_MIN" visibility="private" isLeaf="true" isStatic="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8ACpMHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>480</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8Awa4HurEem9A9zbMJW8SQ" name="resolutionScale" visibility="public" isStatic="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8AxpAHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>1</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8A49wHurEem9A9zbMJW8SQ" name="Window" specification="_8A2hgHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8A2hgHurEem9A9zbMJW8SQ" name="Window" visibility="private" method="_8A49wHurEem9A9zbMJW8SQ"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8A_rcHurEem9A9zbMJW8SQ" name="requestClose" visibility="public" isStatic="true">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8BA5kHurEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8BCuwHurEem9A9zbMJW8SQ" name="beginFrame" visibility="public" isStatic="true"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8BFyEHurEem9A9zbMJW8SQ" name="endFrame" visibility="public" isStatic="true"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8BQKIHurEem9A9zbMJW8SQ" name="destroy" visibility="public" isStatic="true"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8BR_UHurEem9A9zbMJW8SQ" name="resize" visibility="public" isStatic="true">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8BTNcHurEem9A9zbMJW8SQ" name="newWidth">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                </ownedParameter>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8BT0gHurEem9A9zbMJW8SQ" name="newHeight">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8BdlgHurEem9A9zbMJW8SQ" name="setFOV" visibility="private" isStatic="true">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8BezoHurEem9A9zbMJW8SQ" name="verticalFOV">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8AmC0HurEem9A9zbMJW8SQ" name="Model" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8EDmgHurEem9A9zbMJW8SQ" name="models" visibility="private" isStatic="true" type="_7ts8AHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8EMJYHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new HashMap&lt;String, ModelEntry>()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8EPMsHurEem9A9zbMJW8SQ" name="floatsPerVertex" visibility="private" isLeaf="true" isStatic="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8ERB4HurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>3 + 2 + 3</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8EUFMHurEem9A9zbMJW8SQ" name="floatByteSize" visibility="private" isLeaf="true" isStatic="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8EedQHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>(Float.SIZE / Byte.SIZE)</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8EwxIHurEem9A9zbMJW8SQ" name="Model">
                <language>JAVA</language>
                <body>&#xD;
    loadModel(data, indices);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8FjbUHurEem9A9zbMJW8SQ" name="loadModel" specification="_8ExYMHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    //Memory allocation&#xD;
    FloatBuffer dataBuffer = MemoryUtil.memAllocFloat(data.length);&#xD;
    dataBuffer.put(data);&#xD;
    dataBuffer.flip();&#xD;
    IntBuffer indicesBuffer = MemoryUtil.memAllocInt(indices.length);&#xD;
    indicesBuffer.put(indices);&#xD;
    indicesBuffer.flip();&#xD;
    indicesCount = indices.length;&#xD;
    //Create vao&#xD;
    vaoID = glGenVertexArrays();&#xD;
    glBindVertexArray(vaoID);&#xD;
    //Store vertices data in vbo&#xD;
    vboID = glGenBuffers();&#xD;
    glBindBuffer(GL_ARRAY_BUFFER, vboID);&#xD;
    glBufferData(GL_ARRAY_BUFFER, dataBuffer, GL_STATIC_DRAW);&#xD;
    glBindBuffer(GL_ARRAY_BUFFER, 0);&#xD;
    glBindVertexArray(0);&#xD;
    //Indices VBO&#xD;
    indexVBO = glGenBuffers();&#xD;
    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, indexVBO);&#xD;
    glBufferData(GL_ELEMENT_ARRAY_BUFFER, indicesBuffer, GL_STATIC_DRAW);&#xD;
    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, 0);&#xD;
    //Free memory&#xD;
    MemoryUtil.memFree(dataBuffer);&#xD;
    MemoryUtil.memFree(indicesBuffer);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8FoT0HurEem9A9zbMJW8SQ" name="loadQuad" specification="_8FnFsHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    //Vertices positions, texture coordinates and normals&#xD;
    //		x,    y,    z,    u,  v,    nx, ny, nz&#xD;
    float[] data = { //0&#xD;
    -.5f, //0&#xD;
    -.5f, //0&#xD;
    0f, //0&#xD;
    0f, //0&#xD;
    0f, //0&#xD;
    0f, //0&#xD;
    0f, //0&#xD;
    1f, //1&#xD;
    .5f, //1&#xD;
    -.5f, //1&#xD;
    0f, //1&#xD;
    1f, //1&#xD;
    0f, //1&#xD;
    0f, //1&#xD;
    0f, //1&#xD;
    1f, //2&#xD;
    .5f, //2&#xD;
    .5f, //2&#xD;
    0f, //2&#xD;
    1f, //2&#xD;
    1f, //2&#xD;
    0f, //2&#xD;
    0f, //2&#xD;
    1f, //3&#xD;
    -.5f, //3&#xD;
    .5f, //3&#xD;
    0f, //3&#xD;
    0f, //3&#xD;
    1f, //3&#xD;
    0f, //3&#xD;
    0f, //3&#xD;
    1f };&#xD;
    int[] indices = { //Top triangle&#xD;
    0, //Top triangle&#xD;
    1, //Top triangle&#xD;
    2, //Bot triangle&#xD;
    2, //Bot triangle&#xD;
    3, //Bot triangle&#xD;
    0 };&#xD;
    return new Model(data, indices);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8Fr-MHurEem9A9zbMJW8SQ" name="loadDisk" specification="_8Fph8HurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    if (vertices &lt; 3)&#xD;
        vertices = 3;&#xD;
    float[] data = new float[(vertices + 1) * floatsPerVertex];&#xD;
    //Center&#xD;
    //x&#xD;
    data[0] = //x&#xD;
    0;&#xD;
    //y&#xD;
    data[1] = //y&#xD;
    0;&#xD;
    //z&#xD;
    data[2] = //z&#xD;
    0;&#xD;
    //u&#xD;
    data[3] = //u&#xD;
    .5f;&#xD;
    //v&#xD;
    data[4] = //v&#xD;
    .5f;&#xD;
    //nx&#xD;
    data[5] = 0;&#xD;
    //ny&#xD;
    data[6] = 0;&#xD;
    //nz&#xD;
    data[7] = 1;&#xD;
    int[] indices = new int[vertices * 3];&#xD;
    for (int i = 0; i &lt; vertices; i++) {&#xD;
        Vec2f v = Vec2f.fromAngle((2 * Math.PI * i) / (double) vertices);&#xD;
        v.multiply(.5f);&#xD;
        //Vertex ID (i+1 to skip 0 which is used as the center)&#xD;
        int vID = (i + 1) * (3 + 2 + 3);&#xD;
        //Vertices positions&#xD;
        //x&#xD;
        data[vID] = //x&#xD;
        v.x;&#xD;
        //y&#xD;
        data[//y&#xD;
        vID + 1] = v.y;&#xD;
        //z&#xD;
        data[//z&#xD;
        vID + 2] = 0;&#xD;
        //Texture coordinates&#xD;
        data[vID + 3] = (//u&#xD;
        float) //u&#xD;
        (v.x + .5);&#xD;
        data[vID + 4] = (//v&#xD;
        float) //v&#xD;
        (v.y + .5);&#xD;
        //Normal&#xD;
        //nx&#xD;
        data[vID + 5] = //nx&#xD;
        0;&#xD;
        //ny&#xD;
        data[vID + 6] = //ny&#xD;
        0;&#xD;
        //nz&#xD;
        data[vID + 7] = //nz&#xD;
        1;&#xD;
        int fID = i * 3;&#xD;
        indices[fID] = 0;&#xD;
        indices[fID + 1] = i + 1;&#xD;
        indices[fID + 2] = ((i + 1) % vertices) + 1;&#xD;
    }&#xD;
    return new Model(data, indices);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8F1vMHurEem9A9zbMJW8SQ" name="draw">
                <language>JAVA</language>
                <body>&#xD;
    glDrawElements(GL_TRIANGLES, indicesCount, GL_UNSIGNED_INT, 0);&#xD;
    Profiler.drawCalls++;&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8ExYMHurEem9A9zbMJW8SQ" name="loadModel" visibility="private" method="_8FjbUHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8EymUHurEem9A9zbMJW8SQ" name="data">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                  <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_8FRHcHurEem9A9zbMJW8SQ"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_8FUKwHurEem9A9zbMJW8SQ" value="*"/>
                </ownedParameter>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8FX1IHurEem9A9zbMJW8SQ" name="indices">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                  <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_8FcGkHurEem9A9zbMJW8SQ"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_8Fd7wHurEem9A9zbMJW8SQ" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8FnFsHurEem9A9zbMJW8SQ" name="loadQuad" visibility="public" isStatic="true" method="_8FoT0HurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8FnswHurEem9A9zbMJW8SQ" type="_8AmC0HurEem9A9zbMJW8SQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8Fph8HurEem9A9zbMJW8SQ" name="loadDisk" visibility="public" isStatic="true" method="_8Fr-MHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8FqJAHurEem9A9zbMJW8SQ" type="_8AmC0HurEem9A9zbMJW8SQ" direction="return"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8FqwEHurEem9A9zbMJW8SQ" name="vertices">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8FtMUHurEem9A9zbMJW8SQ" name="bindToShader" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8FtzYHurEem9A9zbMJW8SQ" name="shader" type="_7703kHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8F29UHurEem9A9zbMJW8SQ" name="draw" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8F4LcHurEem9A9zbMJW8SQ" name="wireframe">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8CXkcHurEem9A9zbMJW8SQ" name="Material" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8CrtgHurEem9A9zbMJW8SQ" name="model" visibility="public" type="_7-vosHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8Cs7oHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>null</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8CtisHurEem9A9zbMJW8SQ" name="view" visibility="public" type="_7-vosHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8Cuw0HurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>null</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8CvX4HurEem9A9zbMJW8SQ" name="proj" visibility="public" type="_7-vosHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8CwmAHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>null</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8C3TsHurEem9A9zbMJW8SQ" name="Material" specification="_8CzCQHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    this.shaderPath = shaderPath;&#xD;
    this.shader = Shader.loadShader(shaderPath);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8C36wHurEem9A9zbMJW8SQ" name="bind" specification="_8C3TsXurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    shader.bind();&#xD;
    model.bindToShader(shader);&#xD;
    if (this.model != null)&#xD;
        shader.setUniformM4(&quot;model&quot;, this.model);&#xD;
    if (this.view != null)&#xD;
        shader.setUniformM4(&quot;view&quot;, view);&#xD;
    if (this.proj != null)&#xD;
        shader.setUniformM4(&quot;projection&quot;, proj);&#xD;
    for (Entry&lt;String, Integer> entry : paramsI.entrySet()) shader.setUniformI(entry.getKey(), entry.getValue());&#xD;
    for (Entry&lt;String, Float> entry : paramsF.entrySet()) shader.setUniformF(entry.getKey(), entry.getValue());&#xD;
    for (Entry&lt;String, Vec2f> entry : paramsVec2f.entrySet()) shader.setUniformV2(entry.getKey(), entry.getValue());&#xD;
    for (Entry&lt;String, Vec3f> entry : paramsVec3f.entrySet()) shader.setUniformV3(entry.getKey(), entry.getValue());&#xD;
    for (Entry&lt;String, Vec4f> entry : paramsVec4f.entrySet()) shader.setUniformV4(entry.getKey(), entry.getValue());&#xD;
    int texSlot = 0;&#xD;
    for (Entry&lt;String, Texture> entry : paramsTex.entrySet()) {&#xD;
        //			glActiveTexture(GL_TEXTURE0);&#xD;
        entry.getValue().bind();&#xD;
        shader.setUniformI(entry.getKey(), texSlot);&#xD;
        texSlot++;&#xD;
    }&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8CzCQHurEem9A9zbMJW8SQ" name="Material" visibility="public" method="_8C3TsHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8C2soHurEem9A9zbMJW8SQ" name="shaderPath" type="_tbdQUHupEemZOa7va52DCQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8C3TsXurEem9A9zbMJW8SQ" name="bind" visibility="public" method="_8C36wHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8C3TsnurEem9A9zbMJW8SQ" name="model" type="_8AmC0HurEem9A9zbMJW8SQ"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Package" xmi:id="_8GhEoHurEem9A9zbMJW8SQ" name="fonts">
              <packagedElement xmi:type="uml:Class" xmi:id="_8Hn34HurEem9A9zbMJW8SQ" name="Text" visibility="public" isAbstract="true">
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8HyP8HurEem9A9zbMJW8SQ" name="align" visibility="private" type="_8HvMoHurEem9A9zbMJW8SQ" isUnique="false"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8HzeEHurEem9A9zbMJW8SQ" name="font" visibility="private" isUnique="false"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8H0sMHurEem9A9zbMJW8SQ" name="text" visibility="private" type="_tbdQUHupEemZOa7va52DCQ" isUnique="false"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8H16UHurEem9A9zbMJW8SQ" name="width" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8H3IcHurEem9A9zbMJW8SQ" name="model" visibility="private" type="_8AmC0HurEem9A9zbMJW8SQ" isUnique="false"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8H-dMHurEem9A9zbMJW8SQ" name="Text">
                  <language>JAVA</language>
                  <body>&#xD;
    this.font = font;&#xD;
    this.align = align;&#xD;
    this.text = text;&#xD;
    genModel();&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8INGsHurEem9A9zbMJW8SQ" name="genQuad">
                  <language>JAVA</language>
                  <body>&#xD;
    float x1 = startX + character.xOffset;&#xD;
    float y1 = startY + character.yOffset;&#xD;
    float x2 = x1 + character.width;&#xD;
    float y2 = y1 + character.height;&#xD;
    float u1 = character.x;&#xD;
    float v1 = character.y;&#xD;
    float u2 = character.x + character.width;&#xD;
    float v2 = character.y + character.height;&#xD;
    //		x,   y,  z,    u,  v,   nx, ny, nz&#xD;
    return new float[] { //0&#xD;
    x1, //0&#xD;
    y1, //0&#xD;
    0f, //0&#xD;
    u1, //0&#xD;
    v1, //0&#xD;
    0f, //0&#xD;
    0f, //0&#xD;
    1f, //1&#xD;
    x2, //1&#xD;
    y1, //1&#xD;
    0f, //1&#xD;
    u2, //1&#xD;
    v1, //1&#xD;
    0f, //1&#xD;
    0f, //1&#xD;
    1f, //2&#xD;
    x2, //2&#xD;
    y2, //2&#xD;
    0f, //2&#xD;
    u2, //2&#xD;
    v2, //2&#xD;
    0f, //2&#xD;
    0f, //2&#xD;
    1f, //3&#xD;
    x1, //3&#xD;
    y2, //3&#xD;
    0f, //3&#xD;
    u1, //3&#xD;
    v2, //3&#xD;
    0f, //3&#xD;
    0f, //3&#xD;
    1f };&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8IT0YHurEem9A9zbMJW8SQ" name="genIndices" specification="_8IO74HurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    int offset = 4 * character;&#xD;
    return new int[] { //Top triangle&#xD;
    offset + 0, //Top triangle&#xD;
    offset + 1, //Top triangle&#xD;
    offset + 2, //Bot triangle&#xD;
    offset + 2, //Bot triangle&#xD;
    offset + 3, //Bot triangle&#xD;
    offset + 0 };&#xD;
</body>
                </ownedBehavior>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_8IO74HurEem9A9zbMJW8SQ" name="genIndices" visibility="private" isStatic="true" method="_8IT0YHurEem9A9zbMJW8SQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_8IQKAHurEem9A9zbMJW8SQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                    <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_8IQxEHurEem9A9zbMJW8SQ"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_8IRYIHurEem9A9zbMJW8SQ" value="*"/>
                  </ownedParameter>
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_8IR_MHurEem9A9zbMJW8SQ" name="character">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                  </ownedParameter>
                </ownedOperation>
                <nestedClassifier xmi:type="uml:Enumeration" xmi:id="_8Hoe8HurEem9A9zbMJW8SQ" name="TextAlignH" visibility="public">
                  <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8Hq7MHurEem9A9zbMJW8SQ" name="LEFT"/>
                  <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8HsJUHurEem9A9zbMJW8SQ" name="RIGHT"/>
                  <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8HtXcHurEem9A9zbMJW8SQ" name="CENTER"/>
                </nestedClassifier>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_8HvMoHurEem9A9zbMJW8SQ" name="TextAlignH"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_jDrDsHvWEemtSbXqvSvPoQ" name="Font" visibility="public">
                <ownedAttribute xmi:type="uml:Property" xmi:id="_jDrqwHvWEemtSbXqvSvPoQ" name="fonts" visibility="private" isStatic="true" type="_tebr0HupEemZOa7va52DCQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_jDsR0HvWEemtSbXqvSvPoQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>new HashMap&lt;>()</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_jDs44HvWEemtSbXqvSvPoQ" name="path" visibility="private" isLeaf="true" type="_tbdQUHupEemZOa7va52DCQ" isUnique="false"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_jDuHAHvWEemtSbXqvSvPoQ" name="scaleW" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_jDuuEHvWEemtSbXqvSvPoQ" name="scaleH" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_jDxKUXvWEemtSbXqvSvPoQ" name="tex" visibility="private" type="_7vwKcHurEem9A9zbMJW8SQ" isUnique="false"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_jDxxYHvWEemtSbXqvSvPoQ" name="chars" visibility="private" type="_tebr0HupEemZOa7va52DCQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_jDxxYXvWEemtSbXqvSvPoQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>new HashMap&lt;>()</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_jDxxYnvWEemtSbXqvSvPoQ" name="padding" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                  <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_jDxxY3vWEemtSbXqvSvPoQ"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_jDyYcHvWEemtSbXqvSvPoQ" value="*"/>
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_jDyYcXvWEemtSbXqvSvPoQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>new int[4]</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_jD00sHvWEemtSbXqvSvPoQ" name="Font" specification="_jDyYcnvWEemtSbXqvSvPoQ">
                  <language>JAVA</language>
                  <body>&#xD;
    this.path = path;&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_jD2p4HvWEemtSbXqvSvPoQ" name="getTexture" specification="_jD2C0HvWEemtSbXqvSvPoQ">
                  <language>JAVA</language>
                  <body>&#xD;
    return tex;&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_jD6UQHvWEemtSbXqvSvPoQ" name="loadFont" specification="_jD5GIHvWEemtSbXqvSvPoQ">
                  <language>JAVA</language>
                  <body>&#xD;
    //Check if the font has already been loaded&#xD;
    Font font = fonts.get(path);&#xD;
    if (font != null)&#xD;
        return font;&#xD;
    else&#xD;
        font = new Font(path);&#xD;
    //Attempt to load fnt file&#xD;
    File fileFnt = new File(path);&#xD;
    BufferedReader reader = null;&#xD;
    try {&#xD;
        reader = new BufferedReader(new FileReader(fileFnt));&#xD;
        String line = &quot;&quot;;&#xD;
        while ((line = reader.readLine()) != null) {&#xD;
            readLine(font, line);&#xD;
        }&#xD;
        reader.close();&#xD;
    } catch (Exception e) {&#xD;
        Window.log.error(&quot;Could not load font : &quot; + path);&#xD;
        e.printStackTrace();&#xD;
        return null;&#xD;
    }&#xD;
    return font;&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_jD8wgXvWEemtSbXqvSvPoQ" name="readLine" specification="_jD8JcHvWEemtSbXqvSvPoQ">
                  <language>JAVA</language>
                  <body>&#xD;
    String[] parts = line.split(&quot; &quot;);&#xD;
    if (parts.length > 0) {&#xD;
        switch(parts[0]) {&#xD;
            case &quot;info&quot;:&#xD;
                readInfo(font, parts);&#xD;
                break;&#xD;
            case &quot;common&quot;:&#xD;
                readCommon(font, parts);&#xD;
                break;&#xD;
            case &quot;page&quot;:&#xD;
                readPageInfo(font, parts);&#xD;
                break;&#xD;
            case //No need to read this because HashMap doesn't have a fixed size&#xD;
            &quot;chars&quot;:&#xD;
                break;&#xD;
            case &quot;char&quot;:&#xD;
                readChar(font, parts);&#xD;
                break;&#xD;
            case //TODO: Implement kernings&#xD;
            &quot;kernings&quot;:&#xD;
                break;&#xD;
            case &quot;kerning&quot;:&#xD;
                break;&#xD;
            default:&#xD;
                break;&#xD;
        }&#xD;
    }&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_jD9-oHvWEemtSbXqvSvPoQ" name="readInfo" specification="_jD8wgnvWEemtSbXqvSvPoQ">
                  <language>JAVA</language>
                  <body>&#xD;
    for (//For each key-value pair&#xD;
    int i = 1; //For each key-value pair&#xD;
    i &lt; line.length; //For each key-value pair&#xD;
    i++) {&#xD;
        //Split key and value&#xD;
        String[] parts = line[i].split(&quot;=&quot;);&#xD;
        switch(//Switch on key&#xD;
        parts[0]) {&#xD;
            case &quot;padding&quot;:&#xD;
                //Split int array&#xD;
                String[] sides = parts[1].split(&quot;,&quot;);&#xD;
                for (int side = 0; side &lt; 4; side++) font.padding[side] = Integer.parseInt(sides[side]);&#xD;
                break;&#xD;
            default:&#xD;
                break;&#xD;
        }&#xD;
    }&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_jEAa4HvWEemtSbXqvSvPoQ" name="readCommon" specification="_jD9-oXvWEemtSbXqvSvPoQ">
                  <language>JAVA</language>
                  <body>&#xD;
    for (//For each key-value pair&#xD;
    int i = 1; //For each key-value pair&#xD;
    i &lt; line.length; //For each key-value pair&#xD;
    i++) {&#xD;
        //Split key and value&#xD;
        String[] parts = line[i].split(&quot;=&quot;);&#xD;
        switch(//Switch on key&#xD;
        parts[0]) {&#xD;
            case &quot;scaleW&quot;:&#xD;
                font.scaleW = Integer.parseInt(parts[1]);&#xD;
                break;&#xD;
            case &quot;scaleH&quot;:&#xD;
                font.scaleH = Integer.parseInt(parts[1]);&#xD;
                break;&#xD;
            default:&#xD;
                break;&#xD;
        }&#xD;
    }&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_jEBpAHvWEemtSbXqvSvPoQ" name="readPageInfo" specification="_jEAa4XvWEemtSbXqvSvPoQ">
                  <language>JAVA</language>
                  <body>&#xD;
    for (//For each key-value pair&#xD;
    int i = 1; //For each key-value pair&#xD;
    i &lt; line.length; //For each key-value pair&#xD;
    i++) {&#xD;
        //Split key and value&#xD;
        String[] parts = line[i].split(&quot;=&quot;);&#xD;
        switch(//Switch on key&#xD;
        parts[0]) {&#xD;
            case &quot;file&quot;:&#xD;
                int lastIndex = font.path.lastIndexOf(&quot;/&quot;);&#xD;
                String texturePath = parts[1].substring(1, parts[1].length() - 1);&#xD;
                if (lastIndex >= 0)&#xD;
                    texturePath = font.path.substring(0, lastIndex) + '/' + texturePath;&#xD;
                font.tex = Texture.loadTexture(texturePath);&#xD;
                break;&#xD;
            default:&#xD;
                break;&#xD;
        }&#xD;
    }&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_jEC3InvWEemtSbXqvSvPoQ" name="readChar" specification="_jEBpAXvWEemtSbXqvSvPoQ">
                  <language>JAVA</language>
                  <body>&#xD;
    int id = 0, x = 0, y = 0, width = 0, height = 0, xOffset = 0, yOffset = 0, xAdvance = 0;&#xD;
    for (//For each key-value pair&#xD;
    int i = 1; //For each key-value pair&#xD;
    i &lt; line.length; //For each key-value pair&#xD;
    i++) {&#xD;
        //Split key and value&#xD;
        String[] parts = line[i].split(&quot;=&quot;);&#xD;
        switch(//Switch on key&#xD;
        parts[0]) {&#xD;
            case &quot;id&quot;:&#xD;
                id = Integer.parseInt(parts[1]);&#xD;
                break;&#xD;
            case &quot;x&quot;:&#xD;
                x = Integer.parseInt(parts[1]);&#xD;
                break;&#xD;
            case &quot;y&quot;:&#xD;
                y = Integer.parseInt(parts[1]);&#xD;
                break;&#xD;
            case &quot;width&quot;:&#xD;
                width = Integer.parseInt(parts[1]);&#xD;
                break;&#xD;
            case &quot;height&quot;:&#xD;
                height = Integer.parseInt(parts[1]);&#xD;
                break;&#xD;
            case &quot;xoffset&quot;:&#xD;
                xOffset = Integer.parseInt(parts[1]);&#xD;
                break;&#xD;
            case &quot;yoffset&quot;:&#xD;
                yOffset = Integer.parseInt(parts[1]);&#xD;
                break;&#xD;
            case &quot;xadvance&quot;:&#xD;
                xAdvance = Integer.parseInt(parts[1]);&#xD;
                break;&#xD;
            default:&#xD;
                break;&#xD;
        }&#xD;
    }&#xD;
    FontChar newChar = font.new FontChar((float) x / font.scaleW, (float) y / font.scaleH, (float) width / font.scaleW, (float) height / font.scaleH, (float) xOffset / font.scaleW, (float) yOffset / font.scaleH, (float) xAdvance / font.scaleW);&#xD;
    font.chars.put((char) id, newChar);&#xD;
</body>
                </ownedBehavior>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_jDyYcnvWEemtSbXqvSvPoQ" name="Font" visibility="private" method="_jD00sHvWEemtSbXqvSvPoQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_jD0NoXvWEemtSbXqvSvPoQ" name="path" type="_tbdQUHupEemZOa7va52DCQ"/>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_jD2C0HvWEemtSbXqvSvPoQ" name="getTexture" visibility="public" method="_jD2p4HvWEemtSbXqvSvPoQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_jD2C0XvWEemtSbXqvSvPoQ" type="_7vwKcHurEem9A9zbMJW8SQ" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_jD5GIHvWEemtSbXqvSvPoQ" name="loadFont" visibility="public" isStatic="true" method="_jD6UQHvWEemtSbXqvSvPoQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_jD5GIXvWEemtSbXqvSvPoQ" type="_jDrDsHvWEemtSbXqvSvPoQ" direction="return"/>
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_jD5tMHvWEemtSbXqvSvPoQ" name="path" type="_tbdQUHupEemZOa7va52DCQ"/>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_jD8JcHvWEemtSbXqvSvPoQ" name="readLine" visibility="private" isStatic="true" method="_jD8wgXvWEemtSbXqvSvPoQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_jD8JcXvWEemtSbXqvSvPoQ" name="font" type="_jDrDsHvWEemtSbXqvSvPoQ"/>
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_jD8wgHvWEemtSbXqvSvPoQ" name="line" type="_tbdQUHupEemZOa7va52DCQ"/>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_jD8wgnvWEemtSbXqvSvPoQ" name="readInfo" visibility="private" isStatic="true" method="_jD9-oHvWEemtSbXqvSvPoQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_jD9XkHvWEemtSbXqvSvPoQ" name="font" type="_jDrDsHvWEemtSbXqvSvPoQ"/>
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_jD9XkXvWEemtSbXqvSvPoQ" name="line" type="_tbdQUHupEemZOa7va52DCQ">
                    <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_jD9XknvWEemtSbXqvSvPoQ"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_jD9Xk3vWEemtSbXqvSvPoQ" value="*"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_jD9-oXvWEemtSbXqvSvPoQ" name="readCommon" visibility="private" isStatic="true" method="_jEAa4HvWEemtSbXqvSvPoQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_jD-lsHvWEemtSbXqvSvPoQ" name="font" type="_jDrDsHvWEemtSbXqvSvPoQ"/>
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_jD-lsXvWEemtSbXqvSvPoQ" name="line" type="_tbdQUHupEemZOa7va52DCQ">
                    <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_jD_MwHvWEemtSbXqvSvPoQ"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_jD_MwXvWEemtSbXqvSvPoQ" value="*"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_jEAa4XvWEemtSbXqvSvPoQ" name="readPageInfo" visibility="private" isStatic="true" method="_jEBpAHvWEemtSbXqvSvPoQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_jEBB8HvWEemtSbXqvSvPoQ" name="font" type="_jDrDsHvWEemtSbXqvSvPoQ"/>
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_jEBB8XvWEemtSbXqvSvPoQ" name="line" type="_tbdQUHupEemZOa7va52DCQ">
                    <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_jEBB8nvWEemtSbXqvSvPoQ"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_jEBB83vWEemtSbXqvSvPoQ" value="*"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_jEBpAXvWEemtSbXqvSvPoQ" name="readChar" visibility="private" isStatic="true" method="_jEC3InvWEemtSbXqvSvPoQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_jEBpAnvWEemtSbXqvSvPoQ" name="font" type="_jDrDsHvWEemtSbXqvSvPoQ"/>
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_jECQEHvWEemtSbXqvSvPoQ" name="line" type="_tbdQUHupEemZOa7va52DCQ">
                    <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_jEC3IHvWEemtSbXqvSvPoQ"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_jEC3IXvWEemtSbXqvSvPoQ" value="*"/>
                  </ownedParameter>
                </ownedOperation>
                <nestedClassifier xmi:type="uml:Class" xmi:id="_jEDeMHvWEemtSbXqvSvPoQ" name="FontChar" visibility="protected">
                  <ownedAttribute xmi:type="uml:Property" xmi:id="_jEEFQHvWEemtSbXqvSvPoQ" name="x" visibility="private" isLeaf="true" isUnique="false">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:type="uml:Property" xmi:id="_jEEFQXvWEemtSbXqvSvPoQ" name="y" visibility="private" isLeaf="true" isUnique="false">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:type="uml:Property" xmi:id="_jEEsUHvWEemtSbXqvSvPoQ" name="width" visibility="private" isLeaf="true" isUnique="false">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:type="uml:Property" xmi:id="_jEEsUXvWEemtSbXqvSvPoQ" name="height" visibility="private" isLeaf="true" isUnique="false">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:type="uml:Property" xmi:id="_jEEsUnvWEemtSbXqvSvPoQ" name="xOffset" visibility="private" isLeaf="true" isUnique="false">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:type="uml:Property" xmi:id="_jEEsU3vWEemtSbXqvSvPoQ" name="yOffset" visibility="private" isLeaf="true" isUnique="false">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:type="uml:Property" xmi:id="_jEFTYHvWEemtSbXqvSvPoQ" name="xAdvance" visibility="private" isLeaf="true" isUnique="false">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                  </ownedAttribute>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_jEIWsnvWEemtSbXqvSvPoQ" name="FontChar" specification="_jEFTYXvWEemtSbXqvSvPoQ">
                    <language>JAVA</language>
                    <body>&#xD;
    this.x = x;&#xD;
    this.y = y;&#xD;
    this.width = width;&#xD;
    this.height = height;&#xD;
    this.xOffset = xOffset;&#xD;
    this.yOffset = yOffset;&#xD;
    this.xAdvance = xAdvance;&#xD;
</body>
                  </ownedBehavior>
                  <ownedOperation xmi:type="uml:Operation" xmi:id="_jEFTYXvWEemtSbXqvSvPoQ" name="FontChar" visibility="private" method="_jEIWsnvWEemtSbXqvSvPoQ">
                    <ownedParameter xmi:type="uml:Parameter" xmi:id="_jEHIkHvWEemtSbXqvSvPoQ" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                    </ownedParameter>
                    <ownedParameter xmi:type="uml:Parameter" xmi:id="_jEHvoHvWEemtSbXqvSvPoQ" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                    </ownedParameter>
                    <ownedParameter xmi:type="uml:Parameter" xmi:id="_jEHvoXvWEemtSbXqvSvPoQ" name="width">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                    </ownedParameter>
                    <ownedParameter xmi:type="uml:Parameter" xmi:id="_jEHvonvWEemtSbXqvSvPoQ" name="height">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                    </ownedParameter>
                    <ownedParameter xmi:type="uml:Parameter" xmi:id="_jEHvo3vWEemtSbXqvSvPoQ" name="xOffset">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                    </ownedParameter>
                    <ownedParameter xmi:type="uml:Parameter" xmi:id="_jEIWsHvWEemtSbXqvSvPoQ" name="yOffset">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                    </ownedParameter>
                    <ownedParameter xmi:type="uml:Parameter" xmi:id="_jEIWsXvWEemtSbXqvSvPoQ" name="xAdvance">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                    </ownedParameter>
                  </ownedOperation>
                </nestedClassifier>
              </packagedElement>
            </packagedElement>
            <packagedElement xmi:type="uml:Package" xmi:id="_8IYs4HurEem9A9zbMJW8SQ" name="particles">
              <packagedElement xmi:type="uml:Class" xmi:id="_8IaiEHurEem9A9zbMJW8SQ" name="EmitterSparks" isAbstract="true">
                <generalization xmi:type="uml:Generalization" xmi:id="_8IbwMHurEem9A9zbMJW8SQ" general="_8IbJIHurEem9A9zbMJW8SQ"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8Ic-UHurEem9A9zbMJW8SQ" name="data" visibility="private" isLeaf="true" type="_8IcXQHurEem9A9zbMJW8SQ" isUnique="false"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8IeMcHurEem9A9zbMJW8SQ" name="positions" visibility="private" type="_tdf3sXupEemZOa7va52DCQ" isUnique="false">
                  <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_8IfakHurEem9A9zbMJW8SQ"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_8IgBoHurEem9A9zbMJW8SQ" value="*"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8IgosHurEem9A9zbMJW8SQ" name="velocities" visibility="private" type="_tdf3sXupEemZOa7va52DCQ" isUnique="false">
                  <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_8IhPwHurEem9A9zbMJW8SQ"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_8Ih20HurEem9A9zbMJW8SQ" value="*"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8Iid4HurEem9A9zbMJW8SQ" name="lives" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_MtpDAPaLEeW5KOK8aDMdgA"/>
                  <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_8IjE8HurEem9A9zbMJW8SQ"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_8IjsAHurEem9A9zbMJW8SQ" value="*"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8IkTEHurEem9A9zbMJW8SQ" name="livesTotal" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_MtpDAPaLEeW5KOK8aDMdgA"/>
                  <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_8IlhMHurEem9A9zbMJW8SQ"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_8IlhMXurEem9A9zbMJW8SQ" value="*"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8Irn0HurEem9A9zbMJW8SQ" name="EmitterSparks">
                  <language>JAVA</language>
                  <body>&#xD;
    super(owner, data);&#xD;
    this.data = data;&#xD;
    shader = Shader.loadShader(&quot;data/shaders/particle_simple&quot;);&#xD;
    int capacity = (remaining > 0) ? remaining : (int) (rate * lifetimeMax) + 1;&#xD;
    positions = new ArrayList&lt;Vec2f>(capacity);&#xD;
    velocities = new ArrayList&lt;Vec2f>(capacity);&#xD;
    lives = new ArrayList&lt;Float>(capacity);&#xD;
    livesTotal = new ArrayList&lt;Float>(capacity);&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8Iv5QHurEem9A9zbMJW8SQ" name="update" specification="_8Is18HurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    super.update(delta);&#xD;
    //Force = current map gravity&#xD;
    Vec2f force = Vec2f.multiply(GameMaster.gm.getMap().gravity, data.gravityScale);&#xD;
    for (int i = positions.size() - 1; i >= 0; i--) {&#xD;
        if (lives.get(i) > 0) {&#xD;
            velocities.get(i).add(Vec2f.multiply(force, (float) delta));&#xD;
            positions.get(i).add(Vec2f.multiply(velocities.get(i), (float) delta));&#xD;
            lives.set(i, lives.get(i) - (float) delta);&#xD;
        } else {&#xD;
            positions.remove(i);&#xD;
            velocities.remove(i);&#xD;
            lives.remove(i);&#xD;
            livesTotal.remove(i);&#xD;
        }&#xD;
    }&#xD;
    //Return true if all particles are dead and none are left to spawn&#xD;
    return remaining == 0 &amp;&amp; positions.isEmpty();&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8Iy8kHurEem9A9zbMJW8SQ" name="spawn" specification="_8IxHYHurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    for (int i = 0; i &lt; count; i++) {&#xD;
        positions.add(new Vec2f(owner.position.x, owner.position.y));&#xD;
        //Random velocity vector from angle and velocity&#xD;
        Vec2f vel = Vec2f.fromAngle(Utils.lerpF(angleMin, angleMax, Math.random()));&#xD;
        vel.multiply(Utils.lerpF(velocityMin, velocityMax, Math.random()));&#xD;
        velocities.add(vel);&#xD;
        float life = (float) ((Math.random() * (lifetimeMax - lifetimeMin)) + lifetimeMin);&#xD;
        lives.add(life);&#xD;
        livesTotal.add(life);&#xD;
    }&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8I1_4HurEem9A9zbMJW8SQ" name="draw" specification="_8I0xwHurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    shader.bind();&#xD;
    //Get matrices&#xD;
    shader.setUniformM4(&quot;view&quot;, Window.getView());&#xD;
    shader.setUniformM4(&quot;projection&quot;, Window.proj);&#xD;
    model.bindToShader(shader);&#xD;
    //Bind texture&#xD;
    glActiveTexture(GL_TEXTURE0);&#xD;
    tex.bind();&#xD;
    shader.setUniformI(&quot;baseColor&quot;, 0);&#xD;
    model.bind();&#xD;
    for (int i = 0; i &lt; positions.size(); i++) {&#xD;
        float lifetime = lives.get(i) / livesTotal.get(i);&#xD;
        Vec3f pos = new Vec3f(positions.get(i).x, positions.get(i).y, owner.position.z);&#xD;
        Quat rot = Quat.fromAngle(velocities.get(i).angle());&#xD;
        Vec3f scale = new Vec3f(160 * lifetime, 35 * lifetime, 1);&#xD;
        Mat4f modelM = Mat4f.transform(pos, rot, scale);&#xD;
        shader.setUniformM4(&quot;model&quot;, modelM);&#xD;
        shader.setUniformV4(&quot;baseColorMod&quot;, Vec4f.lerp(colorEnd, colorStart, lifetime));&#xD;
        model.draw();&#xD;
    }&#xD;
</body>
                </ownedBehavior>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_8Is18HurEem9A9zbMJW8SQ" name="update" visibility="private" method="_8Iv5QHurEem9A9zbMJW8SQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_8IuEEHurEem9A9zbMJW8SQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                  </ownedParameter>
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_8IurIHurEem9A9zbMJW8SQ" name="delta">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_8IxHYHurEem9A9zbMJW8SQ" name="spawn" visibility="private" method="_8Iy8kHurEem9A9zbMJW8SQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_8IxucHurEem9A9zbMJW8SQ" name="count">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_8I0xwHurEem9A9zbMJW8SQ" name="draw" visibility="private" method="_8I1_4HurEem9A9zbMJW8SQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_8IbJIHurEem9A9zbMJW8SQ" name="Emitter" isAbstract="true">
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8LfrQHurEem9A9zbMJW8SQ" name="model" visibility="protected" isLeaf="true" isStatic="true" type="_8AmC0HurEem9A9zbMJW8SQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8LiHgHurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>Model.loadQuad()</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8LiukHurEem9A9zbMJW8SQ" name="owner" visibility="protected" isLeaf="true" type="_8ImIQHurEem9A9zbMJW8SQ" isUnique="false"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8LkjwHurEem9A9zbMJW8SQ" name="duration" visibility="private" isLeaf="true" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8LmY8HurEem9A9zbMJW8SQ" name="delay" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8LoOIHurEem9A9zbMJW8SQ" name="rate" visibility="private" isLeaf="true" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8LqDUHurEem9A9zbMJW8SQ" name="remaining" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8LrRcHurEem9A9zbMJW8SQ" name="particlesToSpawn" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8LsfkHurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>0</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8LttsHurEem9A9zbMJW8SQ" name="material" visibility="private" type="_8CXkcHurEem9A9zbMJW8SQ" isUnique="false"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8Lu70HurEem9A9zbMJW8SQ" name="shader" visibility="private" type="_7703kHurEem9A9zbMJW8SQ" isUnique="false"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8LwJ8HurEem9A9zbMJW8SQ" name="tex" visibility="private" type="_7vwKcHurEem9A9zbMJW8SQ" isUnique="false"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8LwxAHurEem9A9zbMJW8SQ" name="lifetimeMin" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8LymMHurEem9A9zbMJW8SQ" name="lifetimeMax" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8Lz0UHurEem9A9zbMJW8SQ" name="colorStart" visibility="private" isLeaf="true" type="_teG7sHupEemZOa7va52DCQ" isUnique="false"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8L1CcHurEem9A9zbMJW8SQ" name="colorEnd" visibility="private" isLeaf="true" type="_teG7sHupEemZOa7va52DCQ" isUnique="false"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8L23oHurEem9A9zbMJW8SQ" name="angleMin" visibility="private" isLeaf="true" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8L4FwHurEem9A9zbMJW8SQ" name="angleMax" visibility="private" isLeaf="true" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8L568HurEem9A9zbMJW8SQ" name="velocityMin" visibility="private" isLeaf="true" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8L7JEHurEem9A9zbMJW8SQ" name="velocityMax" visibility="private" isLeaf="true" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8MAooHurEem9A9zbMJW8SQ" name="Emitter">
                  <language>JAVA</language>
                  <body>&#xD;
    this.owner = owner;&#xD;
    tex = data.tex;&#xD;
    duration = data.duration;&#xD;
    delay = data.delay;&#xD;
    rate = data.rate;&#xD;
    if (//Burst&#xD;
    duration == 0)&#xD;
        remaining = (int) rate;&#xD;
    else if (//Infinite&#xD;
    duration &lt; 0)&#xD;
        remaining = -1;&#xD;
    else&#xD;
        remaining = (int) Math.max(1, rate * duration);&#xD;
    //Lifetime&#xD;
    lifetimeMin = data.lifetimeMin;&#xD;
    lifetimeMax = data.lifetimeMax;&#xD;
    //Colors&#xD;
    colorStart = data.colorStart;&#xD;
    colorEnd = data.colorEnd;&#xD;
    //Angle&#xD;
    angleMin = data.angleMin;&#xD;
    angleMax = data.angleMax;&#xD;
    //Initial velocity&#xD;
    velocityMin = data.velocityMin;&#xD;
    velocityMax = data.velocityMax;&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8MDr8HurEem9A9zbMJW8SQ" name="update" specification="_8MB2wHurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    if (delay > 0) {&#xD;
        delay -= delta;&#xD;
        return false;&#xD;
    }&#xD;
    if (//Inifinite&#xD;
    remaining == -1) {&#xD;
        //Add particle count, depending on framerate&#xD;
        particlesToSpawn += rate * delta;&#xD;
        //Floor the value to get the number of full particles&#xD;
        int newParticles = (int) Math.floor(particlesToSpawn);&#xD;
        //Spawn the particles&#xD;
        spawn(newParticles);&#xD;
        //Update counters&#xD;
        particlesToSpawn -= newParticles;&#xD;
    } else if (//Need to spawn more particles&#xD;
    remaining > 0)&#xD;
        if (//Burst&#xD;
        duration == 0) {&#xD;
            spawn(remaining);&#xD;
            remaining = 0;&#xD;
        } else //Spawn over time&#xD;
        {&#xD;
            //Add particle count, depending on framerate&#xD;
            particlesToSpawn += rate * delta;&#xD;
            //Floor the value to get the number of full particles&#xD;
            int newParticles = (int) Math.floor(particlesToSpawn);&#xD;
            //Make sure we don't spawn more particles than needed&#xD;
            newParticles = Math.min(newParticles, remaining);&#xD;
            //Spawn the particles&#xD;
            spawn(newParticles);&#xD;
            //Update counters&#xD;
            remaining -= newParticles;&#xD;
            particlesToSpawn -= newParticles;&#xD;
        }&#xD;
    return false;&#xD;
</body>
                </ownedBehavior>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_8MB2wHurEem9A9zbMJW8SQ" name="update" visibility="private" method="_8MDr8HurEem9A9zbMJW8SQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_8MB2wXurEem9A9zbMJW8SQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                  </ownedParameter>
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_8MCd0HurEem9A9zbMJW8SQ" name="delta">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_8ME6EHurEem9A9zbMJW8SQ" name="spawn" visibility="private" isAbstract="true">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_8MFhIHurEem9A9zbMJW8SQ" name="count">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_8MGvQHurEem9A9zbMJW8SQ" name="draw" visibility="private" isAbstract="true"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_8IcXQHurEem9A9zbMJW8SQ" name="EmitterTemplateSparks" visibility="public" isAbstract="true">
                <generalization xmi:type="uml:Generalization" xmi:id="_8LMwUHurEem9A9zbMJW8SQ" general="_8I6RUHurEem9A9zbMJW8SQ"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8LcA4HurEem9A9zbMJW8SQ" name="EmitterTemplateSparks">
                  <language>JAVA</language>
                  <body>&#xD;
    super(texture, duration, delay, rate, lifetimeMin, lifetimeMax, colorStart, colorEnd, angleMin, angleMax, velocityMin, velocityMax, gravityScale);&#xD;
//		shader = Shader.loadShader(&quot;data/shaders/particle_simple&quot;);&#xD;
</body>
                </ownedBehavior>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_8ImIQHurEem9A9zbMJW8SQ" name="ParticleSystem" visibility="public" isAbstract="true">
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8KOf8HurEem9A9zbMJW8SQ" name="cache" visibility="private" isStatic="true" type="_tebr0HupEemZOa7va52DCQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8KPuEHurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>new HashMap&lt;>()</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8KQVIHurEem9A9zbMJW8SQ" name="emitters" visibility="private" type="_8IbJIHurEem9A9zbMJW8SQ" isUnique="false">
                  <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_8KRjQHurEem9A9zbMJW8SQ"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_8KSKUHurEem9A9zbMJW8SQ" value="*"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8KSxYHurEem9A9zbMJW8SQ" name="position" visibility="public" type="_tf2BEXupEemZOa7va52DCQ" isUnique="false"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8KXp4HurEem9A9zbMJW8SQ" name="ParticleSystem">
                  <language>JAVA</language>
                  <body>&#xD;
    this.position = new Vec3f();&#xD;
    emitters = new ArrayList&lt;Emitter>();&#xD;
    for (EmitterTemplate emitterData : data) {&#xD;
        if (emitterData instanceof EmitterTemplateBasic)&#xD;
            emitters.add(new EmitterBasic(this, (EmitterTemplateBasic) emitterData));&#xD;
        else if (emitterData instanceof EmitterTemplateSparks)&#xD;
            emitters.add(new EmitterSparks(this, (EmitterTemplateSparks) emitterData));&#xD;
    }&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8KbUQHurEem9A9zbMJW8SQ" name="load" specification="_8KY4AHurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    EmitterTemplate[] emitters = cache.get(path);&#xD;
    if (emitters != null)&#xD;
        return new ParticleSystem(emitters);&#xD;
    emitters = ParticlesXmlReader.read(path);&#xD;
    cache.put(path, emitters);&#xD;
    return new ParticleSystem(emitters);&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8KeXkHurEem9A9zbMJW8SQ" name="update" specification="_8KciYHurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    for (int i = emitters.size() - 1; i >= 0; i--) {&#xD;
        if (emitters.get(i).update(delta))&#xD;
            emitters.remove(i);&#xD;
    }&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8Kgz0HurEem9A9zbMJW8SQ" name="ended" specification="_8KflsHurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    return emitters.isEmpty();&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8KipAHurEem9A9zbMJW8SQ" name="draw" specification="_8KiB8HurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    Profiler.startTimer(Profiler.PARTICLES);&#xD;
    for (Emitter e : emitters) e.draw();&#xD;
    Profiler.endTimer(Profiler.PARTICLES);&#xD;
</body>
                </ownedBehavior>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_8KY4AHurEem9A9zbMJW8SQ" name="load" visibility="public" isStatic="true" method="_8KbUQHurEem9A9zbMJW8SQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_8KZfEHurEem9A9zbMJW8SQ" type="_8ImIQHurEem9A9zbMJW8SQ" direction="return"/>
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_8KatMHurEem9A9zbMJW8SQ" name="path" type="_tbdQUHupEemZOa7va52DCQ"/>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_8KciYHurEem9A9zbMJW8SQ" name="update" visibility="public" method="_8KeXkHurEem9A9zbMJW8SQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_8KdwgHurEem9A9zbMJW8SQ" name="delta">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_8KflsHurEem9A9zbMJW8SQ" name="ended" visibility="public" method="_8Kgz0HurEem9A9zbMJW8SQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_8KgMwHurEem9A9zbMJW8SQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_8KiB8HurEem9A9zbMJW8SQ" name="draw" visibility="public" method="_8KipAHurEem9A9zbMJW8SQ"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_8I5DMHurEem9A9zbMJW8SQ" name="EmitterTemplateBasic" visibility="public" isAbstract="true">
                <generalization xmi:type="uml:Generalization" xmi:id="_8I8tkHurEem9A9zbMJW8SQ" general="_8I6RUHurEem9A9zbMJW8SQ"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8I_w4HurEem9A9zbMJW8SQ" name="sizeInitial" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8JGekHurEem9A9zbMJW8SQ" name="sizeEnd" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8JlmwHurEem9A9zbMJW8SQ" name="EmitterTemplateBasic">
                  <language>JAVA</language>
                  <body>&#xD;
    super(texture, duration, delay, rate, lifetimeMin, lifetimeMax, colorStart, colorEnd, angleMin, angleMax, velocityMin, velocityMax, gravityScale);&#xD;
    this.sizeInitial = sizeInitial;&#xD;
    this.sizeEnd = sizeEnd;&#xD;
//		shader = Shader.loadShader(&quot;data/shaders/particle_simple&quot;);&#xD;
</body>
                </ownedBehavior>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_8I6RUHurEem9A9zbMJW8SQ" name="EmitterTemplate" visibility="public" isAbstract="true">
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8Km6cHurEem9A9zbMJW8SQ" name="duration" visibility="private" isLeaf="true" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8KoIkHurEem9A9zbMJW8SQ" name="delay" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8KovoHurEem9A9zbMJW8SQ" name="rate" visibility="private" isLeaf="true" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8Kqk0HurEem9A9zbMJW8SQ" name="remaining" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8KsaAHurEem9A9zbMJW8SQ" name="particlesToSpawn" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8KtBEHurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>0</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8KtoIHurEem9A9zbMJW8SQ" name="gravityScale" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8KuPMHurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>1</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8KvdUHurEem9A9zbMJW8SQ" name="tex" visibility="private" type="_7vwKcHurEem9A9zbMJW8SQ" isUnique="false"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8KwrcHurEem9A9zbMJW8SQ" name="lifetimeMin" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8Kx5kHurEem9A9zbMJW8SQ" name="lifetimeMax" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8KygoHurEem9A9zbMJW8SQ" name="colorStart" visibility="private" isLeaf="true" type="_teG7sHupEemZOa7va52DCQ" isUnique="false"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8KzuwHurEem9A9zbMJW8SQ" name="colorEnd" visibility="private" isLeaf="true" type="_teG7sHupEemZOa7va52DCQ" isUnique="false"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8K1j8HurEem9A9zbMJW8SQ" name="angleMin" visibility="private" isLeaf="true" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8K2yEHurEem9A9zbMJW8SQ" name="angleMax" visibility="private" isLeaf="true" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8K3ZIHurEem9A9zbMJW8SQ" name="velocityMin" visibility="private" isLeaf="true" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8K4nQHurEem9A9zbMJW8SQ" name="velocityMax" visibility="private" isLeaf="true" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8LKUEHurEem9A9zbMJW8SQ" name="EmitterTemplate">
                  <language>JAVA</language>
                  <body>&#xD;
    tex = texture;&#xD;
    this.duration = duration;&#xD;
    this.delay = delay;&#xD;
    this.rate = rate;&#xD;
    if (//Burst&#xD;
    duration == 0)&#xD;
        remaining = (int) rate;&#xD;
    else if (//Infinite&#xD;
    duration &lt; 0)&#xD;
        remaining = -1;&#xD;
    else&#xD;
        remaining = (int) Math.max(1, rate * duration);&#xD;
    //Lifetime&#xD;
    this.lifetimeMin = lifetimeMin;&#xD;
    this.lifetimeMax = lifetimeMax;&#xD;
    //Colors&#xD;
    this.colorStart = colorStart;&#xD;
    this.colorEnd = colorEnd;&#xD;
    //Angle&#xD;
    this.angleMin = angleMin;&#xD;
    this.angleMax = angleMax;&#xD;
    //Initial velocity&#xD;
    this.velocityMin = velocityMin;&#xD;
    this.velocityMax = velocityMax;&#xD;
    //Gravity scale&#xD;
    this.gravityScale = gravityScale;&#xD;
</body>
                </ownedBehavior>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_8JrGUHurEem9A9zbMJW8SQ" name="EmitterBasic" isAbstract="true">
                <generalization xmi:type="uml:Generalization" xmi:id="_8JsUcHurEem9A9zbMJW8SQ" general="_8IbJIHurEem9A9zbMJW8SQ"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8JtikHurEem9A9zbMJW8SQ" name="data" visibility="private" isLeaf="true" type="_8I5DMHurEem9A9zbMJW8SQ" isUnique="false"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8Jv-0HurEem9A9zbMJW8SQ" name="sizeInitial" visibility="private" isLeaf="true" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8JxM8HurEem9A9zbMJW8SQ" name="sizeEnd" visibility="private" isLeaf="true" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8JybEHurEem9A9zbMJW8SQ" name="positions" visibility="private" type="_tdf3sXupEemZOa7va52DCQ" isUnique="false">
                  <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_8JzpMHurEem9A9zbMJW8SQ"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_8J0QQHurEem9A9zbMJW8SQ" value="*"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8J03UHurEem9A9zbMJW8SQ" name="velocities" visibility="private" type="_tdf3sXupEemZOa7va52DCQ" isUnique="false">
                  <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_8J2FcHurEem9A9zbMJW8SQ"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_8J2FcXurEem9A9zbMJW8SQ" value="*"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8J2sgHurEem9A9zbMJW8SQ" name="rotations" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_MtpDAPaLEeW5KOK8aDMdgA"/>
                  <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_8J36oHurEem9A9zbMJW8SQ"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_8J4hsHurEem9A9zbMJW8SQ" value="*"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8J5IwHurEem9A9zbMJW8SQ" name="lives" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_MtpDAPaLEeW5KOK8aDMdgA"/>
                  <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_8J6W4HurEem9A9zbMJW8SQ"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_8J698HurEem9A9zbMJW8SQ" value="*"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8J698XurEem9A9zbMJW8SQ" name="livesTotal" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_MtpDAPaLEeW5KOK8aDMdgA"/>
                  <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_8J8MEHurEem9A9zbMJW8SQ"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_8J8MEXurEem9A9zbMJW8SQ" value="*"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8KBEkHurEem9A9zbMJW8SQ" name="EmitterBasic">
                  <language>JAVA</language>
                  <body>&#xD;
    super(owner, data);&#xD;
    this.data = data;&#xD;
    shader = Shader.loadShader(&quot;data/shaders/particle_simple&quot;);&#xD;
    this.sizeInitial = data.sizeInitial;&#xD;
    this.sizeEnd = data.sizeEnd;&#xD;
    int capacity = (remaining > 0) ? remaining : (int) (rate * lifetimeMax) + 1;&#xD;
    positions = new ArrayList&lt;Vec2f>(capacity);&#xD;
    velocities = new ArrayList&lt;Vec2f>(capacity);&#xD;
    lives = new ArrayList&lt;Float>(capacity);&#xD;
    livesTotal = new ArrayList&lt;Float>(capacity);&#xD;
    rotations = new ArrayList&lt;Float>(capacity);&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8KFWAHurEem9A9zbMJW8SQ" name="update" specification="_8KCSsHurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    super.update(delta);&#xD;
    //Force = current map gravity&#xD;
    Vec2f force = Vec2f.multiply(GameMaster.gm.getMap().gravity, data.gravityScale);&#xD;
    for (int i = positions.size() - 1; i >= 0; i--) {&#xD;
        if (lives.get(i) > 0) {&#xD;
            velocities.get(i).add(Vec2f.multiply(force, (float) delta));&#xD;
            positions.get(i).add(Vec2f.multiply(velocities.get(i), (float) delta));&#xD;
            lives.set(i, lives.get(i) - (float) delta);&#xD;
        } else {&#xD;
            positions.remove(i);&#xD;
            velocities.remove(i);&#xD;
            lives.remove(i);&#xD;
            rotations.remove(i);&#xD;
            livesTotal.remove(i);&#xD;
        }&#xD;
    }&#xD;
    //Return true if all particles are dead and none are left to spawn&#xD;
    return remaining == 0 &amp;&amp; positions.isEmpty();&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8KIZUHurEem9A9zbMJW8SQ" name="spawn" specification="_8KHLMHurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    for (int i = 0; i &lt; count; i++) {&#xD;
        positions.add(new Vec2f(owner.position.x, owner.position.y));&#xD;
        //Random velocity vector from angle and velocity&#xD;
        Vec2f vel = Vec2f.fromAngle(Utils.lerpF(angleMin, angleMax, Math.random()));&#xD;
        vel.multiply(Utils.lerpF(velocityMin, velocityMax, Math.random()));&#xD;
        velocities.add(vel);&#xD;
        float life = (float) ((Math.random() * (lifetimeMax - lifetimeMin)) + lifetimeMin);&#xD;
        lives.add(life);&#xD;
        livesTotal.add(life);&#xD;
        rotations.add((float) ((Math.random() * (angleMax - angleMin)) + angleMin));&#xD;
    }&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8KK1kHurEem9A9zbMJW8SQ" name="draw" specification="_8KKOgHurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    shader.bind();&#xD;
    //Get matrices&#xD;
    shader.setUniformM4(&quot;view&quot;, Window.getView());&#xD;
    shader.setUniformM4(&quot;projection&quot;, Window.proj);&#xD;
    model.bindToShader(shader);&#xD;
    //Bind texture&#xD;
    glActiveTexture(GL_TEXTURE0);&#xD;
    tex.bind();&#xD;
    shader.setUniformI(&quot;baseColor&quot;, 0);&#xD;
    model.bind();&#xD;
    for (int i = 0; i &lt; positions.size(); i++) {&#xD;
        float lifetime = lives.get(i) / livesTotal.get(i);&#xD;
        float size = Utils.lerpF(sizeEnd, sizeInitial, lifetime);&#xD;
        Vec3f pos = new Vec3f(positions.get(i).x, positions.get(i).y, owner.position.z);&#xD;
        Quat rot = Quat.fromAngle(rotations.get(i));&#xD;
        Vec3f scale = new Vec3f(size, size, 1);&#xD;
        Mat4f modelM = Mat4f.transform(pos, rot, scale);&#xD;
        shader.setUniformM4(&quot;model&quot;, modelM);&#xD;
        shader.setUniformV4(&quot;baseColorMod&quot;, Vec4f.lerp(colorEnd, colorStart, lifetime));&#xD;
        model.draw();&#xD;
    }&#xD;
</body>
                </ownedBehavior>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_8KCSsHurEem9A9zbMJW8SQ" name="update" visibility="private" method="_8KFWAHurEem9A9zbMJW8SQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_8KC5wHurEem9A9zbMJW8SQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                  </ownedParameter>
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_8KDg0HurEem9A9zbMJW8SQ" name="delta">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_8KHLMHurEem9A9zbMJW8SQ" name="spawn" visibility="private" method="_8KIZUHurEem9A9zbMJW8SQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_8KHyQHurEem9A9zbMJW8SQ" name="count">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_8KKOgHurEem9A9zbMJW8SQ" name="draw" visibility="private" method="_8KK1kHurEem9A9zbMJW8SQ"/>
              </packagedElement>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_7xDyAHurEem9A9zbMJW8SQ" name="audio">
            <packagedElement xmi:type="uml:Class" xmi:id="_7xEZEHurEem9A9zbMJW8SQ" name="SoundSourceSingle" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_71b7sHurEem9A9zbMJW8SQ" name="sound" visibility="private" type="_700QoHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_71dJ0HurEem9A9zbMJW8SQ" name="source" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_71eX8HurEem9A9zbMJW8SQ" name="pitchMin" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_71fmEHurEem9A9zbMJW8SQ" name="pitchMax" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_71g0MHurEem9A9zbMJW8SQ" name="spatialized" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_71iCUHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>false</body>
                </defaultValue>
              </ownedAttribute>
              <interfaceRealization xmi:type="uml:InterfaceRealization" xmi:id="_71atkHurEem9A9zbMJW8SQ" name="SoundSourceSingle implements AudioSourceI" client="_7xEZEHurEem9A9zbMJW8SQ" supplier="_70ReEHurEem9A9zbMJW8SQ" contract="_70ReEHurEem9A9zbMJW8SQ"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_71tBcHurEem9A9zbMJW8SQ" name="SoundSourceSingle">
                <language>JAVA</language>
                <body>&#xD;
    sound = SoundBuffer.loadSound(path);&#xD;
    if (sound == null)&#xD;
        return;&#xD;
    this.pitchMin = pitchMin;&#xD;
    this.pitchMax = pitchMax;&#xD;
    this.spatialized = spatialized;&#xD;
    source = alGenSources();&#xD;
    if (Audio.printError(&quot;Audio - Error creating source for &quot; + path) != AL10.AL_NO_ERROR)&#xD;
        Audio.cleanAll();&#xD;
    //Link the source to the buffer&#xD;
    alSourcei(source, AL_BUFFER, sound.getBuffer());&#xD;
    //Spatialization&#xD;
    if (spatialized) {&#xD;
        alSourcei(source, AL_SOURCE_RELATIVE, AL_FALSE);&#xD;
        alSourcef(source, AL11.AL_REFERENCE_DISTANCE, 10);&#xD;
        alSourcef(source, AL11.AL_ROLLOFF_FACTOR, .0055f);&#xD;
    } else {&#xD;
        alSourcei(source, AL_SOURCE_RELATIVE, AL_TRUE);&#xD;
        alSourcef(source, AL11.AL_REFERENCE_DISTANCE, 0);&#xD;
        alSourcef(source, AL11.AL_ROLLOFF_FACTOR, 0);&#xD;
    }&#xD;
    if (loop)&#xD;
        alSourcei(source, AL11.AL_LOOPING, AL_TRUE);&#xD;
    Audio.registerPlayer(this);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_72AjcHurEem9A9zbMJW8SQ" name="setPitch" specification="_71-uQHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    alSourcef(source, AL_PITCH, pitch);&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_717D4HurEem9A9zbMJW8SQ" name="setVolume" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_718SAHurEem9A9zbMJW8SQ" name="volume">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_71-uQHurEem9A9zbMJW8SQ" name="setPitch" visibility="public" method="_72AjcHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_71_VUHurEem9A9zbMJW8SQ" name="pitch">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_70QP8HurEem9A9zbMJW8SQ" name="MusicSource" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7003sHurEem9A9zbMJW8SQ" name="sound" visibility="private" type="_700QoHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_702s4HurEem9A9zbMJW8SQ" name="source" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_7037AHurEem9A9zbMJW8SQ" name="looping" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_706XQHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>false</body>
                </defaultValue>
              </ownedAttribute>
              <interfaceRealization xmi:type="uml:InterfaceRealization" xmi:id="_70ybcHurEem9A9zbMJW8SQ" name="MusicSource implements AudioSourceI" client="_70QP8HurEem9A9zbMJW8SQ" supplier="_70ReEHurEem9A9zbMJW8SQ" contract="_70ReEHurEem9A9zbMJW8SQ"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_71Ad4HurEem9A9zbMJW8SQ" name="MusicSource">
                <language>JAVA</language>
                <body>&#xD;
    sound = SoundBuffer.loadSound(path);&#xD;
    if (sound == null)&#xD;
        return;&#xD;
    source = alGenSources();&#xD;
    Audio.printError(&quot;Audio - Error creating source for &quot; + path);&#xD;
    alSourcei(source, AL_BUFFER, sound.getBuffer());&#xD;
    //Stick this sound to the listener to prevent spatialization&#xD;
    alSourcei(source, AL_SOURCE_RELATIVE, AL_TRUE);&#xD;
    setLooping(looping);&#xD;
    Audio.registerPlayer(this);&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_71QVgHurEem9A9zbMJW8SQ" name="isLooping" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_71Q8kHurEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_71TY0HurEem9A9zbMJW8SQ" name="setLooping" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_71T_4HurEem9A9zbMJW8SQ" name="looping">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Interface" xmi:id="_70ReEHurEem9A9zbMJW8SQ" name="AudioSourceI" visibility="public" isAbstract="true">
              <ownedOperation xmi:type="uml:Operation" xmi:id="_75VkQHurEem9A9zbMJW8SQ" name="play" visibility="public"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_75WLUHurEem9A9zbMJW8SQ" name="stop" visibility="public"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_75XZcHurEem9A9zbMJW8SQ" name="isPlaying" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_75YAgHurEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_75YnkHurEem9A9zbMJW8SQ" name="setVolume" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_75Z1sHurEem9A9zbMJW8SQ" name="volume">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_75acwHurEem9A9zbMJW8SQ" name="getSources" visibility="private">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_75bD0HurEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                  <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_75bq4HurEem9A9zbMJW8SQ"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_75cR8HurEem9A9zbMJW8SQ" value="*"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_700QoHurEem9A9zbMJW8SQ" name="SoundBuffer" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_75f8UHurEem9A9zbMJW8SQ" name="buffer" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_75mC8HurEem9A9zbMJW8SQ" name="SoundBuffer" specification="_75hxgHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    this.buffer = buffer;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_75qUYHurEem9A9zbMJW8SQ" name="loadSound" specification="_75nREHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    SoundBuffer snd = Audio.getSound(path);&#xD;
    if (snd == null) {&#xD;
        try (STBVorbisInfo info = STBVorbisInfo.malloc()) {&#xD;
            ShortBuffer pcm = loadVorbis(path, info);&#xD;
            if (pcm == null) {&#xD;
                Audio.log.error(&quot;Cannot load sound : &quot; + path);&#xD;
                return null;&#xD;
            }&#xD;
            int buffer = alGenBuffers();&#xD;
            if (Audio.printError(&quot;Audio - Error creating buffer for &quot; + path) != AL10.AL_NO_ERROR)&#xD;
                Audio.cleanAll();&#xD;
            alBufferData(buffer, info.channels() == 1 ? AL_FORMAT_MONO16 : AL_FORMAT_STEREO16, pcm, info.sample_rate());&#xD;
            SoundBuffer res = new SoundBuffer(buffer);&#xD;
            Audio.registerSound(path, res);&#xD;
            return res;&#xD;
        }&#xD;
    }&#xD;
    return snd;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_75t-wHurEem9A9zbMJW8SQ" name="getBuffer" specification="_75sJkHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    return buffer;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_756zEHurEem9A9zbMJW8SQ" name="loadVorbis" specification="_75y3QHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    ByteBuffer vorbis;&#xD;
    vorbis = FileUtils.resToByteBuffer(resource);&#xD;
    if (vorbis == null)&#xD;
        return null;&#xD;
    IntBuffer error = BufferUtils.createIntBuffer(1);&#xD;
    long decoder = stb_vorbis_open_memory(vorbis, error, null);&#xD;
    if (decoder == NULL) {&#xD;
        Audio.log.error(&quot;Can't load vorbis file : &quot; + resource);&#xD;
        return null;&#xD;
    }&#xD;
    stb_vorbis_get_info(decoder, info);&#xD;
    int channels = info.channels();&#xD;
    if (channels != 1 &amp;&amp; channels != 2) {&#xD;
        Audio.log.error(&quot;Unsupported channel count for &quot; + resource + &quot; (&quot; + channels + &quot;) !&quot;);&#xD;
    }&#xD;
    ShortBuffer pcm = BufferUtils.createShortBuffer(stb_vorbis_stream_length_in_samples(decoder) * channels);&#xD;
    stb_vorbis_get_samples_short_interleaved(decoder, channels, pcm);&#xD;
    stb_vorbis_close(decoder);&#xD;
    return pcm;&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_75hxgHurEem9A9zbMJW8SQ" name="SoundBuffer" visibility="private" method="_75mC8HurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_75k00HurEem9A9zbMJW8SQ" name="buffer">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_75nREHurEem9A9zbMJW8SQ" name="loadSound" visibility="public" isStatic="true" method="_75qUYHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_75ofMHurEem9A9zbMJW8SQ" type="_700QoHurEem9A9zbMJW8SQ" direction="return"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_75ptUHurEem9A9zbMJW8SQ" name="path" type="_tbdQUHupEemZOa7va52DCQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_75sJkHurEem9A9zbMJW8SQ" name="getBuffer" visibility="protected" method="_75t-wHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_75tXsHurEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_75y3QHurEem9A9zbMJW8SQ" name="loadVorbis" visibility="private" isStatic="true" method="_756zEHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_753vwHurEem9A9zbMJW8SQ" type="_750FYHurEem9A9zbMJW8SQ" direction="return"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_754W0HurEem9A9zbMJW8SQ" name="resource" type="_tbdQUHupEemZOa7va52DCQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_755k8HurEem9A9zbMJW8SQ" name="info" type="_75wbAHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_72fEkHurEem9A9zbMJW8SQ" name="Audio" visibility="public" isLeaf="true" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_72g5wHurEem9A9zbMJW8SQ" name="device" visibility="private" isStatic="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_8heigBydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_72iH4HurEem9A9zbMJW8SQ" name="context" visibility="private" isStatic="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_8heigBydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_72j9EHurEem9A9zbMJW8SQ" name="sounds" visibility="private" isStatic="true" type="_7ts8AHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_72lyQHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new HashMap&lt;String, BufferEntry>()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_72qDsHurEem9A9zbMJW8SQ" name="sources" visibility="private" isStatic="true" isUnique="false">
                <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_72rR0HurEem9A9zbMJW8SQ"/>
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_72r44HurEem9A9zbMJW8SQ" value="*"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_72r44XurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new ArrayList&lt;SourceEntry>()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_72tuEHurEem9A9zbMJW8SQ" name="log" visibility="protected" isStatic="true" type="_tb7KYHupEemZOa7va52DCQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_72u8MHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>LogManager.getLogger(&quot;Audio&quot;)</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_720bwHurEem9A9zbMJW8SQ" name="Audio" specification="_72wKUHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_73BQEHurEem9A9zbMJW8SQ" name="setListener" specification="_728-oHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    alListener3f(AL_POSITION, loc.x, loc.y, loc.z);&#xD;
    Vec3f forward = Vec3f.multiply(rot.forward(), -1);&#xD;
    Vec3f up = rot.up();&#xD;
    FloatBuffer listenerRot = BufferUtils.createFloatBuffer(6);&#xD;
    listenerRot.put(forward.x);&#xD;
    listenerRot.put(forward.y);&#xD;
    listenerRot.put(forward.z);&#xD;
    listenerRot.put(up.x);&#xD;
    listenerRot.put(up.y);&#xD;
    listenerRot.put(up.z);&#xD;
    listenerRot.flip();&#xD;
    alListenerfv(AL_ORIENTATION, listenerRot);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_73Jy8HurEem9A9zbMJW8SQ" name="printInitInfo" specification="_73GvoHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    log.debug(&quot;OpenALC10: &quot; + deviceCapabilities.OpenALC10);&#xD;
    log.debug(&quot;OpenALC11: &quot; + deviceCapabilities.OpenALC11);&#xD;
    log.debug(&quot;caps.ALC_EXT_EFX: &quot; + deviceCapabilities.ALC_EXT_EFX);&#xD;
    if (deviceCapabilities.OpenALC11) {&#xD;
        List&lt;String> devices = ALUtil.getStringList(NULL, ALC_ALL_DEVICES_SPECIFIER);&#xD;
        if (devices != null) {&#xD;
            log.debug(&quot;Available devices :&quot;);&#xD;
            for (int i = 0; i &lt; devices.size(); i++) log.debug(&quot;Device &quot; + i + &quot;: &quot; + devices.get(i));&#xD;
        }&#xD;
    }&#xD;
    String defaultDevice = alcGetString(NULL, ALC_DEFAULT_DEVICE_SPECIFIER);&#xD;
    if (defaultDevice != null)&#xD;
        log.info(&quot;Default device : &quot; + defaultDevice);&#xD;
    log.debug(&quot;Frequency : &quot; + alcGetInteger(device, ALC_FREQUENCY) + &quot;Hz&quot;);&#xD;
    log.debug(&quot;Refresh rate : &quot; + alcGetInteger(device, ALC_REFRESH) + &quot;Hz&quot;);&#xD;
    log.debug(&quot;Sync : &quot; + (alcGetInteger(device, ALC_SYNC) == ALC_TRUE));&#xD;
    log.debug(&quot;Mono sources : &quot; + alcGetInteger(device, ALC_MONO_SOURCES));&#xD;
    log.debug(&quot;Stereo sources : &quot; + alcGetInteger(device, ALC_STEREO_SOURCES));&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_73OrcHurEem9A9zbMJW8SQ" name="printError" specification="_73LBEHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    int error = AL10.alGetError();&#xD;
    if (error != AL10.AL_NO_ERROR) {&#xD;
        if (additionnalMsg != null)&#xD;
            log.info(additionnalMsg + &quot;: &quot; + AL10.alGetString(error));&#xD;
        else&#xD;
            log.error(AL10.alGetString(error));&#xD;
    }&#xD;
    return error;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_73S84HurEem9A9zbMJW8SQ" name="registerSound" specification="_73P5kHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    BufferEntry newEntry = new BufferEntry(file, sound);&#xD;
    if (sounds.get(file) != null &amp;&amp; sounds.get(file).sound.get() != null)&#xD;
        System.err.println(&quot;Audio - Sound already registered !&quot;);&#xD;
    sounds.put(file, newEntry);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_73WAMHurEem9A9zbMJW8SQ" name="registerPlayer" specification="_73ULAHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    sources.add(new SourceEntry(player));&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_73dU8HurEem9A9zbMJW8SQ" name="cleanPlayers" specification="_73cG0HurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    log.info(&quot;Cleaning players...&quot;);&#xD;
    int sourcesRemoved = 0;&#xD;
    for (int i = sources.size() - 1; i >= 0; i--) {&#xD;
        if (sources.get(i).sound.get() == null) {&#xD;
            alDeleteSources(sources.get(i).sources);&#xD;
            Audio.printError(&quot;Audio - Error deleting source(s)&quot;);&#xD;
            sources.remove(i);&#xD;
            sourcesRemoved++;&#xD;
        }&#xD;
    }&#xD;
    log.info(&quot;Cleaned up &quot; + sourcesRemoved + &quot; sources.&quot;);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_73fKIHurEem9A9zbMJW8SQ" name="cleanBuffers" specification="_73ejEHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    log.info(&quot;Cleaning buffers...&quot;);&#xD;
    ArrayList&lt;String> toRemove = new ArrayList&lt;String>(0);&#xD;
    for (BufferEntry entry : sounds.values()) {&#xD;
        if (entry.sound.get() == null) {&#xD;
            toRemove.add(entry.file);&#xD;
            alDeleteBuffers(entry.buffer);&#xD;
        }&#xD;
    }&#xD;
    for (String s : toRemove) sounds.remove(s);&#xD;
    log.info(&quot;Cleaned up &quot; + toRemove.size() + &quot; buffers.&quot;);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_73g_UHurEem9A9zbMJW8SQ" name="cleanAll" specification="_73gYQHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    cleanBuffers();&#xD;
    cleanPlayers();&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_72wKUHurEem9A9zbMJW8SQ" name="Audio" visibility="private" method="_720bwHurEem9A9zbMJW8SQ"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_721p4HurEem9A9zbMJW8SQ" name="init" visibility="public" isStatic="true"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_724tMHurEem9A9zbMJW8SQ" name="destroy" visibility="public" isStatic="true"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_728-oHurEem9A9zbMJW8SQ" name="setListener" visibility="public" isStatic="true" method="_73BQEHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_72-z0HurEem9A9zbMJW8SQ" name="loc" type="_tf2BEXupEemZOa7va52DCQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_73AB8HurEem9A9zbMJW8SQ" name="rot" type="_728XkHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_73GvoHurEem9A9zbMJW8SQ" name="printInitInfo" visibility="private" isStatic="true" method="_73Jy8HurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_73Ik0HurEem9A9zbMJW8SQ" name="deviceCapabilities" type="_73DsUHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_73LBEHurEem9A9zbMJW8SQ" name="printError" visibility="public" isStatic="true" method="_73OrcHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_73MPMHurEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                </ownedParameter>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_73NdUHurEem9A9zbMJW8SQ" name="additionnalMsg" type="_tbdQUHupEemZOa7va52DCQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_73P5kHurEem9A9zbMJW8SQ" name="registerSound" visibility="protected" isStatic="true" method="_73S84HurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_73RHsHurEem9A9zbMJW8SQ" name="file" type="_tbdQUHupEemZOa7va52DCQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_73SV0HurEem9A9zbMJW8SQ" name="sound" type="_700QoHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_73ULAHurEem9A9zbMJW8SQ" name="registerPlayer" visibility="protected" isStatic="true" method="_73WAMHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_73VZIHurEem9A9zbMJW8SQ" name="player" type="_70ReEHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_73X1YHurEem9A9zbMJW8SQ" name="getSound" visibility="protected" isStatic="true">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_73ZDgHurEem9A9zbMJW8SQ" type="_700QoHurEem9A9zbMJW8SQ" direction="return"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_73ZqkHurEem9A9zbMJW8SQ" name="file" type="_tbdQUHupEemZOa7va52DCQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_73cG0HurEem9A9zbMJW8SQ" name="cleanPlayers" visibility="public" isStatic="true" method="_73dU8HurEem9A9zbMJW8SQ"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_73ejEHurEem9A9zbMJW8SQ" name="cleanBuffers" visibility="public" isStatic="true" method="_73fKIHurEem9A9zbMJW8SQ"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_73gYQHurEem9A9zbMJW8SQ" name="cleanAll" visibility="public" isStatic="true" method="_73g_UHurEem9A9zbMJW8SQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_74eBkHurEem9A9zbMJW8SQ" name="SoundSourceMulti" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_74f2wHurEem9A9zbMJW8SQ" name="sound" visibility="private" type="_700QoHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_74hE4HurEem9A9zbMJW8SQ" name="source" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_74i6EHurEem9A9zbMJW8SQ"/>
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_74jhIHurEem9A9zbMJW8SQ" value="*"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_74kIMHurEem9A9zbMJW8SQ" name="next" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_74l9YHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>0</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_74nLgHurEem9A9zbMJW8SQ" name="pitchMin" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_74oZoHurEem9A9zbMJW8SQ" name="pitchMax" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_74qO0HurEem9A9zbMJW8SQ" name="spatialized" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_74rc8HurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>false</body>
                </defaultValue>
              </ownedAttribute>
              <interfaceRealization xmi:type="uml:InterfaceRealization" xmi:id="_74fPsHurEem9A9zbMJW8SQ" name="SoundSourceMulti implements AudioSourceI" client="_74eBkHurEem9A9zbMJW8SQ" supplier="_70ReEHurEem9A9zbMJW8SQ" contract="_70ReEHurEem9A9zbMJW8SQ"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_748isHurEem9A9zbMJW8SQ" name="play" specification="_746GcHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    if (sound == null)&#xD;
        return;&#xD;
    alSourcef(source[next], AL_PITCH, Utils.lerpF(pitchMin, pitchMax, (float) Math.random()));&#xD;
    alSource3f(source[next], AL_POSITION, pos.x, pos.y, 0);&#xD;
    alSourcePlay(source[next]);&#xD;
    next++;&#xD;
    if (next >= source.length)&#xD;
        next = 0;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_74--8HurEem9A9zbMJW8SQ" name="stop" specification="_74-X4HurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    if (sound == null)&#xD;
        return;&#xD;
    for (int i = 0; i &lt; source.length; i++) alSourceStop(source[i]);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_75BbMHurEem9A9zbMJW8SQ" name="pause" specification="_75A0IHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    if (sound == null)&#xD;
        return;&#xD;
    for (int i = 0; i &lt; source.length; i++) alSourcePause(source[i]);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_75FFkHurEem9A9zbMJW8SQ" name="isPlaying" specification="_75CpUHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    if (sound == null)&#xD;
        return false;&#xD;
    for (int i = 0; i &lt; source.length; i++) if (alGetSourcei(source[i], AL_SOURCE_STATE) == AL_PLAYING)&#xD;
        return true;&#xD;
    return false;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_75II4HurEem9A9zbMJW8SQ" name="setVolume">
                <language>JAVA</language>
                <body>&#xD;
    for (int i = 0; i &lt; source.length; i++) alSourcef(source[i], AL_GAIN, volume);&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_743DIHurEem9A9zbMJW8SQ" name="play" visibility="public"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_746GcHurEem9A9zbMJW8SQ" name="play" visibility="public" method="_748isHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_747UkHurEem9A9zbMJW8SQ" name="pos" type="_tdf3sXupEemZOa7va52DCQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_74-X4HurEem9A9zbMJW8SQ" name="stop" visibility="public" method="_74--8HurEem9A9zbMJW8SQ"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_75A0IHurEem9A9zbMJW8SQ" name="pause" visibility="public" method="_75BbMHurEem9A9zbMJW8SQ"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_75CpUHurEem9A9zbMJW8SQ" name="isPlaying" visibility="public" method="_75FFkHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_75D3cHurEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_727wgHurEem9A9zbMJW8SQ" name="math">
            <packagedElement xmi:type="uml:Class" xmi:id="_728XkHurEem9A9zbMJW8SQ" name="Quat" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8bZIcHurEem9A9zbMJW8SQ" name="w" visibility="protected" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8bf2IHurEem9A9zbMJW8SQ" name="x" visibility="protected" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8bmj0HurEem9A9zbMJW8SQ" name="y" visibility="protected" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8btRgHurEem9A9zbMJW8SQ" name="z" visibility="protected" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8c_q8HurEem9A9zbMJW8SQ" name="normalize" specification="_8c_D4nurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    Quat res = new Quat();&#xD;
    double len = q.length();&#xD;
    res.x = (float) (q.x / len);&#xD;
    res.y = (float) (q.y / len);&#xD;
    res.z = (float) (q.z / len);&#xD;
    res.w = (float) (q.w / len);&#xD;
    return res;&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8c8Ak3urEem9A9zbMJW8SQ" name="rotate" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8c8noHurEem9A9zbMJW8SQ" type="_8aUKYHurEem9A9zbMJW8SQ" direction="return"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8c8noXurEem9A9zbMJW8SQ" name="source" type="_8aUKYHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8c_D4nurEem9A9zbMJW8SQ" name="normalize" visibility="public" isStatic="true" method="_8c_q8HurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8c_D43urEem9A9zbMJW8SQ" type="_728XkHurEem9A9zbMJW8SQ" direction="return"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8c_D5HurEem9A9zbMJW8SQ" name="q" type="_728XkHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_7-vosHurEem9A9zbMJW8SQ" name="Mat4f" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8dJb8HurEem9A9zbMJW8SQ" name="val" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_8dKqEHurEem9A9zbMJW8SQ"/>
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_8dLRIHurEem9A9zbMJW8SQ" value="*"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8dL4MHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new float[4][4]</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8didgHurEem9A9zbMJW8SQ" name="rotation">
                <language>JAVA</language>
                <body>&#xD;
    Mat4f res = new Mat4f();&#xD;
    double ww = q.w * q.w;&#xD;
    double xx = q.x * q.x;&#xD;
    double yy = q.y * q.y;&#xD;
    double zz = q.z * q.z;&#xD;
    double zw = q.z * q.w;&#xD;
    double xy = q.x * q.y;&#xD;
    double xz = q.x * q.z;&#xD;
    double yw = q.y * q.w;&#xD;
    double yz = q.y * q.z;&#xD;
    double xw = q.x * q.w;&#xD;
    //First column&#xD;
    res.val[0][0] = (float) (ww + xx - zz - yy);&#xD;
    res.val[0][1] = (float) (xy + zw + zw + xy);&#xD;
    res.val[0][2] = (float) (xz - yw + xz - yw);&#xD;
    //Second column&#xD;
    res.val[1][0] = (float) (-zw + xy - zw + xy);&#xD;
    res.val[1][1] = (float) (yy - zz + ww - xx);&#xD;
    res.val[1][2] = (float) (yz + yz + xw + xw);&#xD;
    //Third column&#xD;
    res.val[2][0] = (float) (yw + xz + xz + yw);&#xD;
    res.val[2][1] = (float) (yz + yz - xw - xw);&#xD;
    res.val[2][2] = (float) (zz - yy - xx + ww);&#xD;
    //Fourth column&#xD;
    res.val[3][3] = 1;&#xD;
    return res;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8dpLMHurEem9A9zbMJW8SQ" name="translation">
                <language>JAVA</language>
                <body>&#xD;
    Mat4f res = identity();&#xD;
    res.val[3][0] = v.x;&#xD;
    res.val[3][1] = v.y;&#xD;
    res.val[3][2] = v.z;&#xD;
    return res;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8dv44HurEem9A9zbMJW8SQ" name="scale">
                <language>JAVA</language>
                <body>&#xD;
    Mat4f res = new Mat4f();&#xD;
    res.val[0][0] = v.x;&#xD;
    res.val[1][1] = v.y;&#xD;
    res.val[2][2] = v.z;&#xD;
    res.val[3][3] = 1;&#xD;
    return res;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8d3NoHurEem9A9zbMJW8SQ" name="transform">
                <language>JAVA</language>
                <body>&#xD;
    Mat4f res = new Mat4f();&#xD;
    res = mul(mul(translation(loc), rotation(rot)), scale(scale));&#xD;
    return res;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8d_wgHurEem9A9zbMJW8SQ" name="viewMatrix">
                <language>JAVA</language>
                <body>&#xD;
    Mat4f res = identity();&#xD;
    res.val[3][0] = -loc.x;&#xD;
    res.val[3][1] = -loc.y;&#xD;
    res.val[3][2] = -loc.z;&#xD;
    res = mul(rotation(Quat.conjugate(rot)), res);&#xD;
    return res;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8eCz0HurEem9A9zbMJW8SQ" name="transpose">
                <language>JAVA</language>
                <body>&#xD;
    Mat4f res = new Mat4f();&#xD;
    for (int i = 0; i &lt; 4; i++) for (int j = 0; j &lt; 4; j++) res.val[i][j] = m.val[j][i];&#xD;
    return res;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8eITYHurEem9A9zbMJW8SQ" name="perspective">
                <language>JAVA</language>
                <body>&#xD;
    Mat4f res = new Mat4f();&#xD;
    float top = (float) (Math.tan(Math.toRadians(yFOV) / 2) * near);&#xD;
    float right = top * ratio;&#xD;
    res.val[0][0] = near / right;&#xD;
    res.val[1][1] = near / -top;&#xD;
    res.val[2][2] = -(far + near) / (far - near);&#xD;
    res.val[3][2] = -(2 * far * near) / (far - near);&#xD;
    res.val[2][3] = -1;&#xD;
    return res;&#xD;
</body>
              </ownedBehavior>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8aUKYHurEem9A9zbMJW8SQ" name="Vec3f" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8aV_kHurEem9A9zbMJW8SQ" name="x" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8actQHurEem9A9zbMJW8SQ" name="y" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8aja8HurEem9A9zbMJW8SQ" name="z" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8bB8EXurEem9A9zbMJW8SQ" name="normalize" specification="_8bBVAnurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    double len = v.length();&#xD;
    if (len == 0)&#xD;
        return new Vec3f();&#xD;
    return new Vec3f(v.x / len, v.y / len, v.z / len);&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8bBVAnurEem9A9zbMJW8SQ" name="normalize" visibility="public" isStatic="true" method="_8bB8EXurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8bBVA3urEem9A9zbMJW8SQ" type="_8aUKYHurEem9A9zbMJW8SQ" direction="return"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8bB8EHurEem9A9zbMJW8SQ" name="v" type="_8aUKYHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8dpyQHurEem9A9zbMJW8SQ" name="Vec2f" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8eZZIHurEem9A9zbMJW8SQ" name="x" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8eanQHurEem9A9zbMJW8SQ" name="y" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8fJAAXurEem9A9zbMJW8SQ" name="normalize" specification="_8fHK0HurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    double len = v.length();&#xD;
    if (len == 0)&#xD;
        return new Vec2f();&#xD;
    return new Vec2f(v.x / len, v.y / len);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8fMDUHurEem9A9zbMJW8SQ" name="angle" specification="_8fKOIHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    return Math.atan2(y, x);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8f7DIHurEem9A9zbMJW8SQ" name="rotate" specification="_8f3_0HurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    double cos = Math.cos(r);&#xD;
    double sin = Math.sin(r);&#xD;
    return new Vec2f(cos * v.x - sin * v.y, sin * v.x + cos * v.y);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8gC-8HurEem9A9zbMJW8SQ" name="rotate90">
                <language>JAVA</language>
                <body>&#xD;
    return new Vec2f(-v.y, v.x);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8gH3cHurEem9A9zbMJW8SQ" name="lerp" specification="_8gENEHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    return new Vec2f(Utils.lerpF(a.x, b.x, f), Utils.lerpF(a.y, b.y, f));&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8gKTsHurEem9A9zbMJW8SQ" name="worldToScreen" specification="_8gIegHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    Mat4f model = Mat4f.translation(world);&#xD;
    float[] projected = Mat4f.mul(Mat4f.mul(Window.proj, Window.getView()), model).val[3];&#xD;
    return new Vec2f(projected[0], projected[1]);&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8fHK0HurEem9A9zbMJW8SQ" name="normalize" visibility="public" isStatic="true" method="_8fJAAXurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8fHx4HurEem9A9zbMJW8SQ" type="_8dpyQHurEem9A9zbMJW8SQ" direction="return"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8fJAAHurEem9A9zbMJW8SQ" name="v" type="_8dpyQHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8fKOIHurEem9A9zbMJW8SQ" name="angle" visibility="public" method="_8fMDUHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8fK1MHurEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8fV0UHurEem9A9zbMJW8SQ" name="fromAngle" visibility="public" isStatic="true">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8fV0UXurEem9A9zbMJW8SQ" type="_8dpyQHurEem9A9zbMJW8SQ" direction="return"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8fWbYHurEem9A9zbMJW8SQ" name="angle">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8f0VcHurEem9A9zbMJW8SQ" name="dot" visibility="public" isStatic="true">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8f08gHurEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                </ownedParameter>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8f1jkHurEem9A9zbMJW8SQ" name="a" type="_8dpyQHurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8f2KoHurEem9A9zbMJW8SQ" name="b" type="_8dpyQHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8f3_0HurEem9A9zbMJW8SQ" name="rotate" visibility="public" isStatic="true" method="_8f7DIHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8f4m4HurEem9A9zbMJW8SQ" type="_8dpyQHurEem9A9zbMJW8SQ" direction="return"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8f5N8HurEem9A9zbMJW8SQ" name="v" type="_8dpyQHurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8f51AHurEem9A9zbMJW8SQ" name="r">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8f7qMHurEem9A9zbMJW8SQ" name="rotate" visibility="public" isStatic="true">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8f84UHurEem9A9zbMJW8SQ" type="_8dpyQHurEem9A9zbMJW8SQ" direction="return"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8f9fYHurEem9A9zbMJW8SQ" name="v" type="_8dpyQHurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8f-GcHurEem9A9zbMJW8SQ" name="r">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                </ownedParameter>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8f-tgHurEem9A9zbMJW8SQ" name="target" type="_8dpyQHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8gENEHurEem9A9zbMJW8SQ" name="lerp" visibility="public" isStatic="true" method="_8gH3cHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8gE0IHurEem9A9zbMJW8SQ" type="_8dpyQHurEem9A9zbMJW8SQ" direction="return"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8gFbMHurEem9A9zbMJW8SQ" name="a" type="_8dpyQHurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8gGCQHurEem9A9zbMJW8SQ" name="b" type="_8dpyQHurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8gHQYHurEem9A9zbMJW8SQ" name="f">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8gIegHurEem9A9zbMJW8SQ" name="worldToScreen" visibility="public" isStatic="true" method="_8gKTsHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8gJFkHurEem9A9zbMJW8SQ" type="_8dpyQHurEem9A9zbMJW8SQ" direction="return"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8gJsoHurEem9A9zbMJW8SQ" name="world" type="_8aUKYHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8gTdoHurEem9A9zbMJW8SQ" name="Utils" visibility="public" isLeaf="true" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8gY9MHurEem9A9zbMJW8SQ" name="PI2" visibility="public" isLeaf="true" isStatic="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8gaLUHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>2d * Math.PI</body>
                </defaultValue>
              </ownedAttribute>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8hOqsHurEem9A9zbMJW8SQ" name="Vec4f" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8hP40HurEem9A9zbMJW8SQ" name="x" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8hQf4HurEem9A9zbMJW8SQ" name="y" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8hRuAHurEem9A9zbMJW8SQ" name="z" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8hSVEHurEem9A9zbMJW8SQ" name="w" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8htL0HurEem9A9zbMJW8SQ" name="normalize" visibility="public" isStatic="true">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8hty4HurEem9A9zbMJW8SQ" type="_8hOqsHurEem9A9zbMJW8SQ" direction="return"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8huZ8HurEem9A9zbMJW8SQ" name="v" type="_8hOqsHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8hw2MHurEem9A9zbMJW8SQ" name="lerp" visibility="public" isStatic="true">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8hxdQHurEem9A9zbMJW8SQ" type="_8hOqsHurEem9A9zbMJW8SQ" direction="return"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8hyEUHurEem9A9zbMJW8SQ" name="a" type="_8hOqsHurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8hzScHurEem9A9zbMJW8SQ" name="b" type="_8hOqsHurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8hz5gHurEem9A9zbMJW8SQ" name="f">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_759PUHurEem9A9zbMJW8SQ" name="events">
            <packagedElement xmi:type="uml:Class" xmi:id="_75_EgHurEem9A9zbMJW8SQ" name="NewValueEvent" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_76ASoHurEem9A9zbMJW8SQ" general="_75_rkHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_76EkEHurEem9A9zbMJW8SQ" name="oldValue" visibility="private" type="_76BgwHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_76FyMHurEem9A9zbMJW8SQ" name="newValue" visibility="private" type="_76BgwHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_76Mf4HurEem9A9zbMJW8SQ" name="NewValueEvent">
                <language>JAVA</language>
                <body>&#xD;
    this.oldValue = oldValue;&#xD;
    this.newValue = newValue;&#xD;
</body>
              </ownedBehavior>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_75_rkHurEem9A9zbMJW8SQ" name="Event" visibility="public" isAbstract="true"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_76BgwHurEem9A9zbMJW8SQ" name="T"/>
            <packagedElement xmi:type="uml:Interface" xmi:id="_76W38HurEem9A9zbMJW8SQ" name="EventListener" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_76aiUHurEem9A9zbMJW8SQ" general="_76XfAHurEem9A9zbMJW8SQ"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_76ezwHurEem9A9zbMJW8SQ" name="action" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_76gB4HurEem9A9zbMJW8SQ" name="e" type="_76bwcHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_76bwcHurEem9A9zbMJW8SQ" name="E"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_76ieIHurEem9A9zbMJW8SQ" name="Exemple" visibility="public" isAbstract="true">
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_76mvkHurEem9A9zbMJW8SQ" name="main" specification="_76kTUHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    Observable&lt;Integer> obs = new Observable&lt;Integer>(5);&#xD;
    EventListener&lt;BasicEvent> lis = new EventListener&lt;BasicEvent>() {&#xD;
&#xD;
        @Override&#xD;
        public void action(BasicEvent e) {&#xD;
            System.out.println(e.name);&#xD;
        }&#xD;
    };&#xD;
    obs.listener.add(lis);&#xD;
    obs.setValue(2);&#xD;
    obs.setValue(8);&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_76kTUHurEem9A9zbMJW8SQ" name="main" visibility="public" isStatic="true" method="_76mvkHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_76lhcHurEem9A9zbMJW8SQ" name="args" type="_tbdQUHupEemZOa7va52DCQ">
                  <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_76mIgHurEem9A9zbMJW8SQ"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_76mIgXurEem9A9zbMJW8SQ" value="*"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_76qZ8HurEem9A9zbMJW8SQ" name="Observable" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_76urYHurEem9A9zbMJW8SQ" general="_76roEHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_76wgkHurEem9A9zbMJW8SQ" name="value" visibility="private" type="_76BgwHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_762AIHurEem9A9zbMJW8SQ" name="listener" visibility="public" type="_76xusHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_763OQHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new LinkedList&lt;>()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_768t0HurEem9A9zbMJW8SQ" name="Observable" specification="_764cYHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    this.value = value;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_77AYMHurEem9A9zbMJW8SQ" name="getValue" specification="_76978HurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    return value;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_77DbgHurEem9A9zbMJW8SQ" name="setValue" specification="_77BmUHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    for (EventListener&lt;BasicEvent> eventListener : listener) {&#xD;
        eventListener.action(new BasicEvent(&quot;new value : &quot; + this.value + &quot; -> &quot; + value));&#xD;
    }&#xD;
    this.value = value;&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_764cYHurEem9A9zbMJW8SQ" name="Observable" visibility="public" method="_768t0HurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_767fsHurEem9A9zbMJW8SQ" name="value" type="_76BgwHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_76978HurEem9A9zbMJW8SQ" name="getValue" visibility="public" method="_77AYMHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_76_KEHurEem9A9zbMJW8SQ" type="_76BgwHurEem9A9zbMJW8SQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_77BmUHurEem9A9zbMJW8SQ" name="setValue" visibility="public" method="_77DbgHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_77C0cHurEem9A9zbMJW8SQ" name="value" type="_76BgwHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <nestedClassifier xmi:type="uml:Enumeration" xmi:id="__ktxYHvNEemtSbXqvSvPoQ" name="Enumeration10"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_77IUAHurEem9A9zbMJW8SQ" name="BasicEvent" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_77I7EHurEem9A9zbMJW8SQ" general="_75_rkHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_77KJMHurEem9A9zbMJW8SQ" name="name" visibility="public" type="_tbdQUHupEemZOa7va52DCQ" isUnique="false"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_77PBsHurEem9A9zbMJW8SQ" name="BasicEvent">
                <language>JAVA</language>
                <body>&#xD;
    this.name = name;&#xD;
</body>
              </ownedBehavior>
            </packagedElement>
            <packagedElement xmi:type="uml:Package" xmi:id="_77Rd8HurEem9A9zbMJW8SQ" name="menus">
              <packagedElement xmi:type="uml:Class" xmi:id="_77TTIHurEem9A9zbMJW8SQ" name="MenuEventExit" visibility="public" isAbstract="true">
                <generalization xmi:type="uml:Generalization" xmi:id="_77T6MHurEem9A9zbMJW8SQ" general="_75_rkHurEem9A9zbMJW8SQ"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_77an4HurEem9A9zbMJW8SQ" name="side" visibility="private" type="_77XkkHurEem9A9zbMJW8SQ" isUnique="false"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_77gHcHurEem9A9zbMJW8SQ" name="MenuEventExit">
                  <language>JAVA</language>
                  <body>&#xD;
    this.side = side;&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_bph7Mnx3Eem4ef_Ffc0arQ" name="MenuEventExit" specification="_bpfe8Hx3Eem4ef_Ffc0arQ">
                  <language>JAVA</language>
                  <body>&#xD;
    this.side = side;&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_bpllknx3Eem4ef_Ffc0arQ" name="getSide" specification="_bpllkHx3Eem4ef_Ffc0arQ">
                  <language>JAVA</language>
                  <body>&#xD;
    return side;&#xD;
</body>
                </ownedBehavior>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_bpfe8Hx3Eem4ef_Ffc0arQ" name="MenuEventExit" visibility="public" method="_bph7Mnx3Eem4ef_Ffc0arQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_bph7MXx3Eem4ef_Ffc0arQ" name="side" type="_77XkkHurEem9A9zbMJW8SQ"/>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_bpllkHx3Eem4ef_Ffc0arQ" name="getSide" visibility="public" method="_bpllknx3Eem4ef_Ffc0arQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_bpllkXx3Eem4ef_Ffc0arQ" type="_77XkkHurEem9A9zbMJW8SQ" direction="return"/>
                </ownedOperation>
                <nestedClassifier xmi:type="uml:Enumeration" xmi:id="_77UhQHurEem9A9zbMJW8SQ" name="Side" visibility="public">
                  <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_77VIUHurEem9A9zbMJW8SQ" name="Right"/>
                  <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_77VvYHurEem9A9zbMJW8SQ" name="Left"/>
                  <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_77WWcHurEem9A9zbMJW8SQ" name="Up"/>
                  <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_77W9gHurEem9A9zbMJW8SQ" name="Down"/>
                </nestedClassifier>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_77XkkHurEem9A9zbMJW8SQ" name="Side"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_77lnAHurEem9A9zbMJW8SQ" name="MenuActiveProperty" visibility="public" isAbstract="true">
                <generalization xmi:type="uml:Generalization" xmi:id="_77m1IHurEem9A9zbMJW8SQ" general="_76roEHurEem9A9zbMJW8SQ"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_77ncMHurEem9A9zbMJW8SQ" name="value" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_77oqUHurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>true</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_77p4cHurEem9A9zbMJW8SQ" name="listener" visibility="public" type="_76xusHurEem9A9zbMJW8SQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_77rtoHurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>new LinkedList&lt;>()</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_77uJ4HurEem9A9zbMJW8SQ" name="setValue" specification="_77sUsHurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    value = newValue;&#xD;
    for (EventListener&lt;NewValueEvent&lt;Boolean>> event : listener) {&#xD;
        event.action(new NewValueEvent&lt;>(!newValue, newValue));&#xD;
    }&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_77wmIHurEem9A9zbMJW8SQ" name="getValue" specification="_77vYAHurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    return value;&#xD;
</body>
                </ownedBehavior>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_77sUsHurEem9A9zbMJW8SQ" name="setValue" visibility="public" method="_77uJ4HurEem9A9zbMJW8SQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_77ti0HurEem9A9zbMJW8SQ" name="newValue">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_77vYAHurEem9A9zbMJW8SQ" name="getValue" visibility="public" method="_77wmIHurEem9A9zbMJW8SQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_77v_EHurEem9A9zbMJW8SQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                  </ownedParameter>
                </ownedOperation>
                <nestedClassifier xmi:type="uml:Class" xmi:id="_QWCZgHvOEemtSbXqvSvPoQ" name="Class8"/>
              </packagedElement>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_8MIkcHurEem9A9zbMJW8SQ" name="input">
            <packagedElement xmi:type="uml:Enumeration" xmi:id="_8MKZoHurEem9A9zbMJW8SQ" name="Device" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8MeisHurEem9A9zbMJW8SQ" name="id" visibility="public" isLeaf="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8Mfw0HurEem9A9zbMJW8SQ" name="Device" visibility="private">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8MkpUHurEem9A9zbMJW8SQ" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8MLnwHurEem9A9zbMJW8SQ" name="CONTROLLER01">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8MMO0HurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>GLFW_JOYSTICK_1</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8MMO0XurEem9A9zbMJW8SQ" name="CONTROLLER02">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8MM14HurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>GLFW_JOYSTICK_2</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8MNc8HurEem9A9zbMJW8SQ" name="CONTROLLER03">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8MNc8XurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>GLFW_JOYSTICK_3</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8MNc8nurEem9A9zbMJW8SQ" name="CONTROLLER04">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8MNc83urEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>GLFW_JOYSTICK_4</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8MNc9HurEem9A9zbMJW8SQ" name="CONTROLLER05">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8MOEAHurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>GLFW_JOYSTICK_5</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8MOrEHurEem9A9zbMJW8SQ" name="CONTROLLER06">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8MPSIHurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>GLFW_JOYSTICK_6</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8MP5MHurEem9A9zbMJW8SQ" name="CONTROLLER07">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8MQgQHurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>GLFW_JOYSTICK_7</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8MRHUHurEem9A9zbMJW8SQ" name="CONTROLLER08">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8MRuYHurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>GLFW_JOYSTICK_8</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8MSVcHurEem9A9zbMJW8SQ" name="CONTROLLER09">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8MSVcXurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>GLFW_JOYSTICK_9</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8MTjkHurEem9A9zbMJW8SQ" name="CONTROLLER10">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8MTjkXurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>GLFW_JOYSTICK_10</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8MUKoHurEem9A9zbMJW8SQ" name="CONTROLLER11">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8MUxsHurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>GLFW_JOYSTICK_11</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8MVYwHurEem9A9zbMJW8SQ" name="CONTROLLER12">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8MWm4HurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>GLFW_JOYSTICK_12</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8MX1AHurEem9A9zbMJW8SQ" name="CONTROLLER13">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8MYcEHurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>GLFW_JOYSTICK_13</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8MZDIHurEem9A9zbMJW8SQ" name="CONTROLLER14">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8MZqMHurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>GLFW_JOYSTICK_14</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8Ma4UHurEem9A9zbMJW8SQ" name="CONTROLLER15">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8MbfYHurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>GLFW_JOYSTICK_15</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8McGcHurEem9A9zbMJW8SQ" name="CONTROLLER16">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8McGcXurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>GLFW_JOYSTICK_16</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8MdUkHurEem9A9zbMJW8SQ" name="KEYBOARD">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8Md7oHurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>GLFW_JOYSTICK_LAST + 1</body>
                </specification>
              </ownedLiteral>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8MrXAHurEem9A9zbMJW8SQ" name="Input" visibility="public" isLeaf="true" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8MslIHurEem9A9zbMJW8SQ" name="mousePos" visibility="public" isStatic="true" type="_tdf3sXupEemZOa7va52DCQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8MslIXurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new Vec2f()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8MvBYXurEem9A9zbMJW8SQ" name="xBuffer" visibility="private" isStatic="true" type="_8MtMMHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8MvocHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>BufferUtils.createDoubleBuffer(1)</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8MvocXurEem9A9zbMJW8SQ" name="yBuffer" visibility="private" isStatic="true" type="_8MtMMHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8MvocnurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>BufferUtils.createDoubleBuffer(1)</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8MxdoXurEem9A9zbMJW8SQ" name="joyAxis" visibility="private" isStatic="true" type="_8MwPgHurEem9A9zbMJW8SQ" isUnique="false">
                <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_8MxdonurEem9A9zbMJW8SQ"/>
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_8MyEsHurEem9A9zbMJW8SQ" value="*"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8MyEsXurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new FloatBuffer[16]</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8MyEsnurEem9A9zbMJW8SQ" name="joyButtons" visibility="private" isStatic="true" type="_tbmaQXupEemZOa7va52DCQ" isUnique="false">
                <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_8MyEs3urEem9A9zbMJW8SQ"/>
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_8MyEtHurEem9A9zbMJW8SQ" value="*"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8MyEtXurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new ByteBuffer[16]</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8Mz54XurEem9A9zbMJW8SQ" name="currentGamepad" visibility="private" isStatic="true" type="_8MyrwHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8M0g8HurEem9A9zbMJW8SQ" name="window" visibility="private" isStatic="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_8heigBydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8M0g8XurEem9A9zbMJW8SQ" name="axes" visibility="private" isStatic="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_8M0g8nurEem9A9zbMJW8SQ"/>
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_8M0g83urEem9A9zbMJW8SQ" value="*"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8M0g9HurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new float[Axis.values().length][17]</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8M1IAXurEem9A9zbMJW8SQ" name="actions" visibility="private" isStatic="true" type="_8WrnkHurEem9A9zbMJW8SQ" isUnique="false">
                <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_8M1vEHurEem9A9zbMJW8SQ"/>
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_8M1vEXurEem9A9zbMJW8SQ" value="*"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8M1vEnurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new ActionState[Action.values().length][17]</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8NAuMXurEem9A9zbMJW8SQ" name="Input">
                <language>JAVA</language>
                <body>&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8NEYkHurEem9A9zbMJW8SQ" name="actionPressed" specification="_8NDxgHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    ActionState state = getActionState(device, action);&#xD;
    return state == ActionState.JUST_PRESSED || state == ActionState.PRESSED;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8NE_oXurEem9A9zbMJW8SQ" name="actionJustPressed" specification="_8NEYkXurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    return getActionState(device, action) == ActionState.JUST_PRESSED;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8NFmsXurEem9A9zbMJW8SQ" name="actionJustReleased" specification="_8NE_onurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    return getActionState(device, action) == ActionState.JUST_RELEASED;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8NGNwHurEem9A9zbMJW8SQ" name="update" specification="_8NFmsnurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    for (int i = 0; i &lt; 17; i++) {&#xD;
        axes[Axis.MOVE_X.id][i] = 0;&#xD;
        axes[Axis.MOVE_Y.id][i] = 0;&#xD;
        axes[Axis.AIM_X.id][i] = 0;&#xD;
        axes[Axis.AIM_Y.id][i] = 0;&#xD;
        if (// Mouse and Keyboard&#xD;
        i == Device.KEYBOARD.id) {&#xD;
            glfwGetCursorPos(window, xBuffer, yBuffer);&#xD;
            mousePos.x = (float) xBuffer.get(0);&#xD;
            mousePos.y = (float) yBuffer.get(0);&#xD;
            axes[Axis.AIM_X.id][i] = mousePos.x;&#xD;
            axes[Axis.AIM_Y.id][i] = mousePos.y;&#xD;
            if (glfwGetKey(window, GLFW_KEY_A) == GLFW_PRESS)&#xD;
                axes[Axis.MOVE_X.id][i] -= 1;&#xD;
            if (glfwGetKey(window, GLFW_KEY_D) == GLFW_PRESS)&#xD;
                axes[Axis.MOVE_X.id][i] += 1;&#xD;
            if (glfwGetKey(window, GLFW_KEY_W) == GLFW_PRESS)&#xD;
                axes[Axis.MOVE_Y.id][i] -= 1;&#xD;
            if (glfwGetKey(window, GLFW_KEY_S) == GLFW_PRESS)&#xD;
                axes[Axis.MOVE_Y.id][i] += 1;&#xD;
            actions[Action.JUMP.id][i] = getActionState(actions[Action.JUMP.id][i], glfwGetKey(window, GLFW_KEY_SPACE) == GLFW_PRESS);&#xD;
            actions[Action.ATTACK.id][i] = getActionState(actions[Action.ATTACK.id][i], glfwGetKey(window, GLFW_KEY_X) == GLFW_PRESS || glfwGetMouseButton(window, GLFW_MOUSE_BUTTON_LEFT) == GLFW_PRESS);&#xD;
            actions[Action.GET_ITEM.id][i] = getActionState(actions[Action.GET_ITEM.id][i], glfwGetKey(window, GLFW_KEY_E) == GLFW_PRESS);&#xD;
            actions[Action.DROP_ITEM.id][i] = getActionState(actions[Action.DROP_ITEM.id][i], glfwGetKey(window, GLFW_KEY_R) == GLFW_PRESS);&#xD;
            actions[Action.UI_LEFT.id][i] = getActionState(actions[Action.UI_LEFT.id][i], glfwGetKey(window, GLFW_KEY_A) == GLFW_PRESS);&#xD;
            actions[Action.UI_RIGHT.id][i] = getActionState(actions[Action.UI_RIGHT.id][i], glfwGetKey(window, GLFW_KEY_D) == GLFW_PRESS);&#xD;
            actions[Action.UI_UP.id][i] = getActionState(actions[Action.UI_UP.id][i], glfwGetKey(window, GLFW_KEY_W) == GLFW_PRESS);&#xD;
            actions[Action.UI_DOWN.id][i] = getActionState(actions[Action.UI_DOWN.id][i], glfwGetKey(window, GLFW_KEY_S) == GLFW_PRESS);&#xD;
            actions[Action.UI_OK.id][i] = getActionState(actions[Action.UI_OK.id][i], glfwGetKey(window, GLFW_KEY_ENTER) == GLFW_PRESS);&#xD;
            actions[Action.UI_BACK.id][i] = getActionState(actions[Action.UI_BACK.id][i], glfwGetKey(window, GLFW_KEY_ESCAPE) == GLFW_PRESS);&#xD;
            actions[Action.UI_NathanTest.id][i] = getActionState(actions[Action.UI_NathanTest.id][i], glfwGetKey(window, GLFW_KEY_RIGHT) == GLFW_PRESS);&#xD;
        } else if (//Gamepad&#xD;
        glfwJoystickIsGamepad(i)) {&#xD;
            float deadzone = .3f;&#xD;
            if (glfwGetGamepadState(i, currentGamepad)) {&#xD;
                actions[Action.ATTACK.id][i] = getActionState(actions[Action.ATTACK.id][i], currentGamepad.axes(GLFW_GAMEPAD_AXIS_RIGHT_TRIGGER) >= 0);&#xD;
                if (Math.abs(currentGamepad.axes(GLFW_GAMEPAD_AXIS_LEFT_X)) >= deadzone || Math.abs(currentGamepad.axes(GLFW_GAMEPAD_AXIS_LEFT_Y)) >= deadzone) {&#xD;
                    axes[Axis.MOVE_X.id][i] = currentGamepad.axes(GLFW_GAMEPAD_AXIS_LEFT_X);&#xD;
                    axes[Axis.MOVE_Y.id][i] = currentGamepad.axes(GLFW_GAMEPAD_AXIS_LEFT_Y);&#xD;
                }&#xD;
                if (Math.abs(currentGamepad.axes(GLFW_GAMEPAD_AXIS_RIGHT_X)) >= deadzone || Math.abs(currentGamepad.axes(GLFW_GAMEPAD_AXIS_RIGHT_Y)) >= deadzone) {&#xD;
                    // If AimInput&lt;deadzone, aim=move direction.&#xD;
                    axes[Axis.AIM_X.id][i] = currentGamepad.axes(GLFW_GAMEPAD_AXIS_RIGHT_X);&#xD;
                    axes[Axis.AIM_Y.id][i] = currentGamepad.axes(GLFW_GAMEPAD_AXIS_RIGHT_Y);&#xD;
                } else if (axes[Axis.MOVE_X.id][i] != 0 &amp;&amp; axes[Axis.MOVE_Y.id][i] != 0) {&#xD;
                    axes[Axis.AIM_X.id][i] = axes[Axis.MOVE_X.id][i];&#xD;
                    axes[Axis.AIM_Y.id][i] = axes[Axis.MOVE_Y.id][i];&#xD;
                }&#xD;
                actions[Action.JUMP.id][i] = getActionState(actions[Action.JUMP.id][i], currentGamepad.buttons(GLFW_GAMEPAD_BUTTON_A) == GLFW_PRESS);&#xD;
                actions[Action.GET_ITEM.id][i] = getActionState(actions[Action.GET_ITEM.id][i], currentGamepad.buttons(GLFW_GAMEPAD_BUTTON_B) == GLFW_PRESS);&#xD;
                actions[Action.DROP_ITEM.id][i] = getActionState(actions[Action.DROP_ITEM.id][i], currentGamepad.buttons(GLFW_GAMEPAD_BUTTON_Y) == GLFW_PRESS);&#xD;
                actions[Action.UI_LEFT.id][i] = getActionState(actions[Action.UI_LEFT.id][i], currentGamepad.buttons(GLFW_GAMEPAD_BUTTON_DPAD_LEFT) == GLFW_PRESS);&#xD;
                actions[Action.UI_RIGHT.id][i] = getActionState(actions[Action.UI_RIGHT.id][i], currentGamepad.buttons(GLFW_GAMEPAD_BUTTON_DPAD_RIGHT) == GLFW_PRESS);&#xD;
                actions[Action.UI_UP.id][i] = getActionState(actions[Action.UI_UP.id][i], currentGamepad.buttons(GLFW_GAMEPAD_BUTTON_DPAD_UP) == GLFW_PRESS);&#xD;
                actions[Action.UI_DOWN.id][i] = getActionState(actions[Action.UI_DOWN.id][i], currentGamepad.buttons(GLFW_GAMEPAD_BUTTON_DPAD_DOWN) == GLFW_PRESS);&#xD;
                actions[Action.UI_OK.id][i] = getActionState(actions[Action.UI_OK.id][i], currentGamepad.buttons(GLFW_GAMEPAD_BUTTON_A) == GLFW_PRESS);&#xD;
                actions[Action.UI_BACK.id][i] = getActionState(actions[Action.UI_BACK.id][i], currentGamepad.buttons(GLFW_GAMEPAD_BUTTON_B) == GLFW_PRESS);&#xD;
                actions[Action.UI_PAUSE.id][i] = getActionState(actions[Action.UI_PAUSE.id][i], currentGamepad.buttons(GLFW_GAMEPAD_BUTTON_START) == GLFW_PRESS);&#xD;
            }&#xD;
        } else //Non-gamepad joystick&#xD;
        {&#xD;
            joyAxis[i] = glfwGetJoystickAxes(i);&#xD;
            joyButtons[i] = glfwGetJoystickButtons(i);&#xD;
            if (joyAxis[i] != null) {&#xD;
                float deadzone = .3f;&#xD;
                if (joyAxis[i].capacity() >= 6) {&#xD;
                    actions[Action.ATTACK.id][i] = getActionState(actions[Action.ATTACK.id][i], joyAxis[i].get(5) >= 0);&#xD;
                    if (Math.abs(joyAxis[i].get(0)) >= deadzone || Math.abs(joyAxis[i].get(1)) >= deadzone) {&#xD;
                        axes[Axis.MOVE_X.id][i] = joyAxis[i].get(0);&#xD;
                        axes[Axis.MOVE_Y.id][i] = joyAxis[i].get(1);&#xD;
                    }&#xD;
                    if (Math.abs(joyAxis[i].get(2)) >= deadzone || Math.abs(joyAxis[i].get(3)) >= deadzone) {&#xD;
                        // If AimInput&lt;deadzone, aim=move direction.&#xD;
                        axes[Axis.AIM_X.id][i] = joyAxis[i].get(2);&#xD;
                        axes[Axis.AIM_Y.id][i] = joyAxis[i].get(3);&#xD;
                    } else if (axes[Axis.MOVE_X.id][i] != 0 &amp;&amp; axes[Axis.MOVE_Y.id][i] != 0) {&#xD;
                        axes[Axis.AIM_X.id][i] = axes[Axis.MOVE_X.id][i];&#xD;
                        axes[Axis.AIM_Y.id][i] = axes[Axis.MOVE_Y.id][i];&#xD;
                    }&#xD;
                }&#xD;
                if (joyButtons[i] != null &amp;&amp; joyButtons[i].capacity() >= 4) {&#xD;
                    actions[Action.JUMP.id][i] = getActionState(actions[Action.JUMP.id][i], joyButtons[i].get(0) == GLFW_PRESS);&#xD;
                    actions[Action.GET_ITEM.id][i] = getActionState(actions[Action.GET_ITEM.id][i], joyButtons[i].get(1) == GLFW_PRESS);&#xD;
                    actions[Action.DROP_ITEM.id][i] = getActionState(actions[Action.DROP_ITEM.id][i], joyButtons[i].get(3) == GLFW_PRESS);&#xD;
                    actions[Action.UI_OK.id][i] = getActionState(actions[Action.UI_OK.id][i], joyButtons[i].get(0) == GLFW_PRESS);&#xD;
                    actions[Action.UI_BACK.id][i] = getActionState(actions[Action.UI_BACK.id][i], joyButtons[i].get(1) == GLFW_PRESS);&#xD;
                }&#xD;
                actions[Action.UI_LEFT.id][i] = getActionState(actions[Action.UI_LEFT.id][i], axes[Axis.MOVE_X.id][i] &lt; 0);&#xD;
                actions[Action.UI_RIGHT.id][i] = getActionState(actions[Action.UI_RIGHT.id][i], axes[Axis.MOVE_X.id][i] > 0);&#xD;
                actions[Action.UI_UP.id][i] = getActionState(actions[Action.UI_UP.id][i], axes[Axis.MOVE_Y.id][i] > 0);&#xD;
                actions[Action.UI_DOWN.id][i] = getActionState(actions[Action.UI_DOWN.id][i], axes[Axis.MOVE_Y.id][i] &lt; 0);&#xD;
            }&#xD;
        }&#xD;
    }&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8NIC8XurEem9A9zbMJW8SQ" name="printJoystick" specification="_8NHb43urEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    if (joyAxis[id] == null)&#xD;
        return;&#xD;
    String res = &quot;Controller &quot; + id + &quot; axis :&quot;;&#xD;
    for (int i = 0; i &lt; joyAxis[id].capacity(); i++) res += &quot;\n &quot; + i + &quot; : &quot; + joyAxis[id].get(i);&#xD;
    System.out.println(res);&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8NDxgHurEem9A9zbMJW8SQ" name="actionPressed" visibility="public" isStatic="true" method="_8NEYkHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8NDxgXurEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                </ownedParameter>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8NDxgnurEem9A9zbMJW8SQ" name="device" type="_8MKZoHurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8NDxg3urEem9A9zbMJW8SQ" name="action" type="_8SjVgHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8NEYkXurEem9A9zbMJW8SQ" name="actionJustPressed" visibility="public" isStatic="true" method="_8NE_oXurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8NEYknurEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                </ownedParameter>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8NEYk3urEem9A9zbMJW8SQ" name="device" type="_8MKZoHurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8NE_oHurEem9A9zbMJW8SQ" name="action" type="_8SjVgHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8NE_onurEem9A9zbMJW8SQ" name="actionJustReleased" visibility="public" isStatic="true" method="_8NFmsXurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8NE_o3urEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                </ownedParameter>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8NE_pHurEem9A9zbMJW8SQ" name="device" type="_8MKZoHurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8NFmsHurEem9A9zbMJW8SQ" name="action" type="_8SjVgHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8NFmsnurEem9A9zbMJW8SQ" name="update" visibility="public" isStatic="true" method="_8NGNwHurEem9A9zbMJW8SQ"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8NHb43urEem9A9zbMJW8SQ" name="printJoystick" visibility="private" isStatic="true" method="_8NIC8XurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8NIC8HurEem9A9zbMJW8SQ" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Enumeration" xmi:id="_8WrnkHurEem9A9zbMJW8SQ" name="ActionState" visibility="public" isAbstract="true">
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8WuD0HurEem9A9zbMJW8SQ" name="RELEASED"/>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8Wuq4HurEem9A9zbMJW8SQ" name="JUST_PRESSED"/>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8WvR8HurEem9A9zbMJW8SQ" name="PRESSED"/>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8Wv5AHurEem9A9zbMJW8SQ" name="JUST_RELEASED"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Enumeration" xmi:id="_8aCdkHurEem9A9zbMJW8SQ" name="Axis" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8aNcsHurEem9A9zbMJW8SQ" name="id" visibility="public" isLeaf="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8aPR4HurEem9A9zbMJW8SQ" name="Axis" visibility="private">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8aRuIHurEem9A9zbMJW8SQ" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8aDEoHurEem9A9zbMJW8SQ" name="MOVE_X">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8aDrsHurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>0</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8aESwHurEem9A9zbMJW8SQ" name="MOVE_Y">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8aE50HurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>1</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8aGH8HurEem9A9zbMJW8SQ" name="AIM_X">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8aIkMHurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>2</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8aLngHurEem9A9zbMJW8SQ" name="AIM_Y">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8aMOkHurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>3</body>
                </specification>
              </ownedLiteral>
            </packagedElement>
            <packagedElement xmi:type="uml:Enumeration" xmi:id="_8SjVgHurEem9A9zbMJW8SQ" name="Action" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8S1pYHurEem9A9zbMJW8SQ" name="id" visibility="public" isLeaf="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8S23gHurEem9A9zbMJW8SQ" name="Action" visibility="private">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8S560HurEem9A9zbMJW8SQ" name="id">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8SlKsHurEem9A9zbMJW8SQ" name="JUMP">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8SlxwHurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>0</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8Sm_4HurEem9A9zbMJW8SQ" name="ATTACK">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8Snm8HurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>1</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8SoOAHurEem9A9zbMJW8SQ" name="GET_ITEM">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8So1EHurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>2</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8SqDMHurEem9A9zbMJW8SQ" name="DROP_ITEM">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8SqqQHurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>3</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8SrRUHurEem9A9zbMJW8SQ" name="UI_LEFT">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8SrRUXurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>4</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8SsfcHurEem9A9zbMJW8SQ" name="UI_RIGHT">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8SsfcXurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>5</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8StGgHurEem9A9zbMJW8SQ" name="UI_UP">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8SuUoHurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>6</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8Su7sHurEem9A9zbMJW8SQ" name="UI_DOWN">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8SviwHurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>7</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8SwJ0HurEem9A9zbMJW8SQ" name="UI_OK">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8Sww4HurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>8</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8SxX8HurEem9A9zbMJW8SQ" name="UI_BACK">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8Sx_AHurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>9</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8SymEHurEem9A9zbMJW8SQ" name="UI_NathanTest">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8SzNIHurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>10</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8S0bQHurEem9A9zbMJW8SQ" name="UI_PAUSE">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8S0bQXurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>11</body>
                </specification>
              </ownedLiteral>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_8iIpoHurEem9A9zbMJW8SQ" name="physic">
            <packagedElement xmi:type="uml:Class" xmi:id="_8iKe0HurEem9A9zbMJW8SQ" name="PhysicBody" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8iaWcHurEem9A9zbMJW8SQ" name="isSensor" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8ibkkHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>false</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8ijgYHurEem9A9zbMJW8SQ" name="PhysicBody">
                <language>JAVA</language>
                <body>&#xD;
    this.shape = shape;&#xD;
    this.collFlags = collFlags;&#xD;
</body>
              </ownedBehavior>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8iLs8HurEem9A9zbMJW8SQ" name="PhysicShape" visibility="public" isAbstract="true"/>
            <packagedElement xmi:type="uml:Enumeration" xmi:id="_8oLAMHurEem9A9zbMJW8SQ" name="CollisionFlags" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8oSU8HurEem9A9zbMJW8SQ" name="category" visibility="public" isLeaf="true" type="_8lKvgHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8oTjEHurEem9A9zbMJW8SQ" name="maskBits" visibility="public" isLeaf="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8oUxMHurEem9A9zbMJW8SQ" name="CollisionFlags" visibility="private">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8oX0gHurEem9A9zbMJW8SQ" name="category" type="_8lKvgHurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8oYbkHurEem9A9zbMJW8SQ" name="masks" type="_8lKvgHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8oMOUHurEem9A9zbMJW8SQ" name="LANDSCAPE">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8oM1YHurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>CAT_LANDSCAPE, CAT_CHARACTER, CAT_ITEM, CAT_PROJ, CAT_RIGIDBODY</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8oNccHurEem9A9zbMJW8SQ" name="CHARACTER">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8oODgHurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>CAT_CHARACTER, CAT_LANDSCAPE, CAT_ITEM, CAT_PROJ, CAT_RIGIDBODY</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8oOqkHurEem9A9zbMJW8SQ" name="ITEM">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8oOqkXurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>CAT_ITEM, CAT_LANDSCAPE, CAT_RIGIDBODY, CAT_RIGIDBODY</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8oP4sHurEem9A9zbMJW8SQ" name="PROJ">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8oQfwHurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>CAT_PROJ, CAT_LANDSCAPE, CAT_CHARACTER, CAT_RIGIDBODY</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8oRG0HurEem9A9zbMJW8SQ" name="RIGIDBODY">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8oRG0XurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>CAT_RIGIDBODY, CAT_LANDSCAPE, CAT_CHARACTER, CAT_ITEM, CAT_PROJ, CAT_RIGIDBODY</body>
                </specification>
              </ownedLiteral>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8icLoHurEem9A9zbMJW8SQ" name="PhysicWorld" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8jJ9UHurEem9A9zbMJW8SQ" name="world" visibility="private" type="_8jD2sHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8jRSEHurEem9A9zbMJW8SQ" name="map" visibility="private" type="_zmsqkHupEemZOa7va52DCQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8jWKkHurEem9A9zbMJW8SQ" name="contactListener" visibility="private" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8jXYsHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new MyContactListener()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8jbqIHurEem9A9zbMJW8SQ" name="PhysicWorld">
                <language>JAVA</language>
                <body>&#xD;
    this.map = map;&#xD;
    world = new World(map.gravity.toB2Vec());&#xD;
    world.setContactListener(contactListener);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8jk0EHurEem9A9zbMJW8SQ" name="createStaticBody">
                <language>JAVA</language>
                <body>&#xD;
    BodyDef bodyDef = new BodyDef();&#xD;
    bodyDef.position.set(pos.x, pos.y * -1);&#xD;
    Body body = world.createBody(bodyDef);&#xD;
    body.createFixture(shape.b2Shape, 0);&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8jc4QHurEem9A9zbMJW8SQ" name="step" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8jdfUHurEem9A9zbMJW8SQ" name="d">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8kTz4HurEem9A9zbMJW8SQ" name="ImpactOld" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8kXeQHurEem9A9zbMJW8SQ" name="collision" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8kYsYHurEem9A9zbMJW8SQ" name="entryTime" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8kc90HurEem9A9zbMJW8SQ" name="impactLocation" visibility="private" type="_8kahkHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8kdk4HurEem9A9zbMJW8SQ" name="velMod" visibility="private" type="_8dpyQHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8kh2UHurEem9A9zbMJW8SQ" name="ImpactOld">
                <language>JAVA</language>
                <body>&#xD;
    float x = xColliding(c1, c2, vel);&#xD;
    float y = yColliding(c1, c2, vel);&#xD;
    velMod = new Vec2f(x, y);&#xD;
    collision = true;&#xD;
    if (// Vertical impact first&#xD;
    y &lt; x) {&#xD;
        if (y > 0) {&#xD;
            impactLocation = ImpactLocation.Bottom;&#xD;
        } else {&#xD;
            impactLocation = ImpactLocation.Top;&#xD;
        }&#xD;
    } else if (// Horizontal impact first&#xD;
    x &lt; y) {&#xD;
        if (x > 0) {&#xD;
            impactLocation = ImpactLocation.Right;&#xD;
        } else {&#xD;
            impactLocation = ImpactLocation.Left;&#xD;
        }&#xD;
    } else // x = y&#xD;
    {&#xD;
        if (x == 1) {&#xD;
            impactLocation = ImpactLocation.NoImpact;&#xD;
            collision = false;&#xD;
        } else {&#xD;
            impactLocation = // By default&#xD;
            ImpactLocation.Bottom;&#xD;
        }&#xD;
    }&#xD;
    entryTime = Math.min(x, y);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8kk5oXurEem9A9zbMJW8SQ" name="yColliding" specification="_8kidYHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    // check if c1 and c2 can have a collision on X axe (no matter their Y position)&#xD;
    boolean xImpact = Collider.isX1IncluedInX2(c1, c2);&#xD;
    if (// a collision could be possible in Y axe&#xD;
    xImpact &amp;&amp; vel.y != 0) {&#xD;
        if (// c1 is going down&#xD;
        vel.y > 0) {&#xD;
            if (// c1 is below c2 so a collision is impossible&#xD;
            c1.getYTop() >= c2.getYBottom()) {&#xD;
                return 1;&#xD;
            } else // c1 is above c2&#xD;
            {&#xD;
                float dist = c2.getYTop() - c1.getYBottom();&#xD;
                dist = dist / vel.y;&#xD;
                // there will be a collision in Y axe during the frame&#xD;
                if (dist &lt; 1) {&#xD;
                    return dist;&#xD;
                } else // c2 is to far from c1 for a collision during the frame&#xD;
                {&#xD;
                    return 1;&#xD;
                }&#xD;
            }&#xD;
        } else // c1 is going up&#xD;
        {&#xD;
            if (// c1 is above c2 so a collision is impossible&#xD;
            c1.getYBottom() &lt;= c2.getYTop()) {&#xD;
                return 1;&#xD;
            } else // c1 is below c2&#xD;
            {&#xD;
                float dist = c1.getYTop() - c2.getYBottom();&#xD;
                dist = -dist / vel.y;&#xD;
                // there will be a collision in Y axe during the frame&#xD;
                if (dist &lt; 1) {&#xD;
                    return dist;&#xD;
                } else // c2 is to far from c1 for a collision during the frame&#xD;
                {&#xD;
                    return 1;&#xD;
                }&#xD;
            }&#xD;
        }&#xD;
    }&#xD;
    // Collision is impossible, no matter how the Y velocity is high&#xD;
    return 1;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8kmHwXurEem9A9zbMJW8SQ" name="xColliding" specification="_8klgsHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    // check if c1 and c2 can have a collision on Y axe (no&#xD;
    boolean yImpact = Collider.isY1IncluedInY2(c1, c2);&#xD;
    // matter their X position)&#xD;
    if (// a collision could be possible in X axe&#xD;
    yImpact &amp;&amp; vel.x != 0) {&#xD;
        if (// c1 is going right&#xD;
        vel.x > 0) {&#xD;
            if (// c1 is already on the right of c2&#xD;
            c1.getXLeft() >= c2.getXRight()) {&#xD;
                return 1;&#xD;
            } else // c1 is on the left of c2&#xD;
            {&#xD;
                float dist = c2.getXLeft() - c1.getXRight();&#xD;
                dist = dist / vel.x;&#xD;
                // there will be a collision in X axe during the frame&#xD;
                if (dist &lt; 1) {&#xD;
                    return dist;&#xD;
                } else // c2 is to far from c1 for a collision during the frame&#xD;
                {&#xD;
                    return 1;&#xD;
                }&#xD;
            }&#xD;
        } else // c1 is going left&#xD;
        {&#xD;
            if (// c1 is already on the left of c2&#xD;
            c1.getXRight() &lt;= c2.getXLeft()) {&#xD;
                return 1;&#xD;
            } else {&#xD;
                float dist = c1.getXLeft() - c2.getXRight();&#xD;
                dist = -dist / vel.x;&#xD;
                // there will be a collision in X axe during the frame&#xD;
                if (dist &lt; 1) {&#xD;
                    return dist;&#xD;
                } else // c2 is to far from c1 for a collision during the frame&#xD;
                {&#xD;
                    return 1;&#xD;
                }&#xD;
            }&#xD;
        }&#xD;
    }&#xD;
    // Collision is impossible, no matter how the X velocity is high&#xD;
    return 1;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8kmu0nurEem9A9zbMJW8SQ" name="isColliding" specification="_8kmu0HurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    return collision;&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8kidYHurEem9A9zbMJW8SQ" name="yColliding" visibility="private" method="_8kk5oXurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8kidYXurEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedParameter>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8kjrgHurEem9A9zbMJW8SQ" name="c1" type="_8keL8HurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8kkSkHurEem9A9zbMJW8SQ" name="c2" type="_8keL8HurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8kk5oHurEem9A9zbMJW8SQ" name="vel" type="_8dpyQHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8klgsHurEem9A9zbMJW8SQ" name="xColliding" visibility="private" method="_8kmHwXurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8klgsXurEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedParameter>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8klgsnurEem9A9zbMJW8SQ" name="c1" type="_8keL8HurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8klgs3urEem9A9zbMJW8SQ" name="c2" type="_8keL8HurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8kmHwHurEem9A9zbMJW8SQ" name="vel" type="_8dpyQHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8kmu0HurEem9A9zbMJW8SQ" name="isColliding" visibility="public" method="_8kmu0nurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8kmu0XurEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                </ownedParameter>
              </ownedOperation>
              <nestedClassifier xmi:type="uml:Enumeration" xmi:id="_8kUa8HurEem9A9zbMJW8SQ" name="ImpactLocation" visibility="public">
                <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8kVCAHurEem9A9zbMJW8SQ" name="Left"/>
                <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8kVpEHurEem9A9zbMJW8SQ" name="Right"/>
                <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8kWQIHurEem9A9zbMJW8SQ" name="Top"/>
                <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8kWQIXurEem9A9zbMJW8SQ" name="Bottom"/>
                <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8kW3MHurEem9A9zbMJW8SQ" name="NoImpact"/>
              </nestedClassifier>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8kahkHurEem9A9zbMJW8SQ" name="ImpactLocation"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_8kv4wHurEem9A9zbMJW8SQ" name="AABB" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8kxG4HurEem9A9zbMJW8SQ" name="center" visibility="private" type="_8dpyQHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8kyVAHurEem9A9zbMJW8SQ" name="extent" visibility="private" type="_8dpyQHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8lHsMHurEem9A9zbMJW8SQ" name="isColliding" specification="_8lF3AHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    // TODO Auto-generated method stub&#xD;
    return false;&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8k9UIHurEem9A9zbMJW8SQ" name="isColliding" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8k97MHurEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                </ownedParameter>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8k-iQHurEem9A9zbMJW8SQ" name="other" type="_8kv4wHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8lA-gHurEem9A9zbMJW8SQ" name="isColliding" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8lBlkHurEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                </ownedParameter>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8lDawHurEem9A9zbMJW8SQ" name="other" type="_8lAXcXurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8lF3AHurEem9A9zbMJW8SQ" name="isColliding" visibility="public" method="_8lHsMHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8lF3AXurEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                </ownedParameter>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8lGeEHurEem9A9zbMJW8SQ" name="other" type="_8lFP8HurEem9A9zbMJW8SQ"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Package" xmi:id="_8lAXcHurEem9A9zbMJW8SQ" name="shapes">
              <packagedElement xmi:type="uml:Class" xmi:id="_8lAXcXurEem9A9zbMJW8SQ" name="ShapeBox" visibility="public" isAbstract="true">
                <generalization xmi:type="uml:Generalization" xmi:id="_8qgigHurEem9A9zbMJW8SQ" general="_8iLs8HurEem9A9zbMJW8SQ"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8qhJkHurEem9A9zbMJW8SQ" name="extent" visibility="private" type="_8dpyQHurEem9A9zbMJW8SQ" isUnique="false"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8qmpIHurEem9A9zbMJW8SQ" name="quad" visibility="private" isLeaf="true" isStatic="true" type="_8AmC0HurEem9A9zbMJW8SQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8qn3QHurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>Model.loadQuad()</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8qoeUHurEem9A9zbMJW8SQ" name="shader" visibility="private" isLeaf="true" isStatic="true" type="_7703kHurEem9A9zbMJW8SQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8qpscHurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>Shader.loadShader(&quot;data/shaders/debug_color&quot;)</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8qlbAHurEem9A9zbMJW8SQ" name="ShapeBox">
                  <language>JAVA</language>
                  <body>&#xD;
    this.extent = extent.clone();&#xD;
    b2Shape = new PolygonShape();&#xD;
    ((PolygonShape) b2Shape).setAsBox(extent.x, extent.y);&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8qsvwHurEem9A9zbMJW8SQ" name="debugDraw" specification="_8qqTgHurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    shader.bind();&#xD;
    //Create matrices&#xD;
    Mat4f modelM = Mat4f.transform(pos, rot, Vec2f.multiply(extent, 2));&#xD;
    shader.setUniformM4(&quot;model&quot;, modelM);&#xD;
    shader.setUniformM4(&quot;view&quot;, Window.getView());&#xD;
    shader.setUniformM4(&quot;projection&quot;, Window.proj);&#xD;
    shader.setUniformV4(&quot;color&quot;, new float[] { 1, 0, 0, 1 });&#xD;
    quad.bindToShader(shader);&#xD;
    quad.bind();&#xD;
    quad.draw(true);&#xD;
</body>
                </ownedBehavior>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_8qqTgHurEem9A9zbMJW8SQ" name="debugDraw" visibility="public" method="_8qsvwHurEem9A9zbMJW8SQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_8qq6kHurEem9A9zbMJW8SQ" name="pos" type="_8dpyQHurEem9A9zbMJW8SQ"/>
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_8qsIsHurEem9A9zbMJW8SQ" name="rot">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                  </ownedParameter>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_8lFP8HurEem9A9zbMJW8SQ" name="ShapeDisk" visibility="public" isAbstract="true">
                <generalization xmi:type="uml:Generalization" xmi:id="_8qMZcHurEem9A9zbMJW8SQ" general="_8iLs8HurEem9A9zbMJW8SQ"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8qNnkHurEem9A9zbMJW8SQ" name="radius" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8qXYkHurEem9A9zbMJW8SQ" name="disk" visibility="private" isLeaf="true" isStatic="true" type="_8AmC0HurEem9A9zbMJW8SQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8qZNwHurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>Model.loadDisk(16)</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8qZ00HurEem9A9zbMJW8SQ" name="shader" visibility="private" isLeaf="true" isStatic="true" type="_7703kHurEem9A9zbMJW8SQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8qbqAHurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>Shader.loadShader(&quot;data/shaders/debug_color&quot;)</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8qR5AHurEem9A9zbMJW8SQ" name="ShapeDisk">
                  <language>JAVA</language>
                  <body>&#xD;
    b2Shape = new CircleShape();&#xD;
    b2Shape.setRadius((float) radius);&#xD;
    this.radius = radius;&#xD;
</body>
                </ownedBehavior>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_S3TFQHviEemtSbXqvSvPoQ" name="ShapeCharacter" visibility="public">
                <generalization xmi:type="uml:Generalization" xmi:id="_S3WIkHviEemtSbXqvSvPoQ" general="_8iLs8HurEem9A9zbMJW8SQ"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_S3X9wXviEemtSbXqvSvPoQ" name="model" visibility="private" type="_8AmC0HurEem9A9zbMJW8SQ" isUnique="false"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_S3Zy8XviEemtSbXqvSvPoQ" name="vec1" visibility="private" isLeaf="true" isStatic="true" type="_8dpyQHurEem9A9zbMJW8SQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_S3Zy8nviEemtSbXqvSvPoQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>new Vec2f(1)</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_S3c2QHviEemtSbXqvSvPoQ" name="shader" visibility="private" isLeaf="true" isStatic="true" type="_7703kHurEem9A9zbMJW8SQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_S3c2QXviEemtSbXqvSvPoQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>Shader.loadShader(&quot;data/shaders/debug_color&quot;)</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_S3bBEXviEemtSbXqvSvPoQ" name="ShapeCharacter" specification="_S3Zy83viEemtSbXqvSvPoQ">
                  <language>JAVA</language>
                  <body>&#xD;
    Vec2[] vertices = { new Vec2(-.5f, -1), new Vec2(.5f, -1), new Vec2(.5f, .55f), new Vec2(.05f, 1), new Vec2(-.05f, 1), new Vec2(-.5f, .55f) };&#xD;
    b2Shape = new PolygonShape();&#xD;
    ((PolygonShape) b2Shape).set(vertices, vertices.length);&#xD;
    float[] modelData = new float[vertices.length * 8];&#xD;
    for (int i = 0; i &lt; vertices.length; i++) {&#xD;
        modelData[i * 8] = vertices[i].x;&#xD;
        modelData[(i * 8) + 1] = vertices[i].y;&#xD;
    }&#xD;
    int[] modelIndices = { 0, 1, 2, 1, 2, 3, 2, 3, 5, 3, 4, 5 };&#xD;
    model = new Model(modelData, modelIndices);&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_S3ddUnviEemtSbXqvSvPoQ" name="debugDraw" specification="_S3c2QnviEemtSbXqvSvPoQ">
                  <language>JAVA</language>
                  <body>&#xD;
    shader.bind();&#xD;
    //Create matrices&#xD;
    Mat4f modelM = Mat4f.transform(pos, rot, vec1);&#xD;
    shader.setUniformM4(&quot;model&quot;, modelM);&#xD;
    shader.setUniformM4(&quot;view&quot;, Window.getView());&#xD;
    shader.setUniformM4(&quot;projection&quot;, Window.proj);&#xD;
    shader.setUniformV4(&quot;color&quot;, new float[] { 1, 0, 0, 1 });&#xD;
    model.bindToShader(shader);&#xD;
    model.bind();&#xD;
    model.draw(true);&#xD;
</body>
                </ownedBehavior>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_S3Zy83viEemtSbXqvSvPoQ" name="ShapeCharacter" visibility="public" method="_S3bBEXviEemtSbXqvSvPoQ"/>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_S3c2QnviEemtSbXqvSvPoQ" name="debugDraw" visibility="public" method="_S3ddUnviEemtSbXqvSvPoQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_S3ddUHviEemtSbXqvSvPoQ" name="pos" type="_8dpyQHurEem9A9zbMJW8SQ"/>
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_S3ddUXviEemtSbXqvSvPoQ" name="rot">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                  </ownedParameter>
                </ownedOperation>
              </packagedElement>
            </packagedElement>
            <packagedElement xmi:type="uml:Enumeration" xmi:id="_8lKvgHurEem9A9zbMJW8SQ" name="CollisionCategory" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8lRdMHurEem9A9zbMJW8SQ" name="bits" visibility="public" isLeaf="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8lSrUHurEem9A9zbMJW8SQ" name="CollisionCategory" visibility="private">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8lVHkHurEem9A9zbMJW8SQ" name="bits">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8lL9oHurEem9A9zbMJW8SQ" name="CAT_LANDSCAPE">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8lMksHurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>0b0000000000000001</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8lNLwHurEem9A9zbMJW8SQ" name="CAT_CHARACTER">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8lNy0HurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>0b0000000000000010</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8lOZ4HurEem9A9zbMJW8SQ" name="CAT_ITEM">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8lOZ4XurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>0b0000000000000100</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8lPA8HurEem9A9zbMJW8SQ" name="CAT_PROJ">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8lPoAHurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>0b0000000000001000</body>
                </specification>
              </ownedLiteral>
              <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_8lQPEHurEem9A9zbMJW8SQ" name="CAT_RIGIDBODY">
                <specification xmi:type="uml:OpaqueExpression" xmi:id="_8lQ2IHurEem9A9zbMJW8SQ" name="specification">
                  <language>JAVA</language>
                  <body>0b0000000000010000</body>
                </specification>
              </ownedLiteral>
            </packagedElement>
            <packagedElement xmi:type="uml:Package" xmi:id="_8omeAHurEem9A9zbMJW8SQ" name="bodies">
              <packagedElement xmi:type="uml:Class" xmi:id="_8oqIYHurEem9A9zbMJW8SQ" name="RigidBody" visibility="public" isAbstract="true">
                <generalization xmi:type="uml:Generalization" xmi:id="_8or9kHurEem9A9zbMJW8SQ" general="_8iKe0HurEem9A9zbMJW8SQ"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8ovn8HurEem9A9zbMJW8SQ" name="density" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8o1HgHurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>1.0f</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8o6AAHurEem9A9zbMJW8SQ" name="friction" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8o7OIHurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>0.3f</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8o71MHurEem9A9zbMJW8SQ" name="restitution" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8o8cQHurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>0.25f</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8o9DUHurEem9A9zbMJW8SQ" name="linearVelocity" visibility="private" type="_8dpyQHurEem9A9zbMJW8SQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8o-RcHurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>new Vec2f()</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8pIpgHurEem9A9zbMJW8SQ" name="RigidBody">
                  <language>JAVA</language>
                  <body>&#xD;
    super(shape, position, rotation, collFlags);&#xD;
    this.density = density;&#xD;
    this.friction = friction;&#xD;
    bodyDef = new BodyDef();&#xD;
    bodyDef.setPosition(position.toB2Vec());&#xD;
    bodyDef.setAngle((float) rotation);&#xD;
    bodyDef.setType(BodyType.DYNAMIC);&#xD;
</body>
                </ownedBehavior>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_8pPXMHurEem9A9zbMJW8SQ" name="applyImpulse" visibility="public">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_8pP-QHurEem9A9zbMJW8SQ" name="impulse" type="_8dpyQHurEem9A9zbMJW8SQ"/>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_8pU2wHurEem9A9zbMJW8SQ" name="applyForce" visibility="public">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_8pVd0HurEem9A9zbMJW8SQ" name="force" type="_8dpyQHurEem9A9zbMJW8SQ"/>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_8pgc8HurEem9A9zbMJW8SQ" name="KinematicBody" visibility="public" isAbstract="true">
                <generalization xmi:type="uml:Generalization" xmi:id="_8phrEHurEem9A9zbMJW8SQ" general="_8iKe0HurEem9A9zbMJW8SQ"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8piSIHurEem9A9zbMJW8SQ" name="density" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8pjgQHurEem9A9zbMJW8SQ" name="linearVelocity" visibility="private" type="_8dpyQHurEem9A9zbMJW8SQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8pkuYHurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>new Vec2f()</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8prcEHurEem9A9zbMJW8SQ" name="KinematicBody">
                  <language>JAVA</language>
                  <body>&#xD;
    super(shape, position, rotation, collFlags);&#xD;
    this.density = density;&#xD;
    bodyDef = new BodyDef();&#xD;
    bodyDef.position.set(position.x, position.y);&#xD;
    bodyDef.setAngle((float) rotation);&#xD;
    bodyDef.setType(BodyType.KINEMATIC);&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8pt4UHurEem9A9zbMJW8SQ" name="applyImpulse" specification="_8psqMHurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    body.applyLinearImpulse(impulse.toB2Vec(), body.getPosition(), true);&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8p6FkHurEem9A9zbMJW8SQ" name="addToWorld" specification="_8p43cHurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    this.world = world;&#xD;
    body = world.getB2World().createBody(bodyDef);&#xD;
    FixtureDef fixtureDef = new FixtureDef();&#xD;
    fixtureDef.setShape(shape.getB2Shape());&#xD;
    fixtureDef.setDensity(density);&#xD;
    //TODO&#xD;
    fixtureDef.setRestitution(.3f);&#xD;
    //TODO&#xD;
    fixtureDef.setFriction(.3f);&#xD;
    //Collision filter&#xD;
    Filter filter = new Filter();&#xD;
    filter.categoryBits = collFlags.category.bits;&#xD;
    filter.maskBits = collFlags.maskBits;&#xD;
    fixtureDef.setFilter(filter);&#xD;
    fixtureDef.setSensor(isSensor());&#xD;
    fixture = body.createFixture(fixtureDef);&#xD;
</body>
                </ownedBehavior>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_8psqMHurEem9A9zbMJW8SQ" name="applyImpulse" visibility="public" method="_8pt4UHurEem9A9zbMJW8SQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_8ptRQHurEem9A9zbMJW8SQ" name="impulse" type="_8dpyQHurEem9A9zbMJW8SQ"/>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_8p43cHurEem9A9zbMJW8SQ" name="addToWorld" visibility="public" method="_8p6FkHurEem9A9zbMJW8SQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_8p5egHurEem9A9zbMJW8SQ" name="world" type="_8icLoHurEem9A9zbMJW8SQ"/>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_8p9I4HurEem9A9zbMJW8SQ" name="StaticBody" visibility="public" isAbstract="true">
                <generalization xmi:type="uml:Generalization" xmi:id="_8p9v8HurEem9A9zbMJW8SQ" general="_8iKe0HurEem9A9zbMJW8SQ"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8p-XAHurEem9A9zbMJW8SQ" name="friction" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8p_lIHurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>0.3f</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8qAMMHurEem9A9zbMJW8SQ" name="restitution" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8qBaUHurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>0.25f</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8qG54HurEem9A9zbMJW8SQ" name="StaticBody">
                  <language>JAVA</language>
                  <body>&#xD;
    super(shape, position, rotation, collFlags);&#xD;
    bodyDef = new BodyDef();&#xD;
    bodyDef.setPosition(position.toB2Vec());&#xD;
    bodyDef.setAngle((float) rotation);&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8qJWIHurEem9A9zbMJW8SQ" name="addToWorld" specification="_8qIIAHurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    this.world = world;&#xD;
    body = world.getB2World().createBody(bodyDef);&#xD;
    FixtureDef fixtureDef = new FixtureDef();&#xD;
    fixtureDef.setShape(shape.getB2Shape());&#xD;
    fixtureDef.setDensity(0);&#xD;
    fixtureDef.setRestitution(restitution);&#xD;
    fixtureDef.setFriction(friction);&#xD;
    //Collision filter&#xD;
    Filter filter = new Filter();&#xD;
    filter.categoryBits = collFlags.category.bits;&#xD;
    filter.maskBits = collFlags.maskBits;&#xD;
    fixtureDef.setFilter(filter);&#xD;
    fixtureDef.setSensor(isSensor());&#xD;
    body.createFixture(fixtureDef);&#xD;
</body>
                </ownedBehavior>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_8qIIAHurEem9A9zbMJW8SQ" name="addToWorld" visibility="public" method="_8qJWIHurEem9A9zbMJW8SQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_8qIvEHurEem9A9zbMJW8SQ" name="world" type="_8icLoHurEem9A9zbMJW8SQ"/>
                </ownedOperation>
              </packagedElement>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_8quk8HurEem9A9zbMJW8SQ" name="ui">
            <packagedElement xmi:type="uml:Class" xmi:id="_8qwaIHurEem9A9zbMJW8SQ" name="UiImage" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_8qyPUHurEem9A9zbMJW8SQ" general="_8qxoQHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8qy2YHurEem9A9zbMJW8SQ" name="model" visibility="private" isStatic="true" type="_8AmC0HurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8q0EgHurEem9A9zbMJW8SQ" name="material" visibility="private" type="_8CXkcHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8q5kEHurEem9A9zbMJW8SQ" name="UiImage">
                <language>JAVA</language>
                <body>&#xD;
    super(rot, scale);&#xD;
    if (model == null)&#xD;
        model = Model.loadQuad();&#xD;
    this.material = new Material(&quot;data/shaders/ui/ui_image&quot;);&#xD;
    this.material.setParamTex(&quot;image&quot;, texture);&#xD;
    this.material.setParamVec4f(&quot;color&quot;, color.clone());&#xD;
</body>
              </ownedBehavior>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8qxoQHurEem9A9zbMJW8SQ" name="UiElement" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8wEX8HurEem9A9zbMJW8SQ" name="actions" visibility="private" type="_tebr0HupEemZOa7va52DCQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8wEX8XurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new HashMap&lt;>()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8wE_AHurEem9A9zbMJW8SQ" name="pos" visibility="private" type="_8dpyQHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8wGNIHurEem9A9zbMJW8SQ" name="scale" visibility="private" type="_8dpyQHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8wG0MHurEem9A9zbMJW8SQ" name="rotation" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8wICUHurEem9A9zbMJW8SQ" name="visible" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8wJQcHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>true</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8wKekHurEem9A9zbMJW8SQ" name="owner" visibility="private" type="_8rVo8HurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8wLssHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>null</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8wQlMHurEem9A9zbMJW8SQ" name="layout" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8wWEwHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>-1</body>
                </defaultValue>
              </ownedAttribute>
            </packagedElement>
            <packagedElement xmi:type="uml:Interface" xmi:id="_8q-ckHurEem9A9zbMJW8SQ" name="Trigger" visibility="public" isAbstract="true">
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8q_qsHurEem9A9zbMJW8SQ" name="make" visibility="public"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8rBf4HurEem9A9zbMJW8SQ" name="Rectangle" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_8rCuAHurEem9A9zbMJW8SQ" general="_8qxoQHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8rD8IHurEem9A9zbMJW8SQ" name="model" visibility="private" isStatic="true" type="_8AmC0HurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8rFxUHurEem9A9zbMJW8SQ" name="material" visibility="private" type="_8CXkcHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8rLQ4HurEem9A9zbMJW8SQ" name="Rectangle">
                <language>JAVA</language>
                <body>&#xD;
    super(rot, scale);&#xD;
    if (model == null)&#xD;
        model = Model.loadQuad();&#xD;
    this.material = new Material(&quot;data/shaders/ui/ui_rectangle&quot;);&#xD;
    setColor(color.clone());&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8rQwcHurEem9A9zbMJW8SQ" name="setColor" specification="_8rPiUHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    material.setParamVec4f(&quot;color&quot;, newColor.clone());&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8rPiUHurEem9A9zbMJW8SQ" name="setColor" visibility="public" method="_8rQwcHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8rQJYHurEem9A9zbMJW8SQ" name="newColor" type="_8hOqsHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8rVB4HurEem9A9zbMJW8SQ" name="MenuSelection" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8rXeIHurEem9A9zbMJW8SQ" name="selec" visibility="private" type="_8qwaIHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8rYsQHurEem9A9zbMJW8SQ" name="ecartementX" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8rZ6YHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>5</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8rahcHurEem9A9zbMJW8SQ" name="ecartementY" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8rbIgHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>5</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8rbvkHurEem9A9zbMJW8SQ" name="positionRelative" visibility="private" type="_8dpyQHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8rc9sHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>getPosition()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8rgoEHurEem9A9zbMJW8SQ" name="mesElements" visibility="private" type="_8rdkwHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8rhPIHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new TreeMap&lt;>()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8ridQHurEem9A9zbMJW8SQ" name="x" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8rkScHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>0</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8rk5gHurEem9A9zbMJW8SQ" name="y" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8rmHoHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>0</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8rmusHurEem9A9zbMJW8SQ" name="active" visibility="public" type="_77lnAHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8rn80HurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new MenuActiveProperty()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8roj4HurEem9A9zbMJW8SQ" name="exit" visibility="public" type="_76W38HurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8rpyAHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new EventListener&lt;MenuEventExit>() {&#xD;
&#xD;
    @Override&#xD;
    public void action(MenuEventExit e) {&#xD;
    // Nothing&#xD;
    }&#xD;
}</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8sjJ4HurEem9A9zbMJW8SQ" name="majSelecPosition" specification="_8sii0HurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    E element = mesElements.get(new Coordonnees(x, y));&#xD;
    if (element != null &amp;&amp; selec != null) {&#xD;
        selec.setPos(element.getPos());&#xD;
    }&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8sJhQHurEem9A9zbMJW8SQ" name="put" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8sKvYHurEem9A9zbMJW8SQ" name="element" type="_8sHFAHurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8sLWcHurEem9A9zbMJW8SQ" name="layout">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                </ownedParameter>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8sL9gHurEem9A9zbMJW8SQ" name="x">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                </ownedParameter>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8sMkkHurEem9A9zbMJW8SQ" name="y">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8sPA0HurEem9A9zbMJW8SQ" name="remove" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8sPn4HurEem9A9zbMJW8SQ" name="element" type="_8sHFAHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8sRdEHurEem9A9zbMJW8SQ" name="setImageSelec" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8sSEIHurEem9A9zbMJW8SQ" name="image" type="_8qwaIHurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8sSrMHurEem9A9zbMJW8SQ" name="layout">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8sUgYHurEem9A9zbMJW8SQ" name="right" visibility="public"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8sW8oHurEem9A9zbMJW8SQ" name="left" visibility="public"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8sYKwHurEem9A9zbMJW8SQ" name="up" visibility="public"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8sZY4HurEem9A9zbMJW8SQ" name="down" visibility="public"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8sanAHurEem9A9zbMJW8SQ" name="getElemSelec" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8sbOEHurEem9A9zbMJW8SQ" type="_8sHFAHurEem9A9zbMJW8SQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8sii0HurEem9A9zbMJW8SQ" name="majSelecPosition" visibility="private" method="_8sjJ4HurEem9A9zbMJW8SQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8rVo8HurEem9A9zbMJW8SQ" name="Menu" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8yDU8HurEem9A9zbMJW8SQ" name="position" visibility="private" type="_8dpyQHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8yDU8XurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new Vec2f()</body>
                </defaultValue>
              </ownedAttribute>
            </packagedElement>
            <packagedElement xmi:type="uml:Interface" xmi:id="_8rrAIHurEem9A9zbMJW8SQ" name="Comparable"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_8sHFAHurEem9A9zbMJW8SQ" name="E"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_8sqeoHurEem9A9zbMJW8SQ" name="MenuSelectionH" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_8srswHurEem9A9zbMJW8SQ" general="_8rVo8HurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8ssT0HurEem9A9zbMJW8SQ" name="selec" visibility="private" type="_8qwaIHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8sth8HurEem9A9zbMJW8SQ" name="ecartement" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8suJAHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>5</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8suwEHurEem9A9zbMJW8SQ" name="positionRef" visibility="private" type="_8dpyQHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8svXIHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>getPosition()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8sv-MHurEem9A9zbMJW8SQ" name="index" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8swlQHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>0</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8sxzYHurEem9A9zbMJW8SQ" name="elements" visibility="private" type="_76xusHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8syacHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new LinkedList&lt;>()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8szBgHurEem9A9zbMJW8SQ" name="active" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8szokHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>true</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8s4hEHurEem9A9zbMJW8SQ" name="MenuSelectionH">
                <language>JAVA</language>
                <body>&#xD;
    super(maxLayout);&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8s6WQHurEem9A9zbMJW8SQ" name="addElementInListOfChoices" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8s69UHurEem9A9zbMJW8SQ" name="element" type="_8s5vMHurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8s7kYHurEem9A9zbMJW8SQ" name="layout">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8s9ZkHurEem9A9zbMJW8SQ" name="removeElementInListOfChoices" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8s-nsHurEem9A9zbMJW8SQ" name="element" type="_8s5vMHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8tAc4HurEem9A9zbMJW8SQ" name="next" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8tBD8HurEem9A9zbMJW8SQ" name="delta">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8tCSEHurEem9A9zbMJW8SQ" name="previous" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8tC5IHurEem9A9zbMJW8SQ" name="delta">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8tJm0HurEem9A9zbMJW8SQ" name="setImageSelec" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8tK08HurEem9A9zbMJW8SQ" name="image" type="_8qwaIHurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8tLcAHurEem9A9zbMJW8SQ" name="layout">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8s5vMHurEem9A9zbMJW8SQ" name="Element"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_8tTX0HurEem9A9zbMJW8SQ" name="MenuSelectionV" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_8tT-4HurEem9A9zbMJW8SQ" general="_8rVo8HurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8tVNAHurEem9A9zbMJW8SQ" name="selec" visibility="private" type="_8qwaIHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8tYQUHurEem9A9zbMJW8SQ" name="positionRef" visibility="private" type="_8dpyQHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8tY3YHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>getPosition()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8taFgHurEem9A9zbMJW8SQ" name="index" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8taskHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>0</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8tb6sHurEem9A9zbMJW8SQ" name="elements" visibility="private" type="_76xusHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8tdv4HurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new LinkedList&lt;>()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8teW8HurEem9A9zbMJW8SQ" name="active" visibility="public" type="_77lnAHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8tflEHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new MenuActiveProperty()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8tgzMHurEem9A9zbMJW8SQ" name="exit" visibility="public" type="_76W38HurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8thaQHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new EventListener&lt;MenuEventExit>() {&#xD;
&#xD;
    @Override&#xD;
    public void action(MenuEventExit e) {&#xD;
    // Nothing&#xD;
    }&#xD;
}</body>
                </defaultValue>
              </ownedAttribute>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8uH3MHurEem9A9zbMJW8SQ" name="Label" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_8uIeQHurEem9A9zbMJW8SQ" general="_8qxoQHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8uJFUHurEem9A9zbMJW8SQ" name="material" visibility="private" type="_8CXkcHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8uKTcHurEem9A9zbMJW8SQ" name="text" visibility="private" type="_8Hn34HurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8ukjIHurEem9A9zbMJW8SQ" name="Label">
                <language>JAVA</language>
                <body>&#xD;
    super(rot, scale);&#xD;
    this.text = new Text(Main.font, Text.TextAlignH.CENTER, text);&#xD;
    this.material = new Material(&quot;data/shaders/ui/ui_text_distance_field&quot;);&#xD;
    setThickness(.3f);&#xD;
    setColor(new Vec4f(1, 1, 1, 1));&#xD;
    setShadowThickness(0.001f);&#xD;
    setShadowColor(new Vec4f(0, 0, 0, 0.5));&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8uttEHurEem9A9zbMJW8SQ" name="setText">
                <language>JAVA</language>
                <body>&#xD;
    this.text = new Text(text.getFont(), Text.TextAlignH.CENTER, newText);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8uxXcHurEem9A9zbMJW8SQ" name="setThickness">
                <language>JAVA</language>
                <body>&#xD;
    material.setParamF(&quot;thickness&quot;, value);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8uzzsHurEem9A9zbMJW8SQ" name="setColor">
                <language>JAVA</language>
                <body>&#xD;
    material.setParamVec4f(&quot;baseColor&quot;, value);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8u2P8HurEem9A9zbMJW8SQ" name="setShadowThickness">
                <language>JAVA</language>
                <body>&#xD;
    material.setParamF(&quot;shadowThickness&quot;, value);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8u4sMHurEem9A9zbMJW8SQ" name="setShadowColor">
                <language>JAVA</language>
                <body>&#xD;
    material.setParamVec4f(&quot;shadowColor&quot;, value);&#xD;
</body>
              </ownedBehavior>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8u9ksHurEem9A9zbMJW8SQ" name="Button" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_8u-LwHurEem9A9zbMJW8SQ" general="_8qxoQHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8vAA8HurEem9A9zbMJW8SQ" name="rect" visibility="private" type="_8rBf4HurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8vESYHurEem9A9zbMJW8SQ" name="label" visibility="private" type="_8uH3MHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8vFggHurEem9A9zbMJW8SQ" name="arm" visibility="private" type="_8q-ckHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8vGHkHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new Trigger() {&#xD;
&#xD;
    @Override&#xD;
    public void make() {&#xD;
    // Nothing&#xD;
    }&#xD;
}</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_P3I1AHvkEemtSbXqvSvPoQ" name="Property31"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8vLnIHurEem9A9zbMJW8SQ" name="Button">
                <language>JAVA</language>
                <body>&#xD;
    super(rot, scale);&#xD;
    rect = new Rectangle(rot, scale, new Vec4f(0, 0, 0, .8));&#xD;
    label = new Label(rot, new Vec2f(scale.x * 0.35, scale.y * 5), text);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8vP4kHurEem9A9zbMJW8SQ" name="setPos">
                <language>JAVA</language>
                <body>&#xD;
    label.setPos(new Vec2f(pos.x, pos.y - (getScale().y * 0.37)));&#xD;
    rect.setPos(pos);&#xD;
    super.setPos(pos);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8vtyonurEem9A9zbMJW8SQ" name="setColorFond" specification="_8vtyoHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    rect.setColor(color);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8vtypHurEem9A9zbMJW8SQ" name="arm" specification="_8vtyo3urEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    arm.make();&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8vuZsnurEem9A9zbMJW8SQ" name="setOnArm" specification="_8vuZsHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    this.arm = arm;&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8vtyoHurEem9A9zbMJW8SQ" name="setColorFond" visibility="public" method="_8vtyonurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8vtyoXurEem9A9zbMJW8SQ" name="color" type="_8hOqsHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8vtyo3urEem9A9zbMJW8SQ" name="arm" visibility="public" method="_8vtypHurEem9A9zbMJW8SQ"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8vuZsHurEem9A9zbMJW8SQ" name="setOnArm" visibility="public" method="_8vuZsnurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8vuZsXurEem9A9zbMJW8SQ" name="arm" type="_8q-ckHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <nestedClassifier xmi:type="uml:PrimitiveType" xmi:id="_MKAb8HvkEemtSbXqvSvPoQ" name="PrimitiveType29"/>
              <nestedClassifier xmi:type="uml:PrimitiveType" xmi:id="_N_c6oHvkEemtSbXqvSvPoQ" name="PrimitiveType30"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8xO1kHurEem9A9zbMJW8SQ" name="MenuPause" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_8xQqwHurEem9A9zbMJW8SQ" general="_8tTX0HurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8x8nQnurEem9A9zbMJW8SQ" name="activated" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8x9OUHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>false</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8x-ccnurEem9A9zbMJW8SQ" name="MenuPause">
                <language>JAVA</language>
                <body>&#xD;
    super(maxLayout);&#xD;
    if (maxLayout &lt; 3) {&#xD;
        Exception e = new Exception(&quot;Max layout trop petit&quot;);&#xD;
        e.printStackTrace();&#xD;
        // Pour eviter le crash&#xD;
        for (int i = maxLayout; i &lt; 3; i++) {&#xD;
            elems.put(Integer.valueOf(i), new LinkedList&lt;>());&#xD;
        }&#xD;
    }&#xD;
    final float scale = 27f;&#xD;
    Texture texture2 = Texture.loadTexture(&quot;data/sprites/interface/Selector.png&quot;);&#xD;
    texture2.setFilter(false);&#xD;
    selec = new UiImage(0, new Vec2f(45, 18), texture2, new Vec4f(1, 1, 1, 1));&#xD;
    setImageSelec(selec, 2);&#xD;
    Rectangle rec = new Rectangle(0, new Vec2f(45, 60), new Vec4f(0, 0, 0, .25));&#xD;
    setBackground(rec);&#xD;
    Label pause = new Label(0, new Vec2f(50, 50), &quot;PAUSE&quot;);&#xD;
    addUiElement(pause, 0);&#xD;
    op1 = new Label(0, new Vec2f(scale), &quot;Resume&quot;);&#xD;
    addElementInListOfChoices(op1, 1);&#xD;
    op2 = new Label(0, new Vec2f(scale), &quot;Score&quot;);&#xD;
    addElementInListOfChoices(op2, 1);&#xD;
    op3 = new Label(0, new Vec2f(scale), &quot;Option&quot;);&#xD;
    addElementInListOfChoices(op3, 1);&#xD;
    op4 = new Label(0, new Vec2f(scale), &quot;Quit : Alt+f4&quot;);&#xD;
    addElementInListOfChoices(op4, 1);&#xD;
    op1.addAction(&quot;ok&quot;, new Trigger() {&#xD;
&#xD;
        @Override&#xD;
        public void make() {&#xD;
            try {&#xD;
                Robot robot = new Robot();&#xD;
                robot.keyPress(java.awt.event.KeyEvent.VK_ESCAPE);&#xD;
                System.out.println(&quot;op1 : Resume&quot;);&#xD;
            } catch (Exception ex) {&#xD;
                System.out.println(&quot;fail pause&quot;);&#xD;
                Log4jThread.getDefaultUncaughtExceptionHandler();&#xD;
            }&#xD;
        }&#xD;
    });&#xD;
    op2.addAction(&quot;ok&quot;, new Trigger() {&#xD;
&#xD;
        @Override&#xD;
        public void make() {&#xD;
            System.out.println(&quot;op2 : Score&quot;);&#xD;
        }&#xD;
    });&#xD;
    op3.addAction(&quot;ok&quot;, new Trigger() {&#xD;
&#xD;
        @Override&#xD;
        public void make() {&#xD;
            System.out.println(&quot;op3 : Option&quot;);&#xD;
        }&#xD;
    });&#xD;
    op4.addAction(&quot;ok&quot;, new Trigger() {&#xD;
&#xD;
        @Override&#xD;
        public void make() {&#xD;
            System.out.println(&quot;op4 : quit&quot;);&#xD;
            GameMaster.gm.requestNextState(new CharacterChooser(), GameMaster.mapEmpty);&#xD;
        }&#xD;
    });&#xD;
    op3.visible = false;&#xD;
    this.ecartement = 10;&#xD;
    this.setPositionRef(new Vec2f(0, -15));&#xD;
//this.focus = op1;&#xD;
</body>
              </ownedBehavior>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_8ymukHurEem9A9zbMJW8SQ" name="xmlReaders">
            <packagedElement xmi:type="uml:Class" xmi:id="_8yn8sHurEem9A9zbMJW8SQ" name="XmlReader" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8ysOIHurEem9A9zbMJW8SQ" name="factory" visibility="private" isLeaf="true" isStatic="true" type="_8ypx4XurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8ytcQHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>DocumentBuilderFactory.newInstance()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8yxGoHurEem9A9zbMJW8SQ" name="builder" visibility="private" isStatic="true" type="_8yuqYHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8yyUwHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>null</body>
                </defaultValue>
              </ownedAttribute>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8zHr8HurEem9A9zbMJW8SQ" name="MapXmlReader" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_8zITAHurEem9A9zbMJW8SQ" general="_8yn8sHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8zI6EHurEem9A9zbMJW8SQ" name="root" visibility="private" type="_8y2mMHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8zKIMHurEem9A9zbMJW8SQ" name="done" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8zLWUHurEem9A9zbMJW8SQ" name="spawner" visibility="public" type="_8dpyQHurEem9A9zbMJW8SQ" isUnique="false">
                <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_8zMkcHurEem9A9zbMJW8SQ"/>
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_8zMkcXurEem9A9zbMJW8SQ" value="*"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_fzNIgHyGEemsjr4EcXr-sw" name="spawnerperso" type="_8dpyQHurEem9A9zbMJW8SQ">
                <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_zsb8wHyGEemsjr4EcXr-sw"/>
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_zsiDYHyGEemsjr4EcXr-sw" value="*"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8zQO0HurEem9A9zbMJW8SQ" name="MapXmlReader">
                <language>JAVA</language>
                <body>&#xD;
    parse(path);&#xD;
    root = document.getDocumentElement();&#xD;
    spawner = new ArrayList&lt;Vec2f>();&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8zSEAHurEem9A9zbMJW8SQ" name="isDone">
                <language>JAVA</language>
                <body>&#xD;
    return done;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8zffYHurEem9A9zbMJW8SQ" name="load">
                <language>JAVA</language>
                <body>&#xD;
    Loading.loading.update(0);&#xD;
    loadInformation(getFirstElementByName(&quot;information&quot;, root), map);&#xD;
    Loading.loading.update(0);&#xD;
    loadEntities(getFirstElementByName(&quot;entities&quot;, root), map);&#xD;
    Loading.loading.update(0);&#xD;
    done = true;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8zh7oHurEem9A9zbMJW8SQ" name="loadInformation">
                <language>JAVA</language>
                <body>&#xD;
    map.spawn = new ArrayList&lt;>();&#xD;
    loadGravity(getFirstElementByName(&quot;gravity&quot;, information), map);&#xD;
    loadSky(getFirstElementByName(&quot;sky&quot;, information), map);&#xD;
    loadCameraBound(getFirstElementByName(&quot;cameraBound&quot;, information), map);&#xD;
    // Load spawns&#xD;
    List&lt;Element> listSpawn = getListElementByName(&quot;spawn&quot;, information);&#xD;
    for (Element element : listSpawn) {&#xD;
        loadSpawns(element, map);&#xD;
    }&#xD;
    map.spawn = spawner;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8zlmAHurEem9A9zbMJW8SQ" name="loadSpawns">
                <language>JAVA</language>
                <body>&#xD;
    XmlVecteur vec = loadVecteur(getFirstElementByName(&quot;vecteur&quot;, spawn));&#xD;
    double cooldown = 0;&#xD;
    if (spawn.hasAttribute(&quot;cooldown&quot;)) {&#xD;
        cooldown = Double.parseDouble(spawn.getAttribute(&quot;cooldown&quot;));&#xD;
    } else {&#xD;
        System.err.println(&quot;Pas d'attribut cooldown&quot;);&#xD;
    }&#xD;
    Vec2f position = new Vec2f(vec.x, vec.y);&#xD;
    Spawner spawner = new Spawner(position, cooldown);&#xD;
    this.spawner.add(position);&#xD;
    // Usables&#xD;
    List&lt;Element> usables = getListElementByName(&quot;usable&quot;, spawn);&#xD;
    for (Element usable : usables) {&#xD;
        loadUsable(usable, spawner, position);&#xD;
    }&#xD;
    // Guns&#xD;
    List&lt;Element> guns = getListElementByName(&quot;gun&quot;, spawn);&#xD;
    for (Element gun : guns) {&#xD;
        loadGun(gun, spawner, position);&#xD;
    }&#xD;
    // shotguns&#xD;
    List&lt;Element> shotguns = getListElementByName(&quot;shotgun&quot;, spawn);&#xD;
    for (Element shotgun : shotguns) {&#xD;
        loadShotGun(shotgun, spawner, position);&#xD;
    }&#xD;
    // Melee&#xD;
    List&lt;Element> melees = getListElementByName(&quot;melee&quot;, spawn);&#xD;
    for (Element melee : melees) {&#xD;
        loadMelee(melee, spawner, position);&#xD;
    }&#xD;
    // UsableTimers&#xD;
    List&lt;Element> usableTimers = getListElementByName(&quot;usabletimer&quot;, spawn);&#xD;
    for (Element usableTimer : usableTimers) {&#xD;
        loadUsableTimers(usableTimer, spawner, position);&#xD;
    }&#xD;
    // Entities&#xD;
    List&lt;Element> entitiess = getListElementByName(&quot;entities&quot;, spawn);&#xD;
    for (Element entities : entitiess) {&#xD;
        loadEntities(entities, spawner);&#xD;
    }&#xD;
    spawner.attachToParent(map, spawner.genName());&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8zrFkHurEem9A9zbMJW8SQ" name="loadUsableTimers">
                <language>JAVA</language>
                <body>&#xD;
    // Attributs&#xD;
    String name = usableTimer.getAttribute(&quot;name&quot;);&#xD;
    int weight = Integer.parseInt(usableTimer.getAttribute(&quot;weight&quot;));&#xD;
    String pathSprite = usableTimer.getAttribute(&quot;pathSprite&quot;);&#xD;
    String soundPickup = usableTimer.getAttribute(&quot;soundPickup&quot;);&#xD;
    double cooldown = Double.parseDouble(usableTimer.getAttribute(&quot;cooldown&quot;));&#xD;
    int duration = Integer.parseInt(usableTimer.getAttribute(&quot;duration&quot;));&#xD;
    String animPath = usableTimer.getAttribute(&quot;animPath&quot;);&#xD;
    double warmup = Double.parseDouble(usableTimer.getAttribute(&quot;warmupDuration&quot;));&#xD;
    String soundWarmup = usableTimer.getAttribute(&quot;soundWarmup&quot;);&#xD;
    String attackSound = usableTimer.getAttribute(&quot;bangSound&quot;);&#xD;
    // Vecteurs&#xD;
    List&lt;Element> vecteurs = getListElementByName(&quot;vecteur&quot;, usableTimer);&#xD;
    Vec2f handPosL = new Vec2f();&#xD;
    Vec2f handPosR = new Vec2f();&#xD;
    for (Element vecteur : vecteurs) {&#xD;
        XmlVecteur vec = loadVecteur(vecteur);&#xD;
        switch(vec.use) {&#xD;
            case &quot;handPosL&quot;:&#xD;
                handPosL = new Vec2f(vec.x, vec.y);&#xD;
                break;&#xD;
            case &quot;handPosR&quot;:&#xD;
                handPosR = new Vec2f(vec.x, vec.y);&#xD;
                break;&#xD;
            default:&#xD;
                System.err.println(&quot;Use rron&quot;);&#xD;
                break;&#xD;
        }&#xD;
    }&#xD;
    UsableTimer u = new UsableTimer(position, name, weight, pathSprite, handPosL, handPosR, soundPickup, cooldown, duration, animPath, warmup, soundWarmup, attackSound);&#xD;
    spawner.addItem(u, Integer.parseInt(usableTimer.getAttribute(&quot;proba&quot;)));&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8zv-EHurEem9A9zbMJW8SQ" name="loadMelee">
                <language>JAVA</language>
                <body>&#xD;
    // Attributs&#xD;
    String name = melee.getAttribute(&quot;name&quot;);&#xD;
    int weight = Integer.parseInt(melee.getAttribute(&quot;weight&quot;));&#xD;
    String pathSprite = melee.getAttribute(&quot;pathSprite&quot;);&#xD;
    String soundPickup = melee.getAttribute(&quot;soundPickup&quot;);&#xD;
    double cooldown = Double.parseDouble(melee.getAttribute(&quot;cooldown&quot;));&#xD;
    int uses = Integer.parseInt(melee.getAttribute(&quot;uses&quot;));&#xD;
    String animPath = melee.getAttribute(&quot;animPath&quot;);&#xD;
    double warmup = Double.parseDouble(melee.getAttribute(&quot;warmupDuration&quot;));&#xD;
    String soundWarmup = melee.getAttribute(&quot;soundWarmup&quot;);&#xD;
    String attackSound = melee.getAttribute(&quot;bangSound&quot;);&#xD;
    float damage = Float.parseFloat(melee.getAttribute(&quot;damage&quot;));&#xD;
    double size = Double.parseDouble(melee.getAttribute(&quot;size&quot;));&#xD;
    // Vecteurs&#xD;
    List&lt;Element> vecteurs = getListElementByName(&quot;vecteur&quot;, melee);&#xD;
    Vec2f handPosL = new Vec2f();&#xD;
    Vec2f handPosR = new Vec2f();&#xD;
    for (Element vecteur : vecteurs) {&#xD;
        XmlVecteur vec = loadVecteur(vecteur);&#xD;
        switch(vec.use) {&#xD;
            case &quot;handPosL&quot;:&#xD;
                handPosL = new Vec2f(vec.x, vec.y);&#xD;
                break;&#xD;
            case &quot;handPosR&quot;:&#xD;
                handPosR = new Vec2f(vec.x, vec.y);&#xD;
                break;&#xD;
            default:&#xD;
                System.err.println(&quot;Use rron&quot;);&#xD;
                break;&#xD;
        }&#xD;
    }&#xD;
    Melee u = new Melee(position, name, weight, pathSprite, handPosL, handPosR, soundPickup, cooldown, uses, animPath, warmup, soundWarmup, attackSound, damage, size);&#xD;
    spawner.addItem(u, Integer.parseInt(melee.getAttribute(&quot;proba&quot;)));&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8z02kHurEem9A9zbMJW8SQ" name="loadGun">
                <language>JAVA</language>
                <body>&#xD;
    // Attributs&#xD;
    String name = gun.getAttribute(&quot;name&quot;);&#xD;
    int weight = Integer.parseInt(gun.getAttribute(&quot;weight&quot;));&#xD;
    String pathSprite = gun.getAttribute(&quot;pathSprite&quot;);&#xD;
    String soundPickup = gun.getAttribute(&quot;soundPickup&quot;);&#xD;
    double cooldown = Double.parseDouble(gun.getAttribute(&quot;cooldown&quot;));&#xD;
    int uses = Integer.parseInt(gun.getAttribute(&quot;uses&quot;));&#xD;
    String animPath = gun.getAttribute(&quot;animPath&quot;);&#xD;
    double warmup = Double.parseDouble(gun.getAttribute(&quot;warmupDuration&quot;));&#xD;
    String soundWarmup = gun.getAttribute(&quot;soundWarmup&quot;);&#xD;
    String attackSound = gun.getAttribute(&quot;bangSound&quot;);&#xD;
    String noAmmoSound = gun.getAttribute(&quot;noAmmoSound&quot;);&#xD;
    float damage = Float.parseFloat(gun.getAttribute(&quot;damage&quot;));&#xD;
    double size = Double.parseDouble(gun.getAttribute(&quot;size&quot;));&#xD;
    int bulletType = Integer.parseInt(gun.getAttribute(&quot;bulletType&quot;));&#xD;
    float bulletSpeed = Float.parseFloat(gun.getAttribute(&quot;bulletSpeed&quot;));&#xD;
    double cannonLength = Double.parseDouble(gun.getAttribute(&quot;cannonLength&quot;));&#xD;
    double recoil = Double.parseDouble(gun.getAttribute(&quot;recoil&quot;));&#xD;
    double thrust = Double.parseDouble(gun.getAttribute(&quot;thrust&quot;));&#xD;
    // Vecteurs&#xD;
    List&lt;Element> vecteurs = getListElementByName(&quot;vecteur&quot;, gun);&#xD;
    Vec2f handPosL = new Vec2f();&#xD;
    Vec2f handPosR = new Vec2f();&#xD;
    for (Element vecteur : vecteurs) {&#xD;
        XmlVecteur vec = loadVecteur(vecteur);&#xD;
        switch(vec.use) {&#xD;
            case &quot;handPosL&quot;:&#xD;
                handPosL = new Vec2f(vec.x, vec.y);&#xD;
                break;&#xD;
            case &quot;handPosR&quot;:&#xD;
                handPosR = new Vec2f(vec.x, vec.y);&#xD;
                break;&#xD;
            default:&#xD;
                System.err.println(&quot;Use rron&quot;);&#xD;
                break;&#xD;
        }&#xD;
    }&#xD;
    Gun u = new Gun(position, name, weight, pathSprite, handPosL, handPosR, soundPickup, cooldown, uses, animPath, warmup, soundWarmup, attackSound, noAmmoSound, bulletType, bulletSpeed, damage, cannonLength, recoil, thrust, size);&#xD;
    spawner.addItem(u, Integer.parseInt(gun.getAttribute(&quot;proba&quot;)));&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8z5IAHurEem9A9zbMJW8SQ" name="loadShotGun">
                <language>JAVA</language>
                <body>&#xD;
    // Attributs&#xD;
    String name = shotgun.getAttribute(&quot;name&quot;);&#xD;
    int weight = Integer.parseInt(shotgun.getAttribute(&quot;weight&quot;));&#xD;
    String pathSprite = shotgun.getAttribute(&quot;pathSprite&quot;);&#xD;
    String soundPickup = shotgun.getAttribute(&quot;soundPickup&quot;);&#xD;
    double cooldown = Double.parseDouble(shotgun.getAttribute(&quot;cooldown&quot;));&#xD;
    int uses = Integer.parseInt(shotgun.getAttribute(&quot;uses&quot;));&#xD;
    String animPath = shotgun.getAttribute(&quot;animPath&quot;);&#xD;
    double warmup = Double.parseDouble(shotgun.getAttribute(&quot;warmupDuration&quot;));&#xD;
    String soundWarmup = shotgun.getAttribute(&quot;soundWarmup&quot;);&#xD;
    String attackSound = shotgun.getAttribute(&quot;bangSound&quot;);&#xD;
    String noAmmoSound = shotgun.getAttribute(&quot;noAmmoSound&quot;);&#xD;
    float damage = Float.parseFloat(shotgun.getAttribute(&quot;damage&quot;));&#xD;
    double size = Double.parseDouble(shotgun.getAttribute(&quot;size&quot;));&#xD;
    int bulletType = Integer.parseInt(shotgun.getAttribute(&quot;bulletType&quot;));&#xD;
    float bulletSpeed = Float.parseFloat(shotgun.getAttribute(&quot;bulletSpeed&quot;));&#xD;
    double cannonLength = Double.parseDouble(shotgun.getAttribute(&quot;cannonLength&quot;));&#xD;
    double recoil = Double.parseDouble(shotgun.getAttribute(&quot;recoil&quot;));&#xD;
    double thrust = Double.parseDouble(shotgun.getAttribute(&quot;thrust&quot;));&#xD;
    int multiShot = Integer.parseInt(shotgun.getAttribute(&quot;multiShot&quot;));&#xD;
    double dispersion = Double.parseDouble(shotgun.getAttribute(&quot;dispersion&quot;));&#xD;
    // Vecteurs&#xD;
    List&lt;Element> vecteurs = getListElementByName(&quot;vecteur&quot;, shotgun);&#xD;
    Vec2f handPosL = new Vec2f();&#xD;
    Vec2f handPosR = new Vec2f();&#xD;
    for (Element vecteur : vecteurs) {&#xD;
        XmlVecteur vec = loadVecteur(vecteur);&#xD;
        switch(vec.use) {&#xD;
            case &quot;handPosL&quot;:&#xD;
                handPosL = new Vec2f(vec.x, vec.y);&#xD;
                break;&#xD;
            case &quot;handPosR&quot;:&#xD;
                handPosR = new Vec2f(vec.x, vec.y);&#xD;
                break;&#xD;
            default:&#xD;
                System.err.println(&quot;Use rron&quot;);&#xD;
                break;&#xD;
        }&#xD;
    }&#xD;
    Shotgun u = new Shotgun(position, name, weight, pathSprite, handPosL, handPosR, soundPickup, cooldown, uses, animPath, warmup, soundWarmup, attackSound, noAmmoSound, multiShot, dispersion, bulletType, bulletSpeed, damage, cannonLength, recoil, thrust, size);&#xD;
    spawner.addItem(u, Integer.parseInt(shotgun.getAttribute(&quot;proba&quot;)));&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8z9ZcHurEem9A9zbMJW8SQ" name="loadUsable">
                <language>JAVA</language>
                <body>&#xD;
    // Attributs&#xD;
    String name = usable.getAttribute(&quot;name&quot;);&#xD;
    int weight = Integer.parseInt(usable.getAttribute(&quot;weight&quot;));&#xD;
    String pathSprite = usable.getAttribute(&quot;pathSprite&quot;);&#xD;
    String soundPickup = usable.getAttribute(&quot;soundPickup&quot;);&#xD;
    double cooldown = Double.parseDouble(usable.getAttribute(&quot;cooldown&quot;));&#xD;
    int uses = Integer.parseInt(usable.getAttribute(&quot;uses&quot;));&#xD;
    String animPath = usable.getAttribute(&quot;animPath&quot;);&#xD;
    double warmup = Double.parseDouble(usable.getAttribute(&quot;warmupDuration&quot;));&#xD;
    String soundWarmup = usable.getAttribute(&quot;soundWarmup&quot;);&#xD;
    String attackSound = usable.getAttribute(&quot;bangSound&quot;);&#xD;
    // Vecteurs&#xD;
    List&lt;Element> vecteurs = getListElementByName(&quot;vecteur&quot;, usable);&#xD;
    Vec2f handPosL = new Vec2f();&#xD;
    Vec2f handPosR = new Vec2f();&#xD;
    for (Element vecteur : vecteurs) {&#xD;
        XmlVecteur vec = loadVecteur(vecteur);&#xD;
        switch(vec.use) {&#xD;
            case &quot;handPosL&quot;:&#xD;
                handPosL = new Vec2f(vec.x, vec.y);&#xD;
                break;&#xD;
            case &quot;handPosR&quot;:&#xD;
                handPosR = new Vec2f(vec.x, vec.y);&#xD;
                break;&#xD;
            default:&#xD;
                System.err.println(&quot;Use rron&quot;);&#xD;
                break;&#xD;
        }&#xD;
    }&#xD;
    Usable u = new Usable(position, name, weight, pathSprite, handPosL, handPosR, soundPickup, cooldown, uses, animPath, warmup, soundWarmup, attackSound);&#xD;
    spawner.addItem(u, Integer.parseInt(usable.getAttribute(&quot;proba&quot;)));&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_80CR8HurEem9A9zbMJW8SQ" name="loadVecteur">
                <language>JAVA</language>
                <body>&#xD;
    return new XmlVecteur(vecteur);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_80FVQXurEem9A9zbMJW8SQ" name="loadCameraBound">
                <language>JAVA</language>
                <body>&#xD;
    double w = 0, x = 0, y = 0, z = 0;&#xD;
    if (cameraBound.hasAttribute(&quot;x&quot;)) {&#xD;
        x = Double.parseDouble(cameraBound.getAttribute(&quot;x&quot;));&#xD;
    } else {&#xD;
        System.err.println(&quot;X dans camera Bound non renseign&quot;);&#xD;
    }&#xD;
    if (cameraBound.hasAttribute(&quot;y&quot;)) {&#xD;
        y = Double.parseDouble(cameraBound.getAttribute(&quot;y&quot;));&#xD;
    } else {&#xD;
        System.err.println(&quot;Y dans camera Bound non renseign&quot;);&#xD;
    }&#xD;
    if (cameraBound.hasAttribute(&quot;z&quot;)) {&#xD;
        z = Double.parseDouble(cameraBound.getAttribute(&quot;z&quot;));&#xD;
    } else {&#xD;
        System.err.println(&quot;Z dans camera Bound non renseign&quot;);&#xD;
    }&#xD;
    if (cameraBound.hasAttribute(&quot;w&quot;)) {&#xD;
        w = Double.parseDouble(cameraBound.getAttribute(&quot;w&quot;));&#xD;
    } else {&#xD;
        System.err.println(&quot;W dans camera Bound non renseign&quot;);&#xD;
    }&#xD;
    map.cameraBounds = new Vec4f(x, y, z, w);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_80JmsHurEem9A9zbMJW8SQ" name="loadSky">
                <language>JAVA</language>
                <body>&#xD;
    List&lt;Element> vecteurs = getListElementByName(&quot;vecteur&quot;, sky);&#xD;
    Vec3f top = new Vec3f(), bottom = new Vec3f();&#xD;
    int nbVec = 2;&#xD;
    if (vecteurs.size() != nbVec) {&#xD;
        System.err.println(&quot;Balise Sky dans XML ne possde pas &quot; + nbVec + &quot; vecteurs&quot;);&#xD;
    } else {&#xD;
        for (Element vecteur : vecteurs) {&#xD;
            XmlVecteur vec = loadVecteur(vecteur);&#xD;
            switch(vec.use) {&#xD;
                case &quot;top&quot;:&#xD;
                    top = new Vec3f(vec.x, vec.y, vec.z);&#xD;
                    break;&#xD;
                case &quot;bottom&quot;:&#xD;
                    bottom = new Vec3f(vec.x, vec.y, vec.z);&#xD;
                    break;&#xD;
                default:&#xD;
                    System.err.println(&quot;Sky mal dfini&quot;);&#xD;
                    break;&#xD;
            }&#xD;
        }&#xD;
    }&#xD;
    Sky s = new Sky(bottom, top);&#xD;
    s.attachToParent(map, s.genName());&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_80NREHurEem9A9zbMJW8SQ" name="loadGravity">
                <language>JAVA</language>
                <body>&#xD;
    XmlVecteur vec = new XmlVecteur(getFirstElementByName(&quot;vecteur&quot;, gravity));&#xD;
    map.gravity = new Vec2f(vec.x, vec.y);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_80Q7cHurEem9A9zbMJW8SQ" name="loadEntities">
                <language>JAVA</language>
                <body>&#xD;
    // entity&#xD;
    List&lt;Element> entitys = getListElementByName(&quot;entity&quot;, entities);&#xD;
    for (Element entity : entitys) {&#xD;
        loadEntity(entity, parent);&#xD;
    }&#xD;
    // plateform&#xD;
    List&lt;Element> plateforms = getListElementByName(&quot;plateform&quot;, entities);&#xD;
    for (Element plateform : plateforms) {&#xD;
        loadPlateform(plateform, parent);&#xD;
    }&#xD;
    // Static bodies&#xD;
    List&lt;Element> statics = getListElementByName(&quot;static&quot;, entities);&#xD;
    for (Element body : statics) {&#xD;
        loadStaticBody(body, parent);&#xD;
    }&#xD;
    // mesh&#xD;
    List&lt;Element> meshs = getListElementByName(&quot;mesh&quot;, entities);&#xD;
    for (Element mesh : meshs) {&#xD;
        loadMesh(mesh, parent);&#xD;
    }&#xD;
    // text&#xD;
    List&lt;Element> texts = getListElementByName(&quot;text&quot;, entities);&#xD;
    for (Element text : texts) {&#xD;
        loadText(text, parent);&#xD;
    }&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_80VM4HurEem9A9zbMJW8SQ" name="loadText">
                <language>JAVA</language>
                <body>&#xD;
    // vecteurs&#xD;
    List&lt;Element> vecteurs = getListElementByName(&quot;vecteur&quot;, text);&#xD;
    Vec3f position = new Vec3f();&#xD;
    Vec3f scale = new Vec3f();&#xD;
    int nbVec = 2;&#xD;
    if (vecteurs.size() != nbVec) {&#xD;
        System.err.println(&quot;Balise Text dans XML ne possde pas &quot; + nbVec + &quot; vecteurs&quot;);&#xD;
    } else {&#xD;
        for (Element vecteur : vecteurs) {&#xD;
            XmlVecteur vec = loadVecteur(vecteur);&#xD;
            switch(vec.use) {&#xD;
                case &quot;position&quot;:&#xD;
                    position = new Vec3f(vec.x, vec.y, vec.z);&#xD;
                    break;&#xD;
                case &quot;scale&quot;:&#xD;
                    scale = new Vec3f(vec.x, vec.y, vec.z);&#xD;
                    break;&#xD;
                default:&#xD;
                    System.err.println(&quot;Vecteur dans Text mal dfini&quot;);&#xD;
                    break;&#xD;
            }&#xD;
        }&#xD;
    }&#xD;
    // Text&#xD;
    String content, font;&#xD;
    font = text.getAttribute(&quot;font&quot;);&#xD;
    Font f = Font.loadFont(font);&#xD;
    content = text.getAttribute(&quot;content&quot;);&#xD;
    Text t = new Text(f, Text.TextAlignH.CENTER, content);&#xD;
    TextSpatial spatial = new TextSpatial(position, scale, t);&#xD;
    if (text.hasAttribute(&quot;name&quot;)) {&#xD;
        spatial.attachToParent(parent, text.getAttribute(&quot;name&quot;));&#xD;
    } else {&#xD;
        spatial.attachToParent(parent, spatial.genName());&#xD;
    }&#xD;
    // entities&#xD;
    List&lt;Element> entitiess = getListElementByName(&quot;entities&quot;, text);&#xD;
    for (Element entities : entitiess) {&#xD;
        loadEntities(entities, parent);&#xD;
    }&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_80Y3QHurEem9A9zbMJW8SQ" name="loadMesh">
                <language>JAVA</language>
                <body>&#xD;
    Loading.loading.getMap().step(0);&#xD;
    // vecteurs&#xD;
    List&lt;Element> vecteurs = getListElementByName(&quot;vecteur&quot;, mesh);&#xD;
    Vec3f position = new Vec3f(), scale = new Vec3f();&#xD;
    Vec4f rotation = new Vec4f();&#xD;
    int nbVec = 3;&#xD;
    if (vecteurs.size() != nbVec) {&#xD;
        System.err.println(&quot;Balise Mesh dans XML ne possde pas &quot; + nbVec + &quot; vecteurs [src=&quot; + mesh.getAttribute(&quot;src&quot;) + &quot;]&quot;);&#xD;
        System.out.println(vecteurs.size());&#xD;
    } else {&#xD;
        for (Element vecteur : vecteurs) {&#xD;
            XmlVecteur vec = loadVecteur(vecteur);&#xD;
            switch(vec.use) {&#xD;
                case &quot;position&quot;:&#xD;
                    position = new Vec3f(vec.x, vec.y, vec.z);&#xD;
                    break;&#xD;
                case &quot;scale&quot;:&#xD;
                    scale = new Vec3f(vec.x, vec.y, vec.z);&#xD;
                    break;&#xD;
                case &quot;rotation&quot;:&#xD;
                    rotation = new Vec4f(vec.x, vec.y, vec.z, vec.w);&#xD;
                    break;&#xD;
                default:&#xD;
                    System.err.println(&quot;Vecteur dans Mesh mal dfini&quot;);&#xD;
                    break;&#xD;
            }&#xD;
        }&#xD;
    }&#xD;
    // Mesh&#xD;
    String modelPath = mesh.getAttribute(&quot;src&quot;);&#xD;
    Mesh m = new Mesh(position, new Quat(rotation.x, rotation.y, rotation.z, rotation.w), scale, modelPath);&#xD;
    if (mesh.hasAttribute(&quot;name&quot;)) {&#xD;
        m.attachToParent(parent, mesh.getAttribute(&quot;name&quot;));&#xD;
    } else {&#xD;
        m.attachToParent(parent, m.genName());&#xD;
    }&#xD;
    // entities&#xD;
    List&lt;Element> entitiess = getListElementByName(&quot;entities&quot;, mesh);&#xD;
    for (Element entities : entitiess) {&#xD;
        loadEntities(entities, parent);&#xD;
    }&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_80dvwHurEem9A9zbMJW8SQ" name="loadPlateform">
                <language>JAVA</language>
                <body>&#xD;
    // vecteurs&#xD;
    List&lt;Element> vecteurs = getListElementByName(&quot;vecteur&quot;, plateform);&#xD;
    Vec2f position = new Vec2f(), extent = new Vec2f();&#xD;
    int nbVec = 2;&#xD;
    if (vecteurs.size() != nbVec) {&#xD;
        System.err.println(&quot;Balise Plateform dans XML ne possde pas &quot; + nbVec + &quot; vecteurs&quot;);&#xD;
    } else {&#xD;
        for (Element vecteur : vecteurs) {&#xD;
            XmlVecteur vec = loadVecteur(vecteur);&#xD;
            switch(vec.use) {&#xD;
                case &quot;position&quot;:&#xD;
                    position = new Vec2f(vec.x, vec.y);&#xD;
                    break;&#xD;
                case &quot;extent&quot;:&#xD;
                    extent = new Vec2f(vec.x, vec.y);&#xD;
                    break;&#xD;
                default:&#xD;
                    System.err.println(&quot;Vecteur dans Plateform mal dfini&quot;);&#xD;
                    break;&#xD;
            }&#xD;
        }&#xD;
    }&#xD;
    // Plateform&#xD;
    Plateform p = new Plateform(position, extent);&#xD;
    if (plateform.hasAttribute(&quot;name&quot;)) {&#xD;
        p.attachToParent(parent, plateform.getAttribute(&quot;name&quot;));&#xD;
    } else {&#xD;
        p.attachToParent(parent, p.genName());&#xD;
    }&#xD;
    // entities&#xD;
    List&lt;Element> entitiess = getListElementByName(&quot;entities&quot;, plateform);&#xD;
    for (Element entities : entitiess) {&#xD;
        loadEntities(entities, parent);&#xD;
    }&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_80haIHurEem9A9zbMJW8SQ" name="loadStaticBody">
                <language>JAVA</language>
                <body>&#xD;
    //Read position and extent values&#xD;
    List&lt;Element> vecteurs = getListElementByName(&quot;vecteur&quot;, entity);&#xD;
    Vec2f position = new Vec2f(), extent = new Vec2f();&#xD;
    int nbVec = 2;&#xD;
    if (vecteurs.size() != nbVec) {&#xD;
        System.err.println(&quot;StaticBody element should have &quot; + nbVec + &quot; vectors&quot;);&#xD;
    } else {&#xD;
        for (Element vecteur : vecteurs) {&#xD;
            XmlVecteur vec = loadVecteur(vecteur);&#xD;
            switch(vec.use) {&#xD;
                case &quot;position&quot;:&#xD;
                    position = new Vec2f(vec.x, vec.y);&#xD;
                    break;&#xD;
                case &quot;extent&quot;:&#xD;
                    extent = new Vec2f(vec.x, vec.y);&#xD;
                    break;&#xD;
                default:&#xD;
                    System.err.println(&quot;Invalid vector definition in StaticBody&quot;);&#xD;
                    break;&#xD;
            }&#xD;
        }&#xD;
    }&#xD;
    //Read optional rotation&#xD;
    double rotation = 0.0;&#xD;
    if (entity.hasAttribute(&quot;rotation&quot;))&#xD;
        rotation = Double.parseDouble(entity.getAttribute(&quot;rotation&quot;));&#xD;
    //Create entity&#xD;
    StaticBodyContainer e = new StaticBodyContainer(position, extent, rotation);&#xD;
    //Attach new entity&#xD;
    if (entity.hasAttribute(&quot;name&quot;))&#xD;
        e.attachToParent(parent, entity.getAttribute(&quot;name&quot;));&#xD;
    else&#xD;
        e.attachToParent(parent, e.genName());&#xD;
    //Load children&#xD;
    List&lt;Element> entitiess = getListElementByName(&quot;entities&quot;, entity);&#xD;
    for (Element entities : entitiess) loadEntities(entities, e);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_80lEgHurEem9A9zbMJW8SQ" name="loadEntity">
                <language>JAVA</language>
                <body>&#xD;
    Entity e = new Entity();&#xD;
    if (entity.hasAttribute(&quot;name&quot;)) {&#xD;
        e.attachToParent(parent, entity.getAttribute(&quot;name&quot;));&#xD;
    } else {&#xD;
        e.attachToParent(parent, e.genName());&#xD;
    }&#xD;
    // entities&#xD;
    List&lt;Element> entitiess = getListElementByName(&quot;entities&quot;, entity);&#xD;
    for (Element entities : entitiess) {&#xD;
        loadEntities(entities, e);&#xD;
    }&#xD;
</body>
              </ownedBehavior>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8z_1sHurEem9A9zbMJW8SQ" name="XmlVecteur" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_81IeIHurEem9A9zbMJW8SQ" name="w" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_81JsQHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>0.0</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_81KTUHurEem9A9zbMJW8SQ" name="x" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_81LhcHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>0.0</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_81MIgHurEem9A9zbMJW8SQ" name="y" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_81MvkHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>0.0</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_81NWoHurEem9A9zbMJW8SQ" name="z" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_81N9sHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>0.0</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_81PL0HurEem9A9zbMJW8SQ" name="use" visibility="public" type="_tbdQUHupEemZOa7va52DCQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_81Py4HurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>&quot;&quot;</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_81UEUHurEem9A9zbMJW8SQ" name="XmlVecteur">
                <language>JAVA</language>
                <body>&#xD;
    if (element.hasAttribute(&quot;x&quot;)) {&#xD;
        x = Double.parseDouble(element.getAttribute(&quot;x&quot;));&#xD;
    }&#xD;
    if (element.hasAttribute(&quot;y&quot;)) {&#xD;
        y = Double.parseDouble(element.getAttribute(&quot;y&quot;));&#xD;
    }&#xD;
    if (element.hasAttribute(&quot;w&quot;)) {&#xD;
        w = Double.parseDouble(element.getAttribute(&quot;w&quot;));&#xD;
    }&#xD;
    if (element.hasAttribute(&quot;z&quot;)) {&#xD;
        z = Double.parseDouble(element.getAttribute(&quot;z&quot;));&#xD;
    }&#xD;
    if (element.hasAttribute(&quot;use&quot;)) {&#xD;
        use = element.getAttribute(&quot;use&quot;);&#xD;
    }&#xD;
</body>
              </ownedBehavior>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_80ou4HurEem9A9zbMJW8SQ" name="ParticlesXmlReader" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_80pV8HurEem9A9zbMJW8SQ" general="_8yn8sHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_80p9AHurEem9A9zbMJW8SQ" name="data" visibility="private" isStatic="true" type="_8I6RUHurEem9A9zbMJW8SQ" isUnique="false">
                <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_80rLIHurEem9A9zbMJW8SQ"/>
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_80rLIXurEem9A9zbMJW8SQ" value="*"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_80ryMHurEem9A9zbMJW8SQ" name="currentEmitter" visibility="private" isStatic="true" type="_8I6RUHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_80tnYHurEem9A9zbMJW8SQ" name="emitterType" visibility="private" isStatic="true" type="_8y2mMHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_80u1gHurEem9A9zbMJW8SQ" name="texture" visibility="private" isStatic="true" type="_7vwKcHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_80wqsHurEem9A9zbMJW8SQ" name="colorStart" visibility="private" isStatic="true" type="_8hOqsHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_80x40HurEem9A9zbMJW8SQ" name="colorEnd" visibility="private" isStatic="true" type="_8hOqsHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8008IHurEem9A9zbMJW8SQ" name="ParticlesXmlReader">
                <language>JAVA</language>
                <body>&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_809fAHurEem9A9zbMJW8SQ" name="readEmitters" visibility="private" isStatic="true">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_80-tIHurEem9A9zbMJW8SQ" name="emitters" type="_807CwHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_81BJYHurEem9A9zbMJW8SQ" name="readEmitterChildren" visibility="private" isStatic="true">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_81CXgHurEem9A9zbMJW8SQ" name="childNodes" type="_807CwHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_81YVwHurEem9A9zbMJW8SQ" name="AnimationXmlReader" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_81Y80HurEem9A9zbMJW8SQ" general="_8yn8sHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_81Zj4HurEem9A9zbMJW8SQ" name="length" visibility="private" isStatic="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_81ayAHurEem9A9zbMJW8SQ" name="loop" visibility="private" isStatic="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_81cAIHurEem9A9zbMJW8SQ" name="events" visibility="private" isStatic="true" type="_7ts8AHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_81dOQHurEem9A9zbMJW8SQ" name="tracksD" visibility="private" isStatic="true" type="_7ts8AHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_81ecYHurEem9A9zbMJW8SQ" name="tracksT" visibility="private" isStatic="true" type="_7ts8AHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_81gRkHurEem9A9zbMJW8SQ" name="tracksVec2f" visibility="private" isStatic="true" type="_7ts8AHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_81g4oHurEem9A9zbMJW8SQ" name="tracksVec3f" visibility="private" isStatic="true" type="_7ts8AHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_81j78HurEem9A9zbMJW8SQ" name="AnimationXmlReader">
                <language>JAVA</language>
                <body>&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_81o0cHurEem9A9zbMJW8SQ" name="readTrackD" visibility="private" isStatic="true">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_81pbgHurEem9A9zbMJW8SQ" name="node" type="_8y2mMHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_81rQsHurEem9A9zbMJW8SQ" name="readTrackT" visibility="private" isStatic="true">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_81r3wHurEem9A9zbMJW8SQ" name="node" type="_8y2mMHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_81tF4HurEem9A9zbMJW8SQ" name="readTrackVec2f" visibility="private" isStatic="true">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_81uUAHurEem9A9zbMJW8SQ" name="node" type="_8y2mMHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_81wwQHurEem9A9zbMJW8SQ" name="readTrackVec3f" visibility="private" isStatic="true">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_81xXUHurEem9A9zbMJW8SQ" name="node" type="_8y2mMHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_811owHurEem9A9zbMJW8SQ" name="readTrackEvents" visibility="private" isStatic="true">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_813d8HurEem9A9zbMJW8SQ" name="node" type="_81zMgHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
            </packagedElement>
          </packagedElement>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_tdGPEHupEemZOa7va52DCQ" name="entities">
          <packagedElement xmi:type="uml:Class" xmi:id="_7wP5sHurEem9A9zbMJW8SQ" name="Sky" visibility="public" isAbstract="true">
            <generalization xmi:type="uml:Generalization" xmi:id="_84LyIHurEem9A9zbMJW8SQ" general="_82beoHurEem9A9zbMJW8SQ"/>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_84NAQHurEem9A9zbMJW8SQ" name="quad" visibility="private" isStatic="true" type="_8AmC0HurEem9A9zbMJW8SQ" isUnique="false">
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_84NnUHurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>null</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_84O1cHurEem9A9zbMJW8SQ" name="material" visibility="public" type="_8CXkcHurEem9A9zbMJW8SQ" isUnique="false"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_84Tt8HurEem9A9zbMJW8SQ" name="Sky">
              <language>JAVA</language>
              <body>&#xD;
    if (quad == null)&#xD;
        quad = Model.loadQuad();&#xD;
    material = new Material(&quot;data/shaders/sky&quot;);&#xD;
    setColors(colorBot, colorTop);&#xD;
    zIndex = -9999;&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_84WKMHurEem9A9zbMJW8SQ" name="setColors">
              <language>JAVA</language>
              <body>&#xD;
    setColorBot(newColorBot);&#xD;
    setColorTop(newColorTop);&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_84X_YHurEem9A9zbMJW8SQ" name="setColorBot">
              <language>JAVA</language>
              <body>&#xD;
    material.setParamVec3f(&quot;colorBot&quot;, newColorBot);&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_84aboHurEem9A9zbMJW8SQ" name="setColorTop">
              <language>JAVA</language>
              <body>&#xD;
    material.setParamVec3f(&quot;colorTop&quot;, newColorTop);&#xD;
</body>
            </ownedBehavior>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_7wWnYHurEem9A9zbMJW8SQ" name="spatials">
            <packagedElement xmi:type="uml:Class" xmi:id="_7wX1gHurEem9A9zbMJW8SQ" name="Sprite" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_85mucHurEem9A9zbMJW8SQ" general="_85c9cHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_85nVgHurEem9A9zbMJW8SQ" name="defaultTex" visibility="private" isLeaf="true" isStatic="true" type="_7vwKcHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_85ojoHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>Texture.loadTexture(&quot;data/white_pixel.png&quot;)</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_85q_4HurEem9A9zbMJW8SQ" name="material" visibility="public" type="_8CXkcHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_85sOAHurEem9A9zbMJW8SQ" name="model" visibility="private" isStatic="true" type="_8AmC0HurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_85tcIHurEem9A9zbMJW8SQ" name="size" visibility="public" type="_8dpyQHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_85uDMHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new Vec2f(1, 1)</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_85vRUHurEem9A9zbMJW8SQ" name="useTransparency" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_85v4YHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>false</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_85wfcHurEem9A9zbMJW8SQ" name="flipX" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_854bQHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>false</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_855CUHurEem9A9zbMJW8SQ" name="flipY" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_856QcHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>false</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_85960HurEem9A9zbMJW8SQ" name="Sprite">
                <language>JAVA</language>
                <body>&#xD;
    super(position);&#xD;
    if (model == null)&#xD;
        model = Model.loadQuad();&#xD;
    material = new Material(&quot;data/shaders/sprite_simple&quot;);&#xD;
    setTexture(texture);&#xD;
    material.setParamVec4f(&quot;baseColorMod&quot;, new Vec4f(1, 1, 1, 1));&#xD;
    useTransparency = texture.transparency;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_86PAkHurEem9A9zbMJW8SQ" name="drawAsTransparent" specification="_86NycHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    return useTransparency;&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_86LWMHurEem9A9zbMJW8SQ" name="setTexture" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_86L9QHurEem9A9zbMJW8SQ" name="newTex" type="_7vwKcHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_86NycHurEem9A9zbMJW8SQ" name="drawAsTransparent" visibility="public" method="_86PAkHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_86OZgHurEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_7wfKQHurEem9A9zbMJW8SQ" name="TextSpatial" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_85VosHurEem9A9zbMJW8SQ" general="_85VBoHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_85VosXurEem9A9zbMJW8SQ" name="text" visibility="private" type="_8Hn34HurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_85VosnurEem9A9zbMJW8SQ" name="material" visibility="public" type="_8CXkcHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_85Vos3urEem9A9zbMJW8SQ" name="scale" visibility="public" type="_8aUKYHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_85YsA3urEem9A9zbMJW8SQ" name="TextSpatial">
                <language>JAVA</language>
                <body>&#xD;
    super(position);&#xD;
    this.scale = scale.clone();&#xD;
    this.text = text;&#xD;
    this.material = new Material(&quot;data/shaders/text_distance_field&quot;);&#xD;
    setThickness(.3f);&#xD;
    setColor(new Vec4f(1, 1, .5, 1));&#xD;
</body>
              </ownedBehavior>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8AhxYHurEem9A9zbMJW8SQ" name="Camera" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_8-i40HurEem9A9zbMJW8SQ" general="_85VBoHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-i40XurEem9A9zbMJW8SQ" name="viewMatrix" visibility="public" type="_7-vosHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8-i40nurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>Mat4f.identity()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-jf4HurEem9A9zbMJW8SQ" name="targetLoc" visibility="private" type="_8aUKYHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-jf4XurEem9A9zbMJW8SQ" name="margin" visibility="private" type="_8dpyQHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8-jf4nurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new Vec2f(5, 5)</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-jf43urEem9A9zbMJW8SQ" name="zoomMin" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8-jf5HurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>10</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-jf5XurEem9A9zbMJW8SQ" name="zoomMax" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8-jf5nurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>100</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-kG8HurEem9A9zbMJW8SQ" name="fov" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8-kG8XurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>70</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-kG8nurEem9A9zbMJW8SQ" name="interpolate" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8-kuAHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>true</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-kuAXurEem9A9zbMJW8SQ" name="shakeIntensity" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8-kuAnurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>0</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-kuA3urEem9A9zbMJW8SQ" name="time" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8-kuBHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>0</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8-mjMHurEem9A9zbMJW8SQ" name="Camera">
                <language>JAVA</language>
                <body>&#xD;
    super(position);&#xD;
    viewMatrix = Mat4f.viewMatrix(pos(), rotation);&#xD;
    this.targetLoc = localPosition.clone();&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8-nxUXurEem9A9zbMJW8SQ" name="setCameraShake" specification="_8-nKQXurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    shakeIntensity = Math.max(shakeIntensity, intensity);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8-pmgHurEem9A9zbMJW8SQ" name="setFOV" specification="_8-oYYXurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    this.fov = fov;&#xD;
    //Update projection matrix if this is the current camera&#xD;
    if (Window.getCamera() == this)&#xD;
        Window.createProjectionMatrix();&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8-vGEXurEem9A9zbMJW8SQ" name="center">
                <language>JAVA</language>
                <body>&#xD;
    if (players.size() == 0)&#xD;
        return;&#xD;
    Vec2f boundsX = new Vec2f(players.get(0).getWorldPos().x, players.get(0).getWorldPos().x);&#xD;
    Vec2f boundsY = new Vec2f(players.get(0).getWorldPos().y, players.get(0).getWorldPos().y);&#xD;
    for (int i = 1; i &lt; players.size(); i++) {&#xD;
        boundsX.x = Math.min(boundsX.x, players.get(i).getWorldPos().x);&#xD;
        boundsX.y = Math.max(boundsX.y, players.get(i).getWorldPos().x);&#xD;
        boundsY.x = Math.min(boundsY.x, players.get(i).getWorldPos().y);&#xD;
        boundsY.y = Math.max(boundsY.y, players.get(i).getWorldPos().y);&#xD;
    }&#xD;
    if (bounds != null) {&#xD;
        boundsX.x = Utils.clampF(boundsX.x, bounds.x, bounds.z);&#xD;
        boundsX.y = Utils.clampF(boundsX.y, bounds.x, bounds.z);&#xD;
        boundsY.x = Utils.clampF(boundsY.x, bounds.y, bounds.w);&#xD;
        boundsY.y = Utils.clampF(boundsY.y, bounds.y, bounds.w);&#xD;
    }&#xD;
    float boundsW = Math.max(0, boundsX.y - boundsX.x) + margin.x;&#xD;
    float boundsH = Math.max(0, boundsY.y - boundsY.x) + margin.y;&#xD;
    targetLoc.x = Utils.lerpF(boundsX.x, boundsX.y, .5f);&#xD;
    targetLoc.y = Utils.lerpF(boundsY.x, boundsY.y, .5f);&#xD;
    float newZ;&#xD;
    if (//TODO: Test with different window sizes and aspects&#xD;
    boundsW / boundsH > Window.getRatio()) {&#xD;
        newZ = zoomMin + Utils.clampF(350 / ((800 * Window.getRatio()) / boundsW), 0, zoomMax - zoomMin);&#xD;
    } else {&#xD;
        newZ = zoomMin + Utils.clampF(350 / (800 / boundsH), 0, zoomMax - zoomMin);&#xD;
    }&#xD;
    //Slow zoom-in&#xD;
    if (newZ &lt; targetLoc.z)&#xD;
        targetLoc.z = Utils.lerpF(targetLoc.z, newZ, Math.min(1, 1.5 * d));&#xD;
    else&#xD;
        targetLoc.z = newZ;&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8-nKQXurEem9A9zbMJW8SQ" name="setCameraShake" visibility="public" method="_8-nxUXurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8-nxUHurEem9A9zbMJW8SQ" name="intensity">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8-oYYXurEem9A9zbMJW8SQ" name="setFOV" visibility="public" method="_8-pmgHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8-oYYnurEem9A9zbMJW8SQ" name="fov">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8keL8HurEem9A9zbMJW8SQ" name="Collider" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_8_FEUHurEem9A9zbMJW8SQ" general="_85c9cHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8_FEUXurEem9A9zbMJW8SQ" name="extent" visibility="public" type="_8dpyQHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8_G5gXurEem9A9zbMJW8SQ" name="Collider" specification="_8_FrYHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    super(position);&#xD;
    this.extent = extent;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8_HgkHurEem9A9zbMJW8SQ" name="isColliding" specification="_8_G5gnurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    return Math.abs(getWorldPos().x - other.getWorldPos().x) &lt; extent.x + other.extent.x &amp;&amp; Math.abs(getWorldPos().y - other.getWorldPos().y) &lt; extent.y + other.extent.y;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8_IusnurEem9A9zbMJW8SQ" name="isY1IncluedInY2" specification="_8_IHpnurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    return c1.getYBottom() > c2.getYTop() &amp;&amp; c1.getYTop() &lt; c2.getYBottom();&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8_JVwnurEem9A9zbMJW8SQ" name="isX1IncluedInX2" specification="_8_Ius3urEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    return c1.getXLeft() &lt; c2.getXRight() &amp;&amp; c1.getXRight() > c2.getXLeft();&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8_FrYHurEem9A9zbMJW8SQ" name="Collider" visibility="public" method="_8_G5gXurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8_GScXurEem9A9zbMJW8SQ" name="position" type="_8dpyQHurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8_G5gHurEem9A9zbMJW8SQ" name="extent" type="_8dpyQHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8_G5gnurEem9A9zbMJW8SQ" name="isColliding" visibility="public" method="_8_HgkHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8_G5g3urEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                </ownedParameter>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8_G5hHurEem9A9zbMJW8SQ" name="other" type="_8keL8HurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8_IHpnurEem9A9zbMJW8SQ" name="isY1IncluedInY2" visibility="public" isStatic="true" method="_8_IusnurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8_IHp3urEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                </ownedParameter>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8_IusHurEem9A9zbMJW8SQ" name="c1" type="_8keL8HurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8_IusXurEem9A9zbMJW8SQ" name="c2" type="_8keL8HurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8_Ius3urEem9A9zbMJW8SQ" name="isX1IncluedInX2" visibility="public" isStatic="true" method="_8_JVwnurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8_IutHurEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                </ownedParameter>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8_JVwHurEem9A9zbMJW8SQ" name="c1" type="_8keL8HurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8_JVwXurEem9A9zbMJW8SQ" name="c2" type="_8keL8HurEem9A9zbMJW8SQ"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8zm0IHurEem9A9zbMJW8SQ" name="Spawner" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_8-8hcHurEem9A9zbMJW8SQ" general="_85c9cHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-8hcXurEem9A9zbMJW8SQ" name="timerWarmup" visibility="private" type="_82lPoHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8-8hcnurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>null</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-9IgXurEem9A9zbMJW8SQ" name="itemList" visibility="private" type="_8-9IgHurEem9A9zbMJW8SQ" isUnique="false">
                <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_8-9IgnurEem9A9zbMJW8SQ"/>
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_8-9Ig3urEem9A9zbMJW8SQ" value="*"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8-9IhHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new ArrayList&lt;>()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-9IhXurEem9A9zbMJW8SQ" name="probaTotal" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8-9vkHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>0</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-9vkXurEem9A9zbMJW8SQ" name="position" visibility="private" type="_8dpyQHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8-9vknurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>null</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-9vk3urEem9A9zbMJW8SQ" name="itemCourant" visibility="private" type="_teCqQHupEemZOa7va52DCQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8-9vlHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>null</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8--WoHurEem9A9zbMJW8SQ" name="pos" visibility="private" type="_8dpyQHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8--WoXurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>null</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8_AL0XurEem9A9zbMJW8SQ" name="Spawner">
                <language>JAVA</language>
                <body>&#xD;
    super(position);&#xD;
    this.position = position;&#xD;
    this.timerWarmup = new Timer(cooldown);&#xD;
    timerWarmup.attachToParent(this, timerWarmup.genName());&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8_CBAXurEem9A9zbMJW8SQ" name="addItem" specification="_8_AL0nurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    Tuple&lt;Item, Integer> tuple = new Tuple&lt;Item, Integer>(item, proba);&#xD;
    itemList.add(tuple);&#xD;
    probaTotal += tuple.y;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8_CBA3urEem9A9zbMJW8SQ" name="spawnWeapon" specification="_8_CBAnurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    if (!itemList.isEmpty()) {&#xD;
        Item weaponToSpawn = get().clone(position);&#xD;
        GameMaster.gm.getMap().items.add(weaponToSpawn);&#xD;
        weaponToSpawn.attachToParent(GameMaster.gm.getMap(), genName());&#xD;
        // Variables pour posdiff&#xD;
        itemCourant = weaponToSpawn;&#xD;
        pos = weaponToSpawn.getWorldPos();&#xD;
        timerWarmup.reset();&#xD;
    }&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8_AL0nurEem9A9zbMJW8SQ" name="addItem" visibility="public" method="_8_CBAXurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8_BZ8HurEem9A9zbMJW8SQ" name="item" type="_teCqQHupEemZOa7va52DCQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8_CBAHurEem9A9zbMJW8SQ" name="proba">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8_CBAnurEem9A9zbMJW8SQ" name="spawnWeapon" visibility="public" method="_8_CBA3urEem9A9zbMJW8SQ"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8_CBBHurEem9A9zbMJW8SQ" name="get" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8_CBBXurEem9A9zbMJW8SQ" type="_teCqQHupEemZOa7va52DCQ" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_84vLwHurEem9A9zbMJW8SQ" name="Character" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_84vy0XurEem9A9zbMJW8SQ" general="_84vy0HurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_84xA8HurEem9A9zbMJW8SQ" name="controller" visibility="public" type="_817IUHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_84xA8XurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>null</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_84xoAHurEem9A9zbMJW8SQ" name="defaultDamage" visibility="private" isLeaf="true" isStatic="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_84y2IHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>10</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_840EQHurEem9A9zbMJW8SQ" name="health" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_840rUHurEem9A9zbMJW8SQ" name="healthMax" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8415cHurEem9A9zbMJW8SQ" name="spawn" visibility="private" isLeaf="true" type="_8dpyQHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_843HkHurEem9A9zbMJW8SQ" name="isOnGround" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_847ZAHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>true</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_848nIHurEem9A9zbMJW8SQ" name="movementInput" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8491QHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>0</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8491QXurEem9A9zbMJW8SQ" name="lookRight" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_84-cUHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>true</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_84_qcHurEem9A9zbMJW8SQ" name="isAiming" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_85A4kHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>false</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_85BfoHurEem9A9zbMJW8SQ" name="aimInput" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_85CtwHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>0</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_85D74HurEem9A9zbMJW8SQ" name="maxSpeed" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_85Ei8HurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>18</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_85FxEHurEem9A9zbMJW8SQ" name="jumpi" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_85G_MHurEem9A9zbMJW8SQ" name="jumpForce" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_85HmQHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>25</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_85INUHurEem9A9zbMJW8SQ" name="parachuteForce" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_85INUXurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>8.5</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_85I0YHurEem9A9zbMJW8SQ" name="jumpTimer" visibility="private" type="_82lPoHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_85JbcHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new Timer(0.5)</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_85JbcXurEem9A9zbMJW8SQ" name="attack" visibility="private" type="_82lPoHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_85JbcnurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new Timer(0.3)</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_85TMcHurEem9A9zbMJW8SQ" name="GroundRaycastCallback" visibility="private" type="_85RXQ3urEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_85TMcXurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new RayCastCallback() {&#xD;
&#xD;
    @Override&#xD;
    public float reportFixture(Fixture fixture, Vec2 point, Vec2 normal, float fraction) {&#xD;
        //Ignore anything the character doesn't collide with&#xD;
        if ((fixture.getFilterData().categoryBits &amp; CollisionFlags.CHARACTER.maskBits) == 0)&#xD;
            return -1;&#xD;
        isOnGround = true;&#xD;
        return fraction;&#xD;
    }&#xD;
}</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_85LQoXurEem9A9zbMJW8SQ" name="Character" specification="_85Jbc3urEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    super(position, new RigidBody(new ShapeBox(new Vec2f(.5, 1)), position, 0, CollisionFlags.CHARACTER, .5f, 1.2f));&#xD;
    getBody().setBullet(true);&#xD;
    getBody().setRotationLocked(true);&#xD;
    healthMax = 40;&#xD;
    health = healthMax;&#xD;
    spawn = position;&#xD;
    rotation = 0;&#xD;
    attack.attachToParent(this, &quot;attack timer&quot;);&#xD;
    jumpTimer.attachToParent(this, &quot;jump Timer&quot;);&#xD;
    CharacterSprite skeleton = new CharacterSprite(this.getWorldPos(), charInfo);&#xD;
    skeleton.attachToParent(this, &quot;skeleton&quot;);&#xD;
    SoundEffect jumpSound = new SoundEffect(this.getWorldPos(), &quot;data/sound/jump.ogg&quot;, 2);&#xD;
    jumpSound.setVolume(.7f);&#xD;
    jumpSound.attachToParent(this, &quot;snd_Jump&quot;);&#xD;
    SoundEffect punchHitSound = new SoundEffect(this.getWorldPos(), &quot;data/sound/snd_Punch_Hit2.ogg&quot;, 2);&#xD;
    punchHitSound.setVolume(.7f);&#xD;
    punchHitSound.attachToParent(this, &quot;snd_Punch_Hit&quot;);&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_85Jbc3urEem9A9zbMJW8SQ" name="Character" visibility="public" method="_85LQoXurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_85KpkXurEem9A9zbMJW8SQ" name="position" type="_8dpyQHurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_85LQoHurEem9A9zbMJW8SQ" name="charInfo" type="_81-LoHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_85LQonurEem9A9zbMJW8SQ" name="jump" visibility="public"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_85MewHurEem9A9zbMJW8SQ" name="planer" visibility="public"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_85NF0XurEem9A9zbMJW8SQ" name="jumpStop" visibility="public"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_85NF03urEem9A9zbMJW8SQ" name="attackStart" visibility="public"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_85Ns4XurEem9A9zbMJW8SQ" name="attackStop" visibility="public"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_85Ns43urEem9A9zbMJW8SQ" name="getItem" visibility="public"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_85OT8HurEem9A9zbMJW8SQ" name="dropItem" visibility="public"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_85OT8nurEem9A9zbMJW8SQ" name="getWeapon" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_85OT9XurEem9A9zbMJW8SQ" type="_85OT9HurEem9A9zbMJW8SQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_85O7AXurEem9A9zbMJW8SQ" name="heal" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_85O7AnurEem9A9zbMJW8SQ" name="healed">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_85O7BHurEem9A9zbMJW8SQ" name="takeDamage" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_85PiEHurEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedParameter>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_85PiEXurEem9A9zbMJW8SQ" name="damage">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedParameter>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_85PiEnurEem9A9zbMJW8SQ" name="droite">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_85PiFHurEem9A9zbMJW8SQ" name="death" visibility="public"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_85QJJHurEem9A9zbMJW8SQ" name="getHealth" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_85QwMHurEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_85QwMnurEem9A9zbMJW8SQ" name="getHealthMax" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_85QwM3urEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_85QwNXurEem9A9zbMJW8SQ" name="isDead" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_85QwNnurEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_85RXQHurEem9A9zbMJW8SQ" name="getSpawn" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_85RXQXurEem9A9zbMJW8SQ" type="_8dpyQHurEem9A9zbMJW8SQ" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_84vy0HurEem9A9zbMJW8SQ" name="RigidBodyContainer" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_89-REHurEem9A9zbMJW8SQ" general="_85c9cHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-AtUHurEem9A9zbMJW8SQ" name="body" visibility="private" type="_8oqIYHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-E-wHurEem9A9zbMJW8SQ" name="needsPhysWorld" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8-Fl0HurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>true</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8-J3QHurEem9A9zbMJW8SQ" name="RigidBodyContainer">
                <language>JAVA</language>
                <body>&#xD;
    super(position);&#xD;
    this.body = body;&#xD;
</body>
              </ownedBehavior>
            </packagedElement>
            <packagedElement xmi:type="uml:Package" xmi:id="_85OT83urEem9A9zbMJW8SQ" name="items">
              <packagedElement xmi:type="uml:Class" xmi:id="_85OT9HurEem9A9zbMJW8SQ" name="Usable" visibility="public" isAbstract="true">
                <generalization xmi:type="uml:Generalization" xmi:id="_8_91IHurEem9A9zbMJW8SQ" general="_8_svYHurEem9A9zbMJW8SQ"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8_91IXurEem9A9zbMJW8SQ" name="timerCooldown" visibility="protected" type="_82lPoHurEem9A9zbMJW8SQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8_91InurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>null</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8_-cMHurEem9A9zbMJW8SQ" name="fireRate" visibility="protected" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8_-cMXurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>0</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8_-cMnurEem9A9zbMJW8SQ" name="uses" visibility="protected" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8_-cM3urEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>0</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8__DQHurEem9A9zbMJW8SQ" name="animPath" visibility="protected" type="_tbdQUHupEemZOa7va52DCQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8__DQXurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>&quot;&quot;</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8__DQnurEem9A9zbMJW8SQ" name="warmup" visibility="protected" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8__DQ3urEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>0</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8__DRHurEem9A9zbMJW8SQ" name="soundWarmup" visibility="protected" type="_tbdQUHupEemZOa7va52DCQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8__DRXurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>&quot;&quot;</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8__qUHurEem9A9zbMJW8SQ" name="soundFire" visibility="protected" type="_tbdQUHupEemZOa7va52DCQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8__qUXurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>&quot;&quot;</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9ACtonurEem9A9zbMJW8SQ" name="Usable">
                  <language>JAVA</language>
                  <body>&#xD;
    super(position, name, weight, pathSprite, handPosL, handPosR, soundPickup);&#xD;
    timerCooldown = new Timer(fireRate);&#xD;
    timerCooldown.attachToParent(this, timerCooldown.genName());&#xD;
    this.fireRate = fireRate;&#xD;
    this.uses = uses;&#xD;
    this.animPath = animPath;&#xD;
    this.warmup = warmup;&#xD;
    this.soundWarmup = soundWarmup;&#xD;
    this.soundFire = soundFire;&#xD;
</body>
                </ownedBehavior>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_8_eF4HurEem9A9zbMJW8SQ" name="Gun" visibility="public" isAbstract="true">
                <generalization xmi:type="uml:Generalization" xmi:id="_9AINMHurEem9A9zbMJW8SQ" general="_85OT9HurEem9A9zbMJW8SQ"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_9AI0QHurEem9A9zbMJW8SQ" name="recoil" visibility="protected" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9AI0QXurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>0.4f</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_9AI0QnurEem9A9zbMJW8SQ" name="thrust" visibility="protected" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9AI0Q3urEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>//&#xD;
0</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_9AJbUHurEem9A9zbMJW8SQ" name="cannonLength" visibility="protected" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9AJbUXurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>1.0</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_9AJbUnurEem9A9zbMJW8SQ" name="bulletType" visibility="protected" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9AJbU3urEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>0</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_9AJbVHurEem9A9zbMJW8SQ" name="bulletSpeed" visibility="protected" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9AKCYHurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>1</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_9AKCYXurEem9A9zbMJW8SQ" name="damage" visibility="protected" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9AKCYnurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>0f</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_9AKCY3urEem9A9zbMJW8SQ" name="warmupDuration" visibility="protected" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9AKCZHurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>0</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_9AKpcHurEem9A9zbMJW8SQ" name="bangSound" visibility="protected" type="_tbdQUHupEemZOa7va52DCQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9AKpcXurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>&quot;&quot;</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_9AKpcnurEem9A9zbMJW8SQ" name="noAmmoSound" visibility="protected" type="_tbdQUHupEemZOa7va52DCQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9AKpc3urEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>&quot;&quot;</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_9ALQgHurEem9A9zbMJW8SQ" name="size" visibility="protected" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9ALQgXurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>0</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_9ALQgnurEem9A9zbMJW8SQ" name="timerCooldown" visibility="protected" type="_82lPoHurEem9A9zbMJW8SQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9ALQg3urEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>null</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_9AL3kHurEem9A9zbMJW8SQ" name="timerWarmup" visibility="protected" type="_82lPoHurEem9A9zbMJW8SQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9AL3kXurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>null</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_9AL3knurEem9A9zbMJW8SQ" name="sndWarmup" visibility="protected" type="_8_LK8HurEem9A9zbMJW8SQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9AMeoHurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>null</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_9AMeoXurEem9A9zbMJW8SQ" name="sndChargeVol" visibility="protected" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_9AMeonurEem9A9zbMJW8SQ" name="sndChargePitch" visibility="protected" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_9AMeo3urEem9A9zbMJW8SQ" name="nbAmmo" visibility="protected" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9AR-NHurEem9A9zbMJW8SQ" name="Gun">
                  <language>JAVA</language>
                  <body>&#xD;
    super(position, name, weight, pathSprite, handPosL, handPosR, soundPickup, cooldown, uses, animPath, warmupDuration, soundWarmup, bangSound);&#xD;
    this.nbAmmo = uses;&#xD;
    this.bulletType = bulletType;&#xD;
    this.bulletSpeed = bulletSpeed;&#xD;
    this.cannonLength = cannonLength;&#xD;
    this.damage = damage;&#xD;
    this.recoil = (float) recoil;&#xD;
    this.thrust = (float) thrust;&#xD;
    this.warmupDuration = warmupDuration;&#xD;
    this.bangSound = bangSound;&#xD;
    this.noAmmoSound = noAmmoSound;&#xD;
    this.size = size;&#xD;
    SoundEffect attack = new SoundEffect(new Vec2f(), &quot;data/sound/&quot; + bangSound + &quot;.ogg&quot;, 2, 0.85f, 1.15f);&#xD;
    attack.setVolume(0.25f);&#xD;
    attack.attachToParent(this, &quot;snd_Bang&quot;);&#xD;
    if (soundWarmup == null || soundWarmup.isEmpty()) {&#xD;
        sndWarmup = null;&#xD;
    } else {&#xD;
        sndWarmup = new SoundEffect(new Vec2f(), &quot;data/sound/&quot; + soundWarmup + &quot;.ogg&quot;, -1, 1, 1);&#xD;
        sndWarmup.setVolume(0);&#xD;
        sndWarmup.play();&#xD;
        sndWarmup.attachToParent(this, &quot;snd_Warmup&quot;);&#xD;
    }&#xD;
    //Warmup&#xD;
    this.timerWarmup = new Timer(warmupDuration);&#xD;
    this.timerWarmup.setIncreasing(false);&#xD;
    this.timerWarmup.setProcessing(true);&#xD;
    this.timerWarmup.attachToParent(this, &quot;timer_warmup&quot;);&#xD;
    //Cooldown&#xD;
    this.timerCooldown = new Timer(fireRate);&#xD;
    this.timerCooldown.setIncreasing(true);&#xD;
    this.timerCooldown.setProcessing(true);&#xD;
    this.timerCooldown.setValue(fireRate);&#xD;
    this.timerCooldown.attachToParent(this, &quot;timer_cooldown&quot;);&#xD;
    SoundEffect noAmmo = new SoundEffect(this.parentPosition, &quot;data/sound/&quot; + noAmmoSound + &quot;.ogg&quot;, 1, 0.85f, 1.15f);&#xD;
    noAmmo.setVolume(0.25f);&#xD;
    noAmmo.attachToParent(this, &quot;snd_NoAmmo&quot;);&#xD;
    Entity particleContainer = new Entity();&#xD;
    particleContainer.attachToParent(this, &quot;particle_container&quot;);&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9ASlQXurEem9A9zbMJW8SQ" name="attackStart" specification="_9ASlQHurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    timerWarmup.setIncreasing(true);&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9ASlQ3urEem9A9zbMJW8SQ" name="attackStop" specification="_9ASlQnurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    timerWarmup.setIncreasing(false);&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9ATMU3urEem9A9zbMJW8SQ" name="setLocalPositionOfSprite">
                  <language>JAVA</language>
                  <body>&#xD;
    Vec2f.rotate(new Vec2f(.5, 0), rotation, localPosition);&#xD;
</body>
                </ownedBehavior>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_9ASlQHurEem9A9zbMJW8SQ" name="attackStart" visibility="public" method="_9ASlQXurEem9A9zbMJW8SQ"/>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_9ASlQnurEem9A9zbMJW8SQ" name="attackStop" visibility="public" method="_9ASlQ3urEem9A9zbMJW8SQ"/>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_9ASlRHurEem9A9zbMJW8SQ" name="step" visibility="public">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_9ATMUHurEem9A9zbMJW8SQ" name="d">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                  </ownedParameter>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_8_sIUHurEem9A9zbMJW8SQ" name="UsableTimer" visibility="public" isAbstract="true">
                <generalization xmi:type="uml:Generalization" xmi:id="_8_svYXurEem9A9zbMJW8SQ" general="_8_svYHurEem9A9zbMJW8SQ"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8_yO8XurEem9A9zbMJW8SQ" name="UsableTimer">
                  <language>JAVA</language>
                  <body>&#xD;
    super(position, name, weight, pathSprite, handPosL, handPosR, soundPickup);&#xD;
    timerCooldown = new Timer(fireRate);&#xD;
    timerCooldown.attachToParent(this, timerCooldown.genName());&#xD;
    this.fireRate = fireRate;&#xD;
    this.duration = duration;&#xD;
    this.animPath = animPath;&#xD;
    this.warmup = warmup;&#xD;
    this.soundWarmup = soundWarmup;&#xD;
    this.soundFire = soundFire;&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8_yO83urEem9A9zbMJW8SQ" name="attackStart" specification="_8_yO8nurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    timerCooldown.setIncreasing(true);&#xD;
    timerCooldown.setProcessing(true);&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8_yO9XurEem9A9zbMJW8SQ" name="attackStop" specification="_8_yO9HurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    timerCooldown.setIncreasing(false);&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8_y2AnurEem9A9zbMJW8SQ" name="step" specification="_8_y2AHurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    if (timerCooldown.isOver()) {&#xD;
        timerCooldown.restart();&#xD;
    }&#xD;
    Vec2f targetOffSet = Vec2f.rotate(new Vec2f(50, 0), rotation);&#xD;
    localPosition.x = (float) Utils.lerpD((double) localPosition.x, targetOffSet.x, Math.min(1, d * 55));&#xD;
    localPosition.y = (float) Utils.lerpD((double) localPosition.y, targetOffSet.y, Math.min(1, d * 55));&#xD;
    if (isEquipped()) {&#xD;
        rotation = Utils.lerpAngle(rotation, ((Character) parent).aimInput, Math.min(1, d * 17));&#xD;
        getSprite().rotation = rotation;&#xD;
    }&#xD;
    super.step(d);&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8_zdE3urEem9A9zbMJW8SQ" name="clone" specification="_8_zdEHurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    UsableTimer clone = new UsableTimer(localPosition, animPath, duration, animPath, handPosL, handPosR, animPath, fireRate, duration, animPath, warmup, soundWarmup, soundFire);&#xD;
    return clone;&#xD;
</body>
                </ownedBehavior>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_8_yO8nurEem9A9zbMJW8SQ" name="attackStart" visibility="public" method="_8_yO83urEem9A9zbMJW8SQ"/>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_8_yO9HurEem9A9zbMJW8SQ" name="attackStop" visibility="public" method="_8_yO9XurEem9A9zbMJW8SQ"/>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_8_y2AHurEem9A9zbMJW8SQ" name="step" visibility="public" method="_8_y2AnurEem9A9zbMJW8SQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_8_y2AXurEem9A9zbMJW8SQ" name="d">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_8_zdEHurEem9A9zbMJW8SQ" name="clone" visibility="public" method="_8_zdE3urEem9A9zbMJW8SQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_8_zdEXurEem9A9zbMJW8SQ" type="_8_sIUHurEem9A9zbMJW8SQ" direction="return"/>
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_8_zdEnurEem9A9zbMJW8SQ" name="position" type="_8dpyQHurEem9A9zbMJW8SQ"/>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_8_svYHurEem9A9zbMJW8SQ" name="Item" visibility="public" isAbstract="true">
                <generalization xmi:type="uml:Generalization" xmi:id="_9AhOwHurEem9A9zbMJW8SQ" general="_85c9cHurEem9A9zbMJW8SQ"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_9Ah10nurEem9A9zbMJW8SQ" name="collider" visibility="private" type="_8keL8HurEem9A9zbMJW8SQ" isUnique="false"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9AmuVHurEem9A9zbMJW8SQ" name="isEquipped" specification="_9AmuUnurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    if (parent != null)&#xD;
        return parent instanceof Character;&#xD;
    else&#xD;
        return false;&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Aq_wXurEem9A9zbMJW8SQ" name="Item">
                  <language>JAVA</language>
                  <body>&#xD;
    super(position);&#xD;
    Sprite sprite = new Sprite(position, pathSprite);&#xD;
    sprite.attachToParent(this, &quot;Item_Sprite&quot;);&#xD;
    SoundEffect pickup = new SoundEffect(parentPosition, &quot;data/sound/&quot; + soundPickup + &quot;.ogg&quot;, 1);&#xD;
    pickup.attachToParent(this, &quot;sound_pickup&quot;);&#xD;
    setSizeOfSprite();&#xD;
    setSizeOfCollider();&#xD;
    this.position = position;&#xD;
    this.name = name;&#xD;
    this.weight = weight;&#xD;
    this.pathSprite = pathSprite;&#xD;
    this.handPosL = handPosL;&#xD;
    this.handPosR = handPosR;&#xD;
    this.soundPickup = soundPickup;&#xD;
</body>
                </ownedBehavior>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_9AmuUnurEem9A9zbMJW8SQ" name="isEquipped" visibility="public" method="_9AmuVHurEem9A9zbMJW8SQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_9AmuU3urEem9A9zbMJW8SQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                  </ownedParameter>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_8_15UHurEem9A9zbMJW8SQ" name="animMelee" visibility="public" isAbstract="true">
                <generalization xmi:type="uml:Generalization" xmi:id="_8_15UXurEem9A9zbMJW8SQ" general="_85c9cHurEem9A9zbMJW8SQ"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8_2gYHurEem9A9zbMJW8SQ" name="anim" visibility="private" type="_7ugNQHurEem9A9zbMJW8SQ" isUnique="false"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8_2gYXurEem9A9zbMJW8SQ" name="item" visibility="protected" type="_8_svYHurEem9A9zbMJW8SQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8_2gYnurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>null</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_8_2gY3urEem9A9zbMJW8SQ" name="sprite" visibility="protected" type="_7wX1gHurEem9A9zbMJW8SQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8_2gZHurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>null</body>
                  </defaultValue>
                </ownedAttribute>
                <interfaceRealization xmi:type="uml:InterfaceRealization" xmi:id="_8_15UnurEem9A9zbMJW8SQ" name="animMelee implements IAnimated" client="_8_15UHurEem9A9zbMJW8SQ" supplier="_7udxAHurEem9A9zbMJW8SQ" contract="_7udxAHurEem9A9zbMJW8SQ"/>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_8_3HcHurEem9A9zbMJW8SQ" name="animMelee" visibility="public">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_8_4VkXurEem9A9zbMJW8SQ" name="position" type="_8dpyQHurEem9A9zbMJW8SQ"/>
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_8_4VknurEem9A9zbMJW8SQ" name="item" type="_8_svYHurEem9A9zbMJW8SQ"/>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_NJrmoHycEemsjr4EcXr-sw" name="fire" isAbstract="true"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_9AW2sHurEem9A9zbMJW8SQ" name="Melee" visibility="public" isAbstract="true">
                <generalization xmi:type="uml:Generalization" xmi:id="_9AXdwHurEem9A9zbMJW8SQ" general="_85OT9HurEem9A9zbMJW8SQ"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_9AXdwXurEem9A9zbMJW8SQ" name="fireRate" visibility="protected" type="_82lPoHurEem9A9zbMJW8SQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9AXdwnurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>null</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_9AXdw3urEem9A9zbMJW8SQ" name="collider" visibility="private" type="_8keL8HurEem9A9zbMJW8SQ" isUnique="false"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_9AXdxHurEem9A9zbMJW8SQ" name="damage" visibility="protected" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9AYE0HurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>10f</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_9AYE0XurEem9A9zbMJW8SQ" name="timerCooldown" visibility="protected" type="_82lPoHurEem9A9zbMJW8SQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9AYE0nurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>null</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_9AYE03urEem9A9zbMJW8SQ" name="animmelee" visibility="protected" type="_8_15UHurEem9A9zbMJW8SQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9AYE1HurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>null</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_9AYE1XurEem9A9zbMJW8SQ" name="sprite" visibility="protected" type="_7wX1gHurEem9A9zbMJW8SQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9AYE1nurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>null</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_9AYr4HurEem9A9zbMJW8SQ" name="timerWarmup" visibility="protected" type="_82lPoHurEem9A9zbMJW8SQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9AYr4XurEem9A9zbMJW8SQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>null</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Ac9UnurEem9A9zbMJW8SQ" name="Melee">
                  <language>JAVA</language>
                  <body>&#xD;
    super(position, name, weight, pathSprite, handPosL, handPosR, soundPickup, cooldown, uses, animPath, warmupDuration, soundWarmup, attackSound);&#xD;
    /*
		 * SoundEffect pickup = new SoundEffect(position, &quot;data/sound/&quot; + soundPickup +
		 * &quot;.ogg&quot;, 2); pickup.attachToParent(this, &quot;snd_Pickup&quot;);
		 * 
		 * SoundEffect attack = new SoundEffect(position, &quot;data/sound/&quot; + attackSound +
		 * &quot;.ogg&quot;, 2); attack.attachToParent(this, &quot;snd_attack&quot;);
		 * 
		 * SoundEffect warmup = new SoundEffect(position, &quot;data/sound/&quot; + soundWarmup +
		 * &quot;.ogg&quot;, 2); warmup.attachToParent(this, &quot;snd_Warmup&quot;);
		 */&#xD;
    //Cooldown&#xD;
    this.timerCooldown = new Timer(cooldown);&#xD;
    this.timerCooldown.setIncreasing(true);&#xD;
    this.timerCooldown.setProcessing(true);&#xD;
    this.timerCooldown.setValue(cooldown);&#xD;
    this.timerCooldown.attachToParent(this, &quot;timer_cooldown&quot;);&#xD;
    this.animmelee = new animMelee(new Vec2f(0, 0), this);&#xD;
    animmelee.attachToParent(this, &quot;anim fzfzef 1&quot;);&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9AdkYXurEem9A9zbMJW8SQ" name="attackStart" specification="_9AdkYHurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9AdkY3urEem9A9zbMJW8SQ" name="attackStop" specification="_9AdkYnurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9AeLcHurEem9A9zbMJW8SQ" name="setLocalPositionOfSprite" specification="_9AdkZHurEem9A9zbMJW8SQ">
                  <language>JAVA</language>
                  <body>&#xD;
    if (getParent() instanceof Character) {&#xD;
        if (((Character) getParent()).lookRight) {&#xD;
            localPosition = new Vec2f(0.3, 0.1);&#xD;
        } else {&#xD;
            localPosition = new Vec2f(-0.3, 0.1);&#xD;
        }&#xD;
    }&#xD;
</body>
                </ownedBehavior>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_9AdkYHurEem9A9zbMJW8SQ" name="attackStart" visibility="public" method="_9AdkYXurEem9A9zbMJW8SQ"/>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_9AdkYnurEem9A9zbMJW8SQ" name="attackStop" visibility="public" method="_9AdkY3urEem9A9zbMJW8SQ"/>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_9AdkZHurEem9A9zbMJW8SQ" name="setLocalPositionOfSprite" visibility="protected" method="_9AeLcHurEem9A9zbMJW8SQ"/>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_9AeLcXurEem9A9zbMJW8SQ" name="step" visibility="public">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_9AeLcnurEem9A9zbMJW8SQ" name="d">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                  </ownedParameter>
                </ownedOperation>
              </packagedElement>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_85VBoHurEem9A9zbMJW8SQ" name="Spatial3" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_89VX4HurEem9A9zbMJW8SQ" general="_82beoHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_89ZCQHurEem9A9zbMJW8SQ" name="parentPosition" visibility="public" type="_8aUKYHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_89dTsHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new Vec3f()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_89fv8HurEem9A9zbMJW8SQ" name="localPosition" visibility="public" type="_8aUKYHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_89hlIHurEem9A9zbMJW8SQ" name="rotation" visibility="public" type="_728XkHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_89iMMHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>Quat.fromAngle(0)</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_89izQHurEem9A9zbMJW8SQ" name="rotationFromParent" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_89nEsHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>false</body>
                </defaultValue>
              </ownedAttribute>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_85cWYHurEem9A9zbMJW8SQ" name="Particles" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_85c9cXurEem9A9zbMJW8SQ" general="_85c9cHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_85c9cnurEem9A9zbMJW8SQ" name="system" visibility="private" type="_8ImIQHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_85eLkHurEem9A9zbMJW8SQ" name="selfDestruct" visibility="public" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_85eLkXurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>false</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_85h18HurEem9A9zbMJW8SQ" name="Particles">
                <language>JAVA</language>
                <body>&#xD;
    super(position);&#xD;
    system = ParticleSystem.load(path);&#xD;
    system.position = new Vec3f(position.x, position.y, 0);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_85kSMHurEem9A9zbMJW8SQ" name="drawAsTransparent" specification="_85jrIXurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>//TODO: Remove this&#xD;
&#xD;
    return true;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_85kSMnurEem9A9zbMJW8SQ" name="draw">
                <language>JAVA</language>
                <body>&#xD;
    system.draw();&#xD;
    super.draw();&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_85jrIXurEem9A9zbMJW8SQ" name="drawAsTransparent" visibility="public" method="_85kSMHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_85jrInurEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_85c9cHurEem9A9zbMJW8SQ" name="Spatial" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_87F8MHurEem9A9zbMJW8SQ" general="_82beoHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_87I_gHurEem9A9zbMJW8SQ" name="worldPosition" visibility="private" type="_8dpyQHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_87JmkHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new Vec2f()</body>
                </defaultValue>
              </ownedAttribute>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_86TSAHurEem9A9zbMJW8SQ" name="Mesh" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_86T5EHurEem9A9zbMJW8SQ" general="_85VBoHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_86UgIHurEem9A9zbMJW8SQ" name="models" visibility="private" type="_8AmC0HurEem9A9zbMJW8SQ" isUnique="false">
                <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_86WVUHurEem9A9zbMJW8SQ"/>
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_86WVUXurEem9A9zbMJW8SQ" value="*"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_86W8YHurEem9A9zbMJW8SQ" name="materials" visibility="private" type="_8CXkcHurEem9A9zbMJW8SQ" isUnique="false">
                <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_86XjcHurEem9A9zbMJW8SQ"/>
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_86YKgHurEem9A9zbMJW8SQ" value="*"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_86YxkHurEem9A9zbMJW8SQ" name="timeMs" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_86ZYoHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>0</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_86amwHurEem9A9zbMJW8SQ" name="scale" visibility="public" type="_8aUKYHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_86gGUHurEem9A9zbMJW8SQ" name="Mesh">
                <language>JAVA</language>
                <body>&#xD;
    this(position, new Quat(), new Vec3f(1), modelPath);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_86_OgHurEem9A9zbMJW8SQ" name="quad" specification="_8635wHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    return new Mesh(position, rotation, scale, new Model[] { Model.loadQuad() }, new Material[] { material });&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8635wHurEem9A9zbMJW8SQ" name="quad" visibility="public" isStatic="true" method="_86_OgHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_864g0HurEem9A9zbMJW8SQ" type="_86TSAHurEem9A9zbMJW8SQ" direction="return"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_865H4HurEem9A9zbMJW8SQ" name="position" type="_8aUKYHurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_865u8HurEem9A9zbMJW8SQ" name="rotation" type="_728XkHurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_866WAHurEem9A9zbMJW8SQ" name="scale" type="_8aUKYHurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_868yQHurEem9A9zbMJW8SQ" name="material" type="_8CXkcHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_87haAHurEem9A9zbMJW8SQ" name="Plateform" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_87iBEHurEem9A9zbMJW8SQ" general="_85c9cHurEem9A9zbMJW8SQ"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_87ngoHurEem9A9zbMJW8SQ" name="Plateform" specification="_87ioIHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    super(position);&#xD;
    Collider coll = new Collider(this.parentPosition, extent);&#xD;
    coll.extent = extent;&#xD;
    coll.attachToParent(this, &quot;collider&quot;);&#xD;
    //TODO: passer sprite &amp; rgb&#xD;
    Sprite spr = new Sprite(position);&#xD;
    spr.size = new Vec2f(extent.x * 2, extent.y * 2);&#xD;
    spr.attachToParent(this, &quot;sprite&quot;);&#xD;
    StaticBody staticBody = new StaticBody(new ShapeBox(extent), position, rotation, CollisionFlags.LANDSCAPE);&#xD;
    StaticBodyContainer staticBodyC = new StaticBodyContainer(position, staticBody);&#xD;
    staticBodyC.attachToParent(this, &quot;static body&quot;);&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_87ioIHurEem9A9zbMJW8SQ" name="Plateform" visibility="public" method="_87ngoHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_87lEYHurEem9A9zbMJW8SQ" name="position" type="_8dpyQHurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_87lrcHurEem9A9zbMJW8SQ" name="extent" type="_8dpyQHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_87rLAHurEem9A9zbMJW8SQ" name="CircleBullet" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_87sZIHurEem9A9zbMJW8SQ" general="_87ryEHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_87tAMHurEem9A9zbMJW8SQ" name="sens" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_87u1YHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>true</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_87vccHurEem9A9zbMJW8SQ" name="movementTime" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_87wqkHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>0</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_87xRoHurEem9A9zbMJW8SQ" name="sndImpact" visibility="private" isStatic="true" type="_74eBkHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_87yfwHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new SoundSourceMulti(&quot;data/sound/slap.ogg&quot;, 10, .8f, 1.2f, true)</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_875NcHurEem9A9zbMJW8SQ" name="CircleBullet">
                <language>JAVA</language>
                <body>&#xD;
    this.parentPosition = Vec2f.add(position.clone(), this.vel);&#xD;
    this.vel = vel.clone();&#xD;
    movementTime += (Math.random() - 0.5) / 2;&#xD;
    this.damage = damage;&#xD;
    this.sens = sens;&#xD;
    collider = new Collider(this.getWorldPos(), new Vec2f(.5, .5));&#xD;
    collider.attachToParent(this, &quot;collider&quot;);&#xD;
    sndImpact.setVolume(.15f);&#xD;
    Sprite bul = new Sprite(getWorldPos(), &quot;data/sprites/Ion_Bullet.png&quot;);&#xD;
    bul.size = new Vec2f(bul.getTexture().getWidth() * .02, bul.getTexture().getHeight() * .02);&#xD;
    bul.rotation = rotation;&#xD;
    bul.attachToParent(this, &quot;bul_Sprite&quot;);&#xD;
    bul.getTexture().setFilter(false);&#xD;
    bul.useTransparency = true;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_877psHurEem9A9zbMJW8SQ" name="step" specification="_876bkHurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    movementTime += (sens ? d : -d);&#xD;
    double sin = Math.sin(movementTime * 40);&#xD;
    double cos = Math.cos(movementTime * 40);&#xD;
    collider.localPosition.x = (float) (-.2 + cos * .5);&#xD;
    collider.localPosition.y = (float) (-.2 + sin * .5);&#xD;
    Sprite sprite = ((Sprite) getChildren().get(&quot;bul_Sprite&quot;));&#xD;
    sprite.localPosition.x = (float) (-.2 + cos * .5);&#xD;
    sprite.localPosition.y = (float) (-.2 + sin * .5);&#xD;
    if (Math.abs(getWorldPos().x) > 10000 || Math.abs(getWorldPos().y) > 10000) {&#xD;
        detach();&#xD;
    }&#xD;
    LinkedList&lt;Entity> siblings = new LinkedList&lt;>();&#xD;
    siblings.addAll(siblings().values());&#xD;
    boolean destroyed = false;&#xD;
    for (Entity bump : siblings) {&#xD;
        if (bump instanceof Plateform) {&#xD;
            for (Entity coll : ((Plateform) bump).getChildren().values()) {&#xD;
                if (coll instanceof Collider) {&#xD;
                    Collider c = (Collider) coll;&#xD;
                    if (c.isColliding(collider)) {&#xD;
                        sndImpact.play(getWorldPos());&#xD;
                        detach();&#xD;
                        destroyed = true;&#xD;
                        break;&#xD;
                    }&#xD;
                }&#xD;
            }&#xD;
        }&#xD;
        if (bump instanceof Character &amp;&amp; !isShooter(((Character) bump))) {&#xD;
            for (Entity coll : ((Character) bump).getChildren().values()) {&#xD;
                if (coll instanceof Collider) {&#xD;
                    Collider c = (Collider) coll;&#xD;
                    if (c.isColliding(collider)) {&#xD;
                        sndImpact.play(getWorldPos());&#xD;
                        ((Character) bump).takeDamage(damage, vel.x > 0);&#xD;
                        detach();&#xD;
                        destroyed = true;&#xD;
                        break;&#xD;
                    }&#xD;
                }&#xD;
            }&#xD;
        }&#xD;
        if (destroyed)&#xD;
            break;&#xD;
    }&#xD;
    parentPosition.add(Vec2f.multiply(vel, (float) d));&#xD;
    ((Spatial) getChildren().get(&quot;bul_Sprite&quot;)).parentPosition = getWorldPos();&#xD;
    ((Spatial) getChildren().get(&quot;collider&quot;)).parentPosition = getWorldPos();&#xD;
    ((Spatial) getChildren().get(&quot;bul_Sprite&quot;)).rotation = rotation;&#xD;
    super.step(d);&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_876bkHurEem9A9zbMJW8SQ" name="step" visibility="public" method="_877psHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_877CoHurEem9A9zbMJW8SQ" name="d">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_87ryEHurEem9A9zbMJW8SQ" name="Projectile" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_89B14HurEem9A9zbMJW8SQ" general="_85c9cHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_89DEAHurEem9A9zbMJW8SQ" name="shooter" visibility="public" type="_84vLwHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_89ESIHurEem9A9zbMJW8SQ" name="disp" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_89ESIXurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>false</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_89ESInurEem9A9zbMJW8SQ" name="vel" visibility="private" type="_8dpyQHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_89FgQHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new Vec2f()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_89GHUHurEem9A9zbMJW8SQ" name="collider" visibility="private" type="_8keL8HurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_89GuYHurEem9A9zbMJW8SQ" name="damage" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_89JxsHurEem9A9zbMJW8SQ" name="Projectile">
                <language>JAVA</language>
                <body>&#xD;
    super();&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_89K_0HurEem9A9zbMJW8SQ" name="isShooter" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_89Lm4HurEem9A9zbMJW8SQ" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                </ownedParameter>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_89M1AHurEem9A9zbMJW8SQ" name="dude" type="_84vLwHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_87-tAHurEem9A9zbMJW8SQ" name="StaticBodyContainer" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_87_UEHurEem9A9zbMJW8SQ" general="_85c9cHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_87_7IHurEem9A9zbMJW8SQ" name="body" visibility="private" type="_8p9I4HurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_88AiMHurEem9A9zbMJW8SQ" name="needsPhysWorld" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_88BwUHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>true</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_88Go0HurEem9A9zbMJW8SQ" name="StaticBodyContainer">
                <language>JAVA</language>
                <body>&#xD;
    super(position);&#xD;
    this.body = body;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_88LhUHurEem9A9zbMJW8SQ" name="StaticBodyContainer">
                <language>JAVA</language>
                <body>&#xD;
    this(position, new StaticBody(new ShapeBox(extent), position, rotation, CollisionFlags.LANDSCAPE));&#xD;
</body>
              </ownedBehavior>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_88UrQHurEem9A9zbMJW8SQ" name="AnimationTester" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_88VSUHurEem9A9zbMJW8SQ" general="_85c9cHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_88WgcHurEem9A9zbMJW8SQ" name="anim" visibility="private" type="_7ugNQHurEem9A9zbMJW8SQ" isUnique="false"/>
              <interfaceRealization xmi:type="uml:InterfaceRealization" xmi:id="_88V5YHurEem9A9zbMJW8SQ" name="AnimationTester implements IAnimated" client="_88UrQHurEem9A9zbMJW8SQ" supplier="_7udxAHurEem9A9zbMJW8SQ" contract="_7udxAHurEem9A9zbMJW8SQ"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_88XukHurEem9A9zbMJW8SQ" name="AnimationTester" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_88ZjwHurEem9A9zbMJW8SQ" name="position" type="_8dpyQHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_88dOIHurEem9A9zbMJW8SQ" name="setAnim" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_88d1MHurEem9A9zbMJW8SQ" name="anim" type="_7ugNQHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_88fqYHurEem9A9zbMJW8SQ" name="playAnim" visibility="public"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_88hfkHurEem9A9zbMJW8SQ" name="stopAnim" visibility="public"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_88itsHurEem9A9zbMJW8SQ" name="animJumpToEnd" visibility="public"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_88r3oHurEem9A9zbMJW8SQ" name="KinematicBodyContainer" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_88sesHurEem9A9zbMJW8SQ" general="_85c9cHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_88ts0HurEem9A9zbMJW8SQ" name="body" visibility="private" type="_8pgc8HurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_88uT4HurEem9A9zbMJW8SQ" name="needsPhysWorld" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_88viAHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>true</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_88zzcHurEem9A9zbMJW8SQ" name="KinematicBodyContainer">
                <language>JAVA</language>
                <body>&#xD;
    super(position);&#xD;
    this.body = body;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_886hIHurEem9A9zbMJW8SQ" name="setLinearVelocity" specification="_884r8HurEem9A9zbMJW8SQ">
                <language>JAVA</language>
                <body>&#xD;
    body.setLinearVelocity(newVelocity);&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_884r8HurEem9A9zbMJW8SQ" name="setLinearVelocity" visibility="public" method="_886hIHurEem9A9zbMJW8SQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8856EHurEem9A9zbMJW8SQ" name="newVelocity" type="_8dpyQHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8-WEgHurEem9A9zbMJW8SQ" name="LoadingFloor" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_8-WEgXurEem9A9zbMJW8SQ" general="_85c9cHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-WrkHurEem9A9zbMJW8SQ" name="tex" visibility="private" isLeaf="true" isStatic="true" type="_7vwKcHurEem9A9zbMJW8SQ" isUnique="false">
                <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_8-WrkXurEem9A9zbMJW8SQ"/>
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_8-WrknurEem9A9zbMJW8SQ" value="*"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-Wrk3urEem9A9zbMJW8SQ" name="material" visibility="private" isLeaf="true" isStatic="true" type="_8CXkcHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-WrlHurEem9A9zbMJW8SQ" name="model" visibility="private" isLeaf="true" isStatic="true" type="_8AmC0HurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-XSoHurEem9A9zbMJW8SQ" name="size" visibility="private" isLeaf="true" isStatic="true" type="_8dpyQHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8-XSoXurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new Vec2f(1.28, 2.56)</body>
                </defaultValue>
              </ownedAttribute>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8-eAUHurEem9A9zbMJW8SQ" name="Bullet" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_8-enYHurEem9A9zbMJW8SQ" general="_87ryEHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-enYXurEem9A9zbMJW8SQ" name="sndImpact" visibility="private" isStatic="true" type="_74eBkHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8-enYnurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new SoundSourceMulti(&quot;data/sound/Ptou.ogg&quot;, 10, .8f, 1.2f, true)</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8-f1g3urEem9A9zbMJW8SQ" name="Bullet">
                <language>JAVA</language>
                <body>&#xD;
    this.parentPosition = Vec2f.add(position.clone(), this.vel);&#xD;
    this.vel = vel.clone();&#xD;
    this.damage = damage;&#xD;
    rotation = vel.angle();&#xD;
    collider = new Collider(this.getWorldPos(), new Vec2f(.5, .5));&#xD;
    collider.attachToParent(this, &quot;collider&quot;);&#xD;
    Sprite bul = new Sprite(getWorldPos(), &quot;data/sprites/Bullet.png&quot;);&#xD;
    bul.size = new Vec2f(bul.getTexture().getWidth() * .018, bul.getTexture().getHeight() * .018);&#xD;
    bul.rotation = rotation;&#xD;
    bul.attachToParent(this, &quot;bul_Sprite&quot;);&#xD;
    sndImpact.setVolume(.15f);&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8-gckHurEem9A9zbMJW8SQ" name="step" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8-gckXurEem9A9zbMJW8SQ" name="d">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8-zXgHurEem9A9zbMJW8SQ" name="CharacterSprite" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_8-zXgXurEem9A9zbMJW8SQ" general="_85c9cHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-z-kHurEem9A9zbMJW8SQ" name="folder" visibility="private" type="_tbdQUHupEemZOa7va52DCQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-z-kXurEem9A9zbMJW8SQ" name="body" visibility="private" type="_7wX1gHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-z-knurEem9A9zbMJW8SQ" name="head" visibility="private" type="_7wX1gHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-z-k3urEem9A9zbMJW8SQ" name="footL" visibility="private" type="_7wX1gHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-z-lHurEem9A9zbMJW8SQ" name="footR" visibility="private" type="_7wX1gHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-z-lXurEem9A9zbMJW8SQ" name="handL" visibility="private" type="_7wX1gHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-z-lnurEem9A9zbMJW8SQ" name="handR" visibility="private" type="_7wX1gHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-0loHurEem9A9zbMJW8SQ" name="sndStep" visibility="private" isStatic="true" type="_74eBkHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-0loXurEem9A9zbMJW8SQ" name="sndPunch" visibility="private" isStatic="true" type="_74eBkHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-0lonurEem9A9zbMJW8SQ" name="lookAngle" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8-0lo3urEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>0</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-0lpHurEem9A9zbMJW8SQ" name="moveSpeed" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8-1MsHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>0</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-1MsXurEem9A9zbMJW8SQ" name="wasOnGround" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8-1MsnurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>false</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-1Ms3urEem9A9zbMJW8SQ" name="isOnGround" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8-1MtHurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>false</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-1MtXurEem9A9zbMJW8SQ" name="lookRight" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8-1MtnurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>true</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-1zwHurEem9A9zbMJW8SQ" name="handLOnWeap" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8-1zwXurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>false</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-1zwnurEem9A9zbMJW8SQ" name="handROnWeap" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8-1zw3urEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>false</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-2a0HurEem9A9zbMJW8SQ" name="stepTimer" visibility="private" type="_82lPoHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8-2a0XurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new Timer(.25)</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-2a0nurEem9A9zbMJW8SQ" name="time" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8-2a03urEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>Math.random() * Math.PI</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8-2a1HurEem9A9zbMJW8SQ" name="movementTime" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_8-2a1XurEem9A9zbMJW8SQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>0</body>
                </defaultValue>
              </ownedAttribute>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8-3B4HurEem9A9zbMJW8SQ" name="CharacterSprite" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8-3o8XurEem9A9zbMJW8SQ" name="position" type="_8dpyQHurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8-4QAHurEem9A9zbMJW8SQ" name="charInfo" type="_81-LoHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8-4QAnurEem9A9zbMJW8SQ" name="punch" visibility="public"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8-43EHurEem9A9zbMJW8SQ" name="setLookRight" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_8-43EXurEem9A9zbMJW8SQ" name="lookRight">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_8-43E3urEem9A9zbMJW8SQ" name="land" visibility="private"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8-9IgHurEem9A9zbMJW8SQ" name="Tuple" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8_U78HurEem9A9zbMJW8SQ" name="x" visibility="public" isLeaf="true" type="_8_TGwHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8_XYMHurEem9A9zbMJW8SQ" name="y" visibility="public" isLeaf="true" type="_8_U78XurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8_Z0cXurEem9A9zbMJW8SQ" name="Tuple">
                <language>JAVA</language>
                <body>&#xD;
    this.x = x;&#xD;
    this.y = y;&#xD;
</body>
              </ownedBehavior>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8_LK8HurEem9A9zbMJW8SQ" name="SoundEffect" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_8_LK8XurEem9A9zbMJW8SQ" general="_85c9cHurEem9A9zbMJW8SQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_8_LyAHurEem9A9zbMJW8SQ" name="sound" visibility="private" type="_70ReEHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8_NnMnurEem9A9zbMJW8SQ" name="SoundEffect">
                <language>JAVA</language>
                <body>&#xD;
    this(position, path, maxPlays, 1, 1);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_8_QDcXurEem9A9zbMJW8SQ" name="SoundEffect">
                <language>JAVA</language>
                <body>&#xD;
    super(position);&#xD;
    if (maxPlays &lt; 0)&#xD;
        sound = new SoundSourceSingle(path, pitchMin, pitchMax, true, true);&#xD;
    else if (maxPlays == 0) {&#xD;
        System.err.println(&quot;Audio - Invalid maxPlays value (0), defaulting to 1 (for +&quot; + path + &quot;)&quot;);&#xD;
        sound = new SoundSourceSingle(path, pitchMin, pitchMax, true, false);&#xD;
    } else if (maxPlays == 1)&#xD;
        sound = new SoundSourceSingle(path, pitchMin, pitchMax, true, false);&#xD;
    else&#xD;
        sound = new SoundSourceMulti(path, maxPlays, pitchMin, pitchMax, true);&#xD;
    if (sound instanceof SoundSourceMulti)&#xD;
        ((SoundSourceMulti) sound).setPositions(this.parentPosition);&#xD;
    else if (sound instanceof SoundSourceSingle)&#xD;
        ((SoundSourceSingle) sound).setPosition(this.parentPosition);&#xD;
</body>
              </ownedBehavior>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_8_TGwHurEem9A9zbMJW8SQ" name="X"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_8_U78XurEem9A9zbMJW8SQ" name="Y"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_817IUHurEem9A9zbMJW8SQ" name="Controller" visibility="public" isAbstract="true">
            <ownedAttribute xmi:type="uml:Property" xmi:id="_818WcHurEem9A9zbMJW8SQ" name="device" visibility="private" type="_8MKZoHurEem9A9zbMJW8SQ" isUnique="false"/>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_81-ysHurEem9A9zbMJW8SQ" name="info" visibility="public" type="_81-LoHurEem9A9zbMJW8SQ" isUnique="false"/>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_81_ZwHurEem9A9zbMJW8SQ" name="character" visibility="private" type="_tdPZAXupEemZOa7va52DCQ" isUnique="false"/>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_82AA0HurEem9A9zbMJW8SQ" name="team" visibility="public" isUnique="false">
              <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_82BO8HurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>1</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_82B2AHurEem9A9zbMJW8SQ" name="deadChar" visibility="private" isUnique="false">
              <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_82CdEHurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>false</body>
              </defaultValue>
            </ownedAttribute>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_82ESQHurEem9A9zbMJW8SQ" name="hasDeadChar" specification="_82DEIHurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    return deadChar;&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_82IjsHurEem9A9zbMJW8SQ" name="Controller" specification="_82FgYHurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    this.device = device;&#xD;
    info = new CharacterInfo(CharacterClass.Agile);&#xD;
    Main.log.info(&quot;Added controller for: &quot; + Input.getDeviceInfo(device));&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_82MOEHurEem9A9zbMJW8SQ" name="createNewCharacter" specification="_82Jx0HurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    if (character != null)&#xD;
        character.death();&#xD;
    character = info.createNewCharacter(spawn);&#xD;
    character.controller = this;&#xD;
    game.registerCharacter(character);&#xD;
    deadChar = false;&#xD;
    return character;&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_82OqUHurEem9A9zbMJW8SQ" name="getCharacter" specification="_82NcMHurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    return character;&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_82QfgHurEem9A9zbMJW8SQ" name="death" specification="_82P4cHurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    deadChar = true;&#xD;
    if (GameMaster.current instanceof Game) {&#xD;
        ((Game) GameMaster.current).characterDeath(this, character);&#xD;
    }&#xD;
    character.controller = null;&#xD;
    character = null;&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_82S7wHurEem9A9zbMJW8SQ" name="step" specification="_82RtoHurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    if (character != null) {&#xD;
        if (!character.isDead()) {&#xD;
            character.movementInput = Input.getAxis(device, Axis.MOVE_X);&#xD;
            if (device == Device.KEYBOARD) {&#xD;
                Vec2f charPos = Vec2f.worldToScreen(character.getWorldPos());&#xD;
                charPos.y *= -1;&#xD;
                Vec2f mouseCentered = Vec2f.add(Input.mousePos, new Vec2f(-Window.getWidth() / 2, -Window.getHeight() / 2));&#xD;
                character.aimInput = Vec2f.subtract(mouseCentered, charPos).angle();&#xD;
                character.isAiming = true;&#xD;
            } else {&#xD;
                character.aimInput = new Vec2f(Input.getAxis(device, Axis.AIM_X), Input.getAxis(device, Axis.AIM_Y)).angle();&#xD;
                character.isAiming = isAiming();&#xD;
            }&#xD;
            if (Input.actionJustPressed(device, Action.JUMP))&#xD;
                character.jump();&#xD;
            else if (Input.actionPressed(device, Action.JUMP)) {&#xD;
                character.planer();&#xD;
            } else if (character.jumpi) {&#xD;
                character.jumpStop();&#xD;
            }&#xD;
            if (Input.actionJustPressed(device, Action.ATTACK))&#xD;
                character.attackStart();&#xD;
            else if (Input.actionJustReleased(device, Action.ATTACK))&#xD;
                character.attackStop();&#xD;
            if (Input.actionJustPressed(device, Action.GET_ITEM))&#xD;
                character.getItem();&#xD;
            if (Input.actionJustPressed(device, Action.DROP_ITEM))&#xD;
                character.dropItem();&#xD;
        } else&#xD;
            character.movementInput = 0;&#xD;
    }&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_82Uw8HurEem9A9zbMJW8SQ" name="isAiming" specification="_82Ti0HurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    return Math.abs(Input.getAxis(device, Axis.AIM_X)) > 0.3f || Math.abs(Input.getAxis(device, Axis.AIM_Y)) > 0.3f;&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_82WmIXurEem9A9zbMJW8SQ" name="getDevice" specification="_82V_EHurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    return device;&#xD;
</body>
            </ownedBehavior>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_82DEIHurEem9A9zbMJW8SQ" name="hasDeadChar" visibility="public" method="_82ESQHurEem9A9zbMJW8SQ">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_82DrMHurEem9A9zbMJW8SQ" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_82FgYHurEem9A9zbMJW8SQ" name="Controller" visibility="public" method="_82IjsHurEem9A9zbMJW8SQ">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_82H8oHurEem9A9zbMJW8SQ" name="device" type="_8MKZoHurEem9A9zbMJW8SQ"/>
            </ownedOperation>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_82Jx0HurEem9A9zbMJW8SQ" name="createNewCharacter" visibility="public" method="_82MOEHurEem9A9zbMJW8SQ">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_82KY4HurEem9A9zbMJW8SQ" type="_tdPZAXupEemZOa7va52DCQ" direction="return"/>
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_82K_8HurEem9A9zbMJW8SQ" name="game" type="_ThE8gHuqEemZOa7va52DCQ"/>
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_82LnAHurEem9A9zbMJW8SQ" name="spawn" type="_8dpyQHurEem9A9zbMJW8SQ"/>
            </ownedOperation>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_82NcMHurEem9A9zbMJW8SQ" name="getCharacter" visibility="public" method="_82OqUHurEem9A9zbMJW8SQ">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_82ODQHurEem9A9zbMJW8SQ" type="_tdPZAXupEemZOa7va52DCQ" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_82P4cHurEem9A9zbMJW8SQ" name="death" visibility="public" method="_82QfgHurEem9A9zbMJW8SQ"/>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_82RtoHurEem9A9zbMJW8SQ" name="step" visibility="public" method="_82S7wHurEem9A9zbMJW8SQ">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_82SUsHurEem9A9zbMJW8SQ" name="d">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_82Ti0HurEem9A9zbMJW8SQ" name="isAiming" visibility="private" method="_82Uw8HurEem9A9zbMJW8SQ">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_82UJ4HurEem9A9zbMJW8SQ" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_82V_EHurEem9A9zbMJW8SQ" name="getDevice" visibility="public" method="_82WmIXurEem9A9zbMJW8SQ">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_82WmIHurEem9A9zbMJW8SQ" type="_8MKZoHurEem9A9zbMJW8SQ" direction="return"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_82a3kHurEem9A9zbMJW8SQ" name="Map" visibility="public" isAbstract="true">
            <generalization xmi:type="uml:Generalization" xmi:id="_82beoXurEem9A9zbMJW8SQ" general="_82beoHurEem9A9zbMJW8SQ"/>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_82cswHurEem9A9zbMJW8SQ" name="spawn" visibility="public" type="_8dpyQHurEem9A9zbMJW8SQ" isUnique="false">
              <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_82dT0HurEem9A9zbMJW8SQ"/>
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_82dT0XurEem9A9zbMJW8SQ" value="*"/>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_82d64HurEem9A9zbMJW8SQ" name="gravity" visibility="public" type="_8dpyQHurEem9A9zbMJW8SQ" isUnique="false">
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_82fJAHurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>new Vec2f(0)</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_82fwEHurEem9A9zbMJW8SQ" name="physic" visibility="public" type="_8icLoHurEem9A9zbMJW8SQ" isUnique="false"/>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_82gXIHurEem9A9zbMJW8SQ" name="spawnch" visibility="public" type="_8dpyQHurEem9A9zbMJW8SQ" isUnique="false">
              <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_82g-MHurEem9A9zbMJW8SQ"/>
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_82hlQHurEem9A9zbMJW8SQ" value="*"/>
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_82hlQXurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>new ArrayList&lt;>()</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_82izYHurEem9A9zbMJW8SQ" name="items" visibility="public" type="_teCqQHupEemZOa7va52DCQ" isUnique="false">
              <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_82jacHurEem9A9zbMJW8SQ"/>
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_82jacXurEem9A9zbMJW8SQ" value="*"/>
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_82kBgHurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>new ArrayList&lt;>()</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_82kokHurEem9A9zbMJW8SQ" name="cameraBounds" visibility="public" type="_8hOqsHurEem9A9zbMJW8SQ" isUnique="false"/>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_82l2sHurEem9A9zbMJW8SQ" name="spawnWeapon" visibility="private" type="_82lPoHurEem9A9zbMJW8SQ" isUnique="false">
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_82mdwHurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>new Timer(4)</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_khfUMHyUEemsjr4EcXr-sw" name="spawnperso" type="_8dpyQHurEem9A9zbMJW8SQ"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_82w10HurEem9A9zbMJW8SQ" name="GetRandomRespawnch2" specification="_82vnsHurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    Vec2f randi = new Vec2f();&#xD;
    try {&#xD;
        //new Random();&#xD;
        //System.out.println(&quot; spawn size &quot;+ spawn.size());&#xD;
        int rand = ThreadLocalRandom.current().nextInt(0, spawn.size());&#xD;
        //System.out.println(rand);&#xD;
        randi = spawn.get(rand);&#xD;
        int max = 100;&#xD;
        int etapes = 0;&#xD;
        while (spawnch.contains(randi) &amp;&amp; etapes &lt; max) {&#xD;
            rand = ThreadLocalRandom.current().nextInt(spawn.size());&#xD;
            randi = spawn.get(rand);&#xD;
            //System.out.println(&quot;Vec2f x:&quot;+randi.x+&quot; y:&quot;+randi.y);&#xD;
            etapes++;&#xD;
        }&#xD;
    } catch (Exception e) {&#xD;
        System.out.println(&quot;fail spawn : &quot; + e);&#xD;
    }&#xD;
    spawnch.add(randi);&#xD;
    return randi;&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_82yD8HurEem9A9zbMJW8SQ" name="createTestEntities" specification="_82xc4HurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    // Rigid body 1&#xD;
    Vec2f position = new Vec2f(9.6, -7);&#xD;
    RigidBody body = new RigidBody(new ShapeBox(new Vec2f(.5, .5)), position, .5, CollisionFlags.RIGIDBODY, 1, .3f);&#xD;
    RigidBodyContainer rb = new RigidBodyContainer(position, body);&#xD;
    rb.attachToParent(this, &quot;Rigid Body test&quot;);&#xD;
    Mesh rbMesh = new Mesh(new Vec3f(), new Quat(), &quot;data/meshes/crate/crate_01.obj&quot;);&#xD;
    rbMesh.rotationFromParent = true;&#xD;
    rbMesh.attachToParent(rb, &quot;mesh&quot;);&#xD;
    // Rigid body 2&#xD;
    position = new Vec2f(-7, 0);&#xD;
    body = new RigidBody(new ShapeDisk(.5), position, 0, CollisionFlags.RIGIDBODY, 1, .3f);&#xD;
    rb = new RigidBodyContainer(position, body);&#xD;
    Sprite rbSprite = new Sprite(new Vec2f(), &quot;data/sprites/UnMoineHD.png&quot;);&#xD;
    rbSprite.size = new Vec2f(1, 1);&#xD;
    rb.attachToParent(this, &quot;Rigid Body test 2&quot;);&#xD;
    rbSprite.rotationFromParent = true;&#xD;
    rbSprite.attachToParent(rb, &quot;Sprite&quot;);&#xD;
    // Rigid body 3&#xD;
    position = new Vec2f(-7.5, -1);&#xD;
    body = new RigidBody(new ShapeDisk(1), position, 0, CollisionFlags.RIGIDBODY, 1, .3f);&#xD;
    rb = new RigidBodyContainer(position, body);&#xD;
    rbSprite = new Sprite(new Vec2f(), &quot;data/sprites/UnMoineHD.png&quot;);&#xD;
    rbSprite.size = new Vec2f(2, 2);&#xD;
    rb.attachToParent(this, &quot;Rigid Body test 3&quot;);&#xD;
    rbSprite.rotationFromParent = true;&#xD;
    rbSprite.attachToParent(rb, &quot;Sprite&quot;);&#xD;
    // Rigid body 4&#xD;
    position = new Vec2f(10, -9);&#xD;
    body = new RigidBody(new ShapeBox(new Vec2f(1, .5)), position, -.5, CollisionFlags.RIGIDBODY, 1, .3f);&#xD;
    rb = new RigidBodyContainer(position, body);&#xD;
    rb.attachToParent(this, &quot;Rigid Body test 4&quot;);&#xD;
    rbMesh = new Mesh(new Vec3f(), new Quat(), &quot;data/meshes/crate/crate_01.obj&quot;);&#xD;
    rbMesh.rotationFromParent = true;&#xD;
    rbMesh.scale.x = 2;&#xD;
    rbMesh.attachToParent(rb, &quot;mesh&quot;);&#xD;
    // Rigid body 5&#xD;
    position = new Vec2f(10, -12);&#xD;
    body = new RigidBody(new ShapeBox(new Vec2f(1, .5)), position, 0.1, CollisionFlags.RIGIDBODY, 1, .3f);&#xD;
    rb = new RigidBodyContainer(position, body);&#xD;
    rb.attachToParent(this, &quot;Rigid Body test 5&quot;);&#xD;
    rbMesh = new Mesh(new Vec3f(), new Quat(), &quot;data/meshes/crate/crate_01.obj&quot;);&#xD;
    rbMesh.rotationFromParent = true;&#xD;
    rbMesh.scale.x = 2;&#xD;
    rbMesh.attachToParent(rb, &quot;mesh&quot;);&#xD;
    // Moult caisses&#xD;
    for (int i = 0; i &lt; 32; i++) {&#xD;
        position = new Vec2f(5, -i * 1.1);&#xD;
        body = new RigidBody(new ShapeBox(new Vec2f(1, .5)), position, 0, CollisionFlags.RIGIDBODY, 1, .3f);&#xD;
        rb = new RigidBodyContainer(position, body);&#xD;
        rb.attachToParent(this, &quot;Rigid body crate &quot; + i);&#xD;
        rbMesh = new Mesh(new Vec3f(), new Quat(), &quot;data/meshes/crate/crate_01.obj&quot;);&#xD;
        rbMesh.rotationFromParent = true;&#xD;
        rbMesh.scale.x = 2;&#xD;
        rbMesh.attachToParent(rb, &quot;mesh&quot;);&#xD;
    }&#xD;
    AnimationTester animTester = new AnimationTester(new Vec2f(-15, 0));&#xD;
    animTester.attachToParent(this, &quot;anim tester 1&quot;);&#xD;
</body>
            </ownedBehavior>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_82vnsHurEem9A9zbMJW8SQ" name="GetRandomRespawnch2" visibility="public" method="_82w10HurEem9A9zbMJW8SQ">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_82wOwHurEem9A9zbMJW8SQ" type="_8dpyQHurEem9A9zbMJW8SQ" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_82xc4HurEem9A9zbMJW8SQ" name="createTestEntities" visibility="private" method="_82yD8HurEem9A9zbMJW8SQ"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_82beoHurEem9A9zbMJW8SQ" name="Entity" visibility="public" isAbstract="true">
            <ownedAttribute xmi:type="uml:Property" xmi:id="_823jgHurEem9A9zbMJW8SQ" name="name" visibility="private" type="_tbdQUHupEemZOa7va52DCQ" isUnique="false">
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_824KkHurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>&quot;&quot;</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_825YsHurEem9A9zbMJW8SQ" name="children" visibility="private" type="_tebr0HupEemZOa7va52DCQ" isUnique="false">
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_826m0HurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>new HashMap&lt;String, Entity>()</body>
              </defaultValue>
            </ownedAttribute>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_JPcdMHvBEemtSbXqvSvPoQ" name="step"/>
            <ownedReception xmi:type="uml:Reception" xmi:id="_V66acHyWEemsjr4EcXr-sw" name="attach"/>
            <ownedReception xmi:type="uml:Reception" xmi:id="_YW4toHyWEemsjr4EcXr-sw" name="detach"/>
            <ownedReception xmi:type="uml:Reception" xmi:id="_a8v8oHyWEemsjr4EcXr-sw" name="step"/>
            <ownedReception xmi:type="uml:Reception" xmi:id="_dJVI8HyWEemsjr4EcXr-sw" name="draw"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_82lPoHurEem9A9zbMJW8SQ" name="Timer" visibility="public" isAbstract="true">
            <generalization xmi:type="uml:Generalization" xmi:id="_83dZYHurEem9A9zbMJW8SQ" general="_82beoHurEem9A9zbMJW8SQ"/>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_83eAcHurEem9A9zbMJW8SQ" name="max" visibility="private" isUnique="false">
              <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_83fOkHurEem9A9zbMJW8SQ" name="current" visibility="private" isUnique="false">
              <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_83f1oHurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>0</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_83hDwHurEem9A9zbMJW8SQ" name="over" visibility="private" isUnique="false">
              <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_83hq0HurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>false</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_83iR4HurEem9A9zbMJW8SQ" name="inProcess" visibility="public" isUnique="false">
              <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_83jgAHurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>true</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_83kHEHurEem9A9zbMJW8SQ" name="increasing" visibility="private" isUnique="false">
              <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_83lVMHurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>true</body>
              </defaultValue>
            </ownedAttribute>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_83nKYHurEem9A9zbMJW8SQ" name="current" specification="_83l8QHurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    return current;&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_83sp8HurEem9A9zbMJW8SQ" name="Timer">
              <language>JAVA</language>
              <body>&#xD;
    max = timer;&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_83t4EHurEem9A9zbMJW8SQ" name="getValueRatio">
              <language>JAVA</language>
              <body>&#xD;
    return current / max;&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_83vtQHurEem9A9zbMJW8SQ" name="getValue">
              <language>JAVA</language>
              <body>&#xD;
    return current;&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_83xicHurEem9A9zbMJW8SQ" name="setValue">
              <language>JAVA</language>
              <body>&#xD;
    current = newValue;&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_83zXoHurEem9A9zbMJW8SQ" name="isOver" specification="_83ywkHurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    return over;&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_831M0HurEem9A9zbMJW8SQ" name="restart" specification="_830lwHurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    over = false;&#xD;
    current = 0;&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_832a8HurEem9A9zbMJW8SQ" name="stop" specification="_831z4HurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    inProcess = false;&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_834QIHurEem9A9zbMJW8SQ" name="reset" specification="_833CAHurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    restart();&#xD;
    inProcess = false;&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_837TcHurEem9A9zbMJW8SQ" name="isProcessing" specification="_835eQHurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    return inProcess;&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_839vsHurEem9A9zbMJW8SQ" name="setProcessing">
              <language>JAVA</language>
              <body>&#xD;
    inProcess = process;&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_84AzAHurEem9A9zbMJW8SQ" name="isIncreasing" specification="_83_k4HurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    return increasing;&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_84CoMHurEem9A9zbMJW8SQ" name="setIncreasing" specification="_84BaEHurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    this.increasing = increasing;&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_84FEcHurEem9A9zbMJW8SQ" name="setMax">
              <language>JAVA</language>
              <body>&#xD;
    this.max = max;&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_84G5oHurEem9A9zbMJW8SQ" name="getMax">
              <language>JAVA</language>
              <body>&#xD;
    return max;&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_84JV4HurEem9A9zbMJW8SQ" name="step">
              <language>JAVA</language>
              <body>&#xD;
    if (inProcess) {&#xD;
        if (increasing) {&#xD;
            current = Math.min(max, current + d);&#xD;
        } else {&#xD;
            current = Math.max(0, current - d);&#xD;
        }&#xD;
    }&#xD;
    over = (current >= max);&#xD;
    super.step(d);&#xD;
</body>
            </ownedBehavior>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_83l8QHurEem9A9zbMJW8SQ" name="current" visibility="public" method="_83nKYHurEem9A9zbMJW8SQ">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_83mjUHurEem9A9zbMJW8SQ" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_83ywkHurEem9A9zbMJW8SQ" name="isOver" visibility="public" method="_83zXoHurEem9A9zbMJW8SQ">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_83ywkXurEem9A9zbMJW8SQ" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_830lwHurEem9A9zbMJW8SQ" name="restart" visibility="public" method="_831M0HurEem9A9zbMJW8SQ"/>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_831z4HurEem9A9zbMJW8SQ" name="stop" visibility="public" method="_832a8HurEem9A9zbMJW8SQ"/>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_833CAHurEem9A9zbMJW8SQ" name="reset" visibility="public" method="_834QIHurEem9A9zbMJW8SQ"/>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_835eQHurEem9A9zbMJW8SQ" name="isProcessing" visibility="public" method="_837TcHurEem9A9zbMJW8SQ">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_836FUHurEem9A9zbMJW8SQ" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_83_k4HurEem9A9zbMJW8SQ" name="isIncreasing" visibility="public" method="_84AzAHurEem9A9zbMJW8SQ">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_84AL8HurEem9A9zbMJW8SQ" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_84BaEHurEem9A9zbMJW8SQ" name="setIncreasing" visibility="public" method="_84CoMHurEem9A9zbMJW8SQ">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_84CBIHurEem9A9zbMJW8SQ" name="increasing">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
              </ownedParameter>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_84de8HurEem9A9zbMJW8SQ" name="Music" visibility="public" isAbstract="true">
            <generalization xmi:type="uml:Generalization" xmi:id="_84eGAHurEem9A9zbMJW8SQ" general="_82beoHurEem9A9zbMJW8SQ"/>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_84etEHurEem9A9zbMJW8SQ" name="music" visibility="private" type="_70QP8HurEem9A9zbMJW8SQ" isUnique="false"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_84kzsHurEem9A9zbMJW8SQ" name="Music">
              <language>JAVA</language>
              <body>&#xD;
    music = new MusicSource(path, looping);&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_84n3AHurEem9A9zbMJW8SQ" name="play">
              <language>JAVA</language>
              <body>&#xD;
    music.play();&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_84pFIHurEem9A9zbMJW8SQ" name="pause">
              <language>JAVA</language>
              <body>&#xD;
    music.pause();&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_84qTQHurEem9A9zbMJW8SQ" name="stop">
              <language>JAVA</language>
              <body>&#xD;
    music.stop();&#xD;
</body>
            </ownedBehavior>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_84lawHurEem9A9zbMJW8SQ" name="setVolume" visibility="public">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_84mB0HurEem9A9zbMJW8SQ" name="volume">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7W3wkBydEduyofBvg4RL2w"/>
              </ownedParameter>
            </ownedOperation>
          </packagedElement>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_tdM8wHupEemZOa7va52DCQ" name="game">
          <packagedElement xmi:type="uml:Package" xmi:id="_3nip0HupEemZOa7va52DCQ" name="gameStates">
            <packagedElement xmi:type="uml:Package" xmi:id="_5fwIoHupEemZOa7va52DCQ" name="engineParam">
              <packagedElement xmi:type="uml:Class" xmi:id="_5gUwYHupEemZOa7va52DCQ" name="T"/>
              <packagedElement xmi:type="uml:Enumeration" xmi:id="_Bw_mEHuqEemZOa7va52DCQ" name="GameMode" visibility="public" isAbstract="true">
                <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_BxA0MHuqEemZOa7va52DCQ" name="Death_Match"/>
                <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_BxBbQHuqEemZOa7va52DCQ" name="Battle_Royal"/>
                <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_BxBbQXuqEemZOa7va52DCQ" name="King_Of_TheHill"/>
                <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_BxBbQnuqEemZOa7va52DCQ" name="Time"/>
                <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_BxBbQ3uqEemZOa7va52DCQ" name="Stock_Match"/>
                <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_BxBbRHuqEemZOa7va52DCQ" name="Capture_The_Flag"/>
                <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_BxBbRXuqEemZOa7va52DCQ" name="Rixe"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_BxDQcHuqEemZOa7va52DCQ" name="GameParam" visibility="public" isAbstract="true">
                <ownedAttribute xmi:type="uml:Property" xmi:id="_BxDQcnuqEemZOa7va52DCQ" name="gameMode" visibility="private" isStatic="true" type="_BxDQcXuqEemZOa7va52DCQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_BxD3gHuqEemZOa7va52DCQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>new ParamElement&lt;GameMode>(&quot;Game Mode&quot;, GameMode.values()) {&#xD;
&#xD;
    @Override&#xD;
    String getStringValue() {&#xD;
        return getValue().name();&#xD;
    }&#xD;
}</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_BxFssHuqEemZOa7va52DCQ" name="nbRound" visibility="private" isStatic="true" type="_BxDQcXuqEemZOa7va52DCQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_BxFssXuqEemZOa7va52DCQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>new ParamElement&lt;Integer>(&quot;Round(s)&quot;, 1, 2, 3, 4, 5) {&#xD;
&#xD;
    @Override&#xD;
    String getStringValue() {&#xD;
        return getValue().toString();&#xD;
    }&#xD;
}</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_BxG60HuqEemZOa7va52DCQ" name="team" visibility="private" isStatic="true" type="_BxDQcXuqEemZOa7va52DCQ" isUnique="false">
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_BxG60XuqEemZOa7va52DCQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>new ParamElement&lt;Boolean>(&quot;Team&quot;, true, false) {&#xD;
&#xD;
    @Override&#xD;
    String getStringValue() {&#xD;
        if (getValue()) {&#xD;
            return &quot;yes&quot;;&#xD;
        } else {&#xD;
            return &quot;no&quot;;&#xD;
        }&#xD;
    }&#xD;
}</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_BxD3gXuqEemZOa7va52DCQ" name="nextGameMode" visibility="public"/>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_BxEekXuqEemZOa7va52DCQ" name="previousGameMode" visibility="public"/>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_BxFFoXuqEemZOa7va52DCQ" name="getGameMode" visibility="public" isStatic="true">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_BxFFonuqEemZOa7va52DCQ" type="_Bw_mEHuqEemZOa7va52DCQ" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_BxFssnuqEemZOa7va52DCQ" name="nextRound" visibility="public"/>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_BxFstHuqEemZOa7va52DCQ" name="previousRound" visibility="public"/>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_BxG60nuqEemZOa7va52DCQ" name="nextTeam" visibility="public"/>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_BxG61HuqEemZOa7va52DCQ" name="previousTeam" visibility="public"/>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_BxHh4nuqEemZOa7va52DCQ" name="getTeam" visibility="public" isStatic="true">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_BxHh43uqEemZOa7va52DCQ" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                  </ownedParameter>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_BxDQcXuqEemZOa7va52DCQ" name="ParamElement" isAbstract="true">
                <ownedAttribute xmi:type="uml:Property" xmi:id="_BxIwAHuqEemZOa7va52DCQ" name="choices" visibility="private" type="_5gUwYHupEemZOa7va52DCQ" isUnique="false">
                  <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_BxIwAXuqEemZOa7va52DCQ"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_BxIwAnuqEemZOa7va52DCQ" value="*"/>
                </ownedAttribute>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_BxIwA3uqEemZOa7va52DCQ" name="title" visibility="private" type="_tbdQUHupEemZOa7va52DCQ" isUnique="false"/>
                <ownedAttribute xmi:type="uml:Property" xmi:id="_BxJXEHuqEemZOa7va52DCQ" name="index" visibility="private" isUnique="false">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                  <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_BxJXEXuqEemZOa7va52DCQ" name="defaultValue">
                    <language>JAVA</language>
                    <body>0</body>
                  </defaultValue>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_BxMaYHuqEemZOa7va52DCQ" name="ParamElement" specification="_BxJXEnuqEemZOa7va52DCQ">
                  <language>JAVA</language>
                  <body>&#xD;
    this.title = title;&#xD;
    this.choices = choices;&#xD;
</body>
                </ownedBehavior>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_BxJXEnuqEemZOa7va52DCQ" name="ParamElement" visibility="public" method="_BxMaYHuqEemZOa7va52DCQ">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_BxKlMHuqEemZOa7va52DCQ" name="title" type="_tbdQUHupEemZOa7va52DCQ"/>
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_BxKlMXuqEemZOa7va52DCQ" name="choices" type="_5gUwYHupEemZOa7va52DCQ"/>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_BxNBcHuqEemZOa7va52DCQ" name="getTitle" visibility="private">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_BxNBcXuqEemZOa7va52DCQ" type="_tbdQUHupEemZOa7va52DCQ" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_BxNogXuqEemZOa7va52DCQ" name="getValue" visibility="private">
                  <ownedParameter xmi:type="uml:Parameter" xmi:id="_BxNognuqEemZOa7va52DCQ" type="_5gUwYHupEemZOa7va52DCQ" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_BxNohHuqEemZOa7va52DCQ" name="next" visibility="private"/>
                <ownedOperation xmi:type="uml:Operation" xmi:id="_BxNohnuqEemZOa7va52DCQ" name="previous" visibility="private"/>
              </packagedElement>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_ThE8gHuqEemZOa7va52DCQ" name="Game" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_ThGKoXuqEemZOa7va52DCQ" general="_ThGKoHuqEemZOa7va52DCQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_ThGKonuqEemZOa7va52DCQ" name="nbPlayers" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_ThGKo3uqEemZOa7va52DCQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>GameMaster.gm.controllers.size()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_ThGxsHuqEemZOa7va52DCQ" name="players" visibility="private" type="_84vLwHurEem9A9zbMJW8SQ" isUnique="false">
                <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_ThGxsXuqEemZOa7va52DCQ"/>
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ThGxsnuqEemZOa7va52DCQ" value="*"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_ThHYwHuqEemZOa7va52DCQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new ArrayList&lt;>(nbPlayers)</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_ThHYwXuqEemZOa7va52DCQ" name="menu" visibility="private" type="_8rVo8HurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_ThH_0HuqEemZOa7va52DCQ" name="currentRound" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_ThH_0XuqEemZOa7va52DCQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>1</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_ThLDIHuqEemZOa7va52DCQ" name="gameMode" visibility="private" type="_Bw_mEHuqEemZOa7va52DCQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_ThLDIXuqEemZOa7va52DCQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>GameMode.Death_Match</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_ThLqMHuqEemZOa7va52DCQ" name="nbRounds" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_ThLqMXuqEemZOa7va52DCQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>1</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_ThLqMnuqEemZOa7va52DCQ" name="teams" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_ThLqM3uqEemZOa7va52DCQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>false</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_ThMRQHuqEemZOa7va52DCQ" name="team1" visibility="private" type="_3n2L0HupEemZOa7va52DCQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_ThMRQXuqEemZOa7va52DCQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new HashSet&lt;Controller>()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_ThMRQnuqEemZOa7va52DCQ" name="team2" visibility="private" type="_3n2L0HupEemZOa7va52DCQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_ThMRQ3uqEemZOa7va52DCQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new HashSet&lt;Controller>()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_ThM4UHuqEemZOa7va52DCQ" name="roundTimer" visibility="private" type="_82lPoHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_ThM4UXuqEemZOa7va52DCQ" name="oneLeft" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_ThM4UnuqEemZOa7va52DCQ" name="chooseWinner" visibility="public" type="_82lPoHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_ThNfYHuqEemZOa7va52DCQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new Timer(3.2)</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_ThNfYXuqEemZOa7va52DCQ" name="endGame" visibility="public" type="_82lPoHurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_ThNfYnuqEemZOa7va52DCQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new Timer(2)</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ThNfZHuqEemZOa7va52DCQ" name="evalOneLeft" specification="_ThNfY3uqEemZOa7va52DCQ">
                <language>JAVA</language>
                <body>&#xD;
    int aliveChars = 0;&#xD;
    for (Controller controller : GameMaster.gm.controllers) {&#xD;
        if (!controller.hasDeadChar())&#xD;
            aliveChars++;&#xD;
    }&#xD;
    if (aliveChars &lt;= 1)&#xD;
        oneLeft = true;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ThPUkHuqEemZOa7va52DCQ" name="Game" specification="_ThOGcHuqEemZOa7va52DCQ">
                <language>JAVA</language>
                <body>&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ThRJwHuqEemZOa7va52DCQ" name="init" specification="_ThQisHuqEemZOa7va52DCQ">
                <language>JAVA</language>
                <body>&#xD;
    endGame.reset();&#xD;
    chooseWinner.reset();&#xD;
    gameMode = GameParam.getGameMode();&#xD;
    nbRounds = GameParam.getRound();&#xD;
    GameParam.getTeam();&#xD;
    for (Controller controller : GameMaster.gm.controllers) {&#xD;
        // Ce n'est plus un spawn aleatoire&#xD;
        Character character = controller.createNewCharacter(this, map.GetRandomRespawnch2());&#xD;
        character.attachToParent(map, character.genName());&#xD;
    }&#xD;
    oneLeft = false;&#xD;
    // Camera&#xD;
    Window.postProcess = new PostProcess(&quot;data/shaders/post_process/pp_default&quot;);&#xD;
    Camera cam = new Camera(new Vec3f(0, 0, 6));&#xD;
    cam.attachToParent(map, &quot;camera&quot;);&#xD;
    Window.setCamera(cam);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ThWpUHuqEemZOa7va52DCQ" name="registerCharacter" specification="_ThU0IHuqEemZOa7va52DCQ">
                <language>JAVA</language>
                <body>&#xD;
    players.add(character);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tha6wHuqEemZOa7va52DCQ" name="characterDeath" specification="_ThYegHuqEemZOa7va52DCQ">
                <language>JAVA</language>
                <body>&#xD;
    players.remove(character);&#xD;
    evalOneLeft();&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ThelIHuqEemZOa7va52DCQ" name="update" specification="_ThcI4HuqEemZOa7va52DCQ">
                <language>JAVA</language>
                <body>&#xD;
    if (Input.actionJustPressed(Device.KEYBOARD, Action.UI_BACK) | Input.actionJustPressed(Device.CONTROLLER01, Action.UI_PAUSE)) {&#xD;
        if (menu == null)&#xD;
            menu = new MenuPause(10);&#xD;
        else&#xD;
            menu = null;&#xD;
    }&#xD;
    if (menu != null) {&#xD;
        menu.update(d);&#xD;
        menu.draw();&#xD;
        return;&#xD;
    } else {&#xD;
        if (oneLeft &amp;&amp; !chooseWinner.inProcess) {&#xD;
            chooseWinner.setProcessing(true);&#xD;
        }&#xD;
        chooseWinner.step(d);&#xD;
        if (chooseWinner.isOver() &amp;&amp; !endGame.inProcess) {&#xD;
            endGame.setProcessing(true);&#xD;
        }&#xD;
        endGame.step(d);&#xD;
        if (endGame.isOver()) {&#xD;
            if (nbRounds &lt; nbRounds) {&#xD;
                currentRound++;&#xD;
                init();&#xD;
            } else {&#xD;
                GameMaster.gm.requestNextState(new Score(), &quot;data/mapXML/empty.xml&quot;);&#xD;
            }&#xD;
        }&#xD;
        if (Window.getCamera() != null) {&#xD;
            Window.getCamera().center(players, null, d);&#xD;
            // Window.getCamera().center(players, map.cameraBounds, d); //TODO: Fix camera,&#xD;
            // c'est du bousin&#xD;
            // bounds and uncomment this&#xD;
            Audio.setListener(Window.getCamera().pos(), Window.getCamera().rotation);&#xD;
        } else&#xD;
            Audio.setListener(new Vec3f(), Quat.fromAngle(0));&#xD;
        // Update controllers&#xD;
        for (Controller controller : GameMaster.gm.controllers) controller.step(d);&#xD;
        super.update(d);&#xD;
    // map.step(d);&#xD;
    }&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_ThNfY3uqEemZOa7va52DCQ" name="evalOneLeft" visibility="private" method="_ThNfZHuqEemZOa7va52DCQ"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_ThOGcHuqEemZOa7va52DCQ" name="Game" visibility="public" method="_ThPUkHuqEemZOa7va52DCQ"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_ThQisHuqEemZOa7va52DCQ" name="init" visibility="public" method="_ThRJwHuqEemZOa7va52DCQ"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_ThU0IHuqEemZOa7va52DCQ" name="registerCharacter" visibility="public" method="_ThWpUHuqEemZOa7va52DCQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_ThWCQHuqEemZOa7va52DCQ" name="character" type="_tdPZAXupEemZOa7va52DCQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_9FoYQHurEem9A9zbMJW8SQ" name="character" type="_84vLwHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_ThYegHuqEemZOa7va52DCQ" name="characterDeath" visibility="public" method="_Tha6wHuqEemZOa7va52DCQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_ThZFkHuqEemZOa7va52DCQ" name="controller" type="_zmLtMHupEemZOa7va52DCQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_ThaTsHuqEemZOa7va52DCQ" name="character" type="_tdPZAXupEemZOa7va52DCQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_9Fo_UHurEem9A9zbMJW8SQ" name="controller" type="_817IUHurEem9A9zbMJW8SQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_9Fo_UXurEem9A9zbMJW8SQ" name="character" type="_84vLwHurEem9A9zbMJW8SQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_ThcI4HuqEemZOa7va52DCQ" name="update" visibility="public" method="_ThelIHuqEemZOa7va52DCQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_Thcv8HuqEemZOa7va52DCQ" name="d">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_ThGKoHuqEemZOa7va52DCQ" name="GameState" visibility="public" isAbstract="true">
              <ownedAttribute xmi:type="uml:Property" xmi:id="_Ti13EHuqEemZOa7va52DCQ" name="map" visibility="protected" type="_82a3kHurEem9A9zbMJW8SQ" isUnique="false"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_ThhBYHuqEemZOa7va52DCQ" name="Intro" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_ThhocHuqEemZOa7va52DCQ" general="_ThGKoHuqEemZOa7va52DCQ"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ThlS0HuqEemZOa7va52DCQ" name="Intro" specification="_ThiPgHuqEemZOa7va52DCQ">
                <language>JAVA</language>
                <body>&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Thmg8XuqEemZOa7va52DCQ" name="init" specification="_Thmg8HuqEemZOa7va52DCQ">
                <language>JAVA</language>
                <body>&#xD;
    super.init();&#xD;
    map = new Test();&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tho9MHuqEemZOa7va52DCQ" name="update" specification="_ThoWIHuqEemZOa7va52DCQ">
                <language>JAVA</language>
                <body>&#xD;
    map.step(delta);&#xD;
    if (Input.actionJustPressed(Device.KEYBOARD, Action.UI_OK) || Input.actionJustPressed(Device.CONTROLLER01, Action.UI_OK)) {&#xD;
        Entity bgm = map.getChildren().get(&quot;bgm&quot;);&#xD;
        if (bgm instanceof Music)&#xD;
            ((Music) bgm).stop();&#xD;
        GameMaster.gm.requestNextState(new CharacterChooser(), &quot;data/mapXML/empty.xml&quot;);&#xD;
    }&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_ThiPgHuqEemZOa7va52DCQ" name="Intro" visibility="public" method="_ThlS0HuqEemZOa7va52DCQ"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_Thmg8HuqEemZOa7va52DCQ" name="init" visibility="public" method="_Thmg8XuqEemZOa7va52DCQ"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_ThoWIHuqEemZOa7va52DCQ" name="update" visibility="public" method="_Tho9MHuqEemZOa7va52DCQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_ThoWIXuqEemZOa7va52DCQ" name="delta">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_ThsAgHuqEemZOa7va52DCQ" name="CharacterChooser" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_ThsAgXuqEemZOa7va52DCQ" general="_ThGKoHuqEemZOa7va52DCQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_ThtOoHuqEemZOa7va52DCQ" name="controllers" visibility="private" type="_tebr0HupEemZOa7va52DCQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_Tht1sHuqEemZOa7va52DCQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new HashMap&lt;>(1)</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_ThvD0HuqEemZOa7va52DCQ" name="sprites" visibility="private" type="_tebr0HupEemZOa7va52DCQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_Thvq4HuqEemZOa7va52DCQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new HashMap&lt;>(1)</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_ThwR8HuqEemZOa7va52DCQ" name="posdedepart" visibility="private" isLeaf="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_ThyuMHuqEemZOa7va52DCQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>-3</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_ThzVQHuqEemZOa7va52DCQ" name="i" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_Th0jYHuqEemZOa7va52DCQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>posdedepart</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_Th1KcHuqEemZOa7va52DCQ" name="charOffset" visibility="private" isLeaf="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_Th1xgHuqEemZOa7va52DCQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>2</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Th4NwXuqEemZOa7va52DCQ" name="getControllers" specification="_Th2YkHuqEemZOa7va52DCQ">
                <language>JAVA</language>
                <body>&#xD;
    return controllers.values();&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Th5b4XuqEemZOa7va52DCQ" name="init" specification="_Th5b4HuqEemZOa7va52DCQ">
                <language>JAVA</language>
                <body>&#xD;
    super.init();&#xD;
    Text text = new Text(Main.font, Text.TextAlignH.CENTER, &quot;Choose your failleterre&quot;);&#xD;
    TextSpatial textEnt = new TextSpatial(new Vec3f(0, -7, 0), new Vec3f(7.3f), text);&#xD;
    textEnt.attachToParent(map, &quot;Text_Select&quot;);&#xD;
    Text text2 = new Text(Main.font, Text.TextAlignH.CENTER, &quot;Q or D to change your figther&quot;);&#xD;
    TextSpatial textEnt2 = new TextSpatial(new Vec3f(0, -5.6, 0), new Vec3f(4.25f), text2);&#xD;
    textEnt2.attachToParent(map, &quot;Text_char&quot;);&#xD;
    Text text3 = new Text(Main.font, Text.TextAlignH.CENTER, &quot;Z and S to change your skin&quot;);&#xD;
    TextSpatial textEnt3 = new TextSpatial(new Vec3f(0, -5, 0), new Vec3f(4.25f), text3);&#xD;
    textEnt3.attachToParent(map, &quot;Text_touch&quot;);&#xD;
    Text text4 = new Text(Main.font, Text.TextAlignH.CENTER, &quot;Press ENTER to go to the map chooser&quot;);&#xD;
    TextSpatial textEnt4 = new TextSpatial(new Vec3f(0, 5.65, 0), new Vec3f(7.15f), text4);&#xD;
    textEnt4.attachToParent(map, &quot;Text_touch2&quot;);&#xD;
    //Set camera&#xD;
    Camera cam = new Camera(new Vec3f(0, 0, 8));&#xD;
    cam.setFOV(90);&#xD;
    map.attachToParent(cam, &quot;camera&quot;);&#xD;
    Window.setCamera(cam);&#xD;
    Controller controllerKeyboard = new Controller(Device.KEYBOARD);&#xD;
    controllers.put(Device.KEYBOARD, controllerKeyboard);&#xD;
    GameMaster.gm.controllers.add(controllerKeyboard);&#xD;
    CharacterSprite c = new CharacterSprite(new Vec2f(i, 0), controllerKeyboard.info);&#xD;
    sprites.put(controllerKeyboard, c);&#xD;
    i += charOffset;&#xD;
    c.attachToParent(map, c.genName());&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Th8fMHuqEemZOa7va52DCQ" name="update" specification="_Th6qAHuqEemZOa7va52DCQ">
                <language>JAVA</language>
                <body>&#xD;
    for (Device device : Device.values()) {&#xD;
        if (Input.actionPressed(device, Action.UI_OK) &amp;&amp; !controllers.keySet().contains(device)) {&#xD;
            Controller newController = new Controller(device);&#xD;
            controllers.put(device, newController);&#xD;
            CharacterSprite c = new CharacterSprite(new Vec2f(i, 0), newController.info);&#xD;
            sprites.put(newController, c);&#xD;
            c.attachToParent(map, c.genName());&#xD;
            i += charOffset;&#xD;
        }&#xD;
        // TODO : remove controller when UI_BACK is pressed&#xD;
        if (Input.actionPressed(device, Action.UI_BACK) &amp;&amp; controllers.keySet().contains(device) &amp;&amp; !device.equals(Device.KEYBOARD)) {&#xD;
            CharacterSprite sp = sprites.get(controllers.get(device));&#xD;
            sprites.get((controllers.get(device))).detach();&#xD;
            sprites.remove((controllers.get(device)));&#xD;
            controllers.remove(device);&#xD;
            // replacement des persos aprs suppr&#xD;
            for (Map.Entry&lt;Controller, CharacterSprite> entry : sprites.entrySet()) {&#xD;
                Controller key = entry.getKey();&#xD;
                CharacterSprite value = entry.getValue();&#xD;
                // int j = i;&#xD;
                float jj = value.parentPosition.x;&#xD;
                if (!key.getDevice().equals(Device.KEYBOARD)) {&#xD;
                    if (jj > sp.parentPosition.x) {&#xD;
                        jj -= charOffset;&#xD;
                        Vec2f pos = new Vec2f(jj, 0);&#xD;
                        value.parentPosition.set(pos);&#xD;
                    // value.destroy();&#xD;
                    // Vec2f pos = new Vec2f(jj, 0);&#xD;
                    // sprites.remove(key);&#xD;
                    // CharacterSprite c = new CharacterSprite(pos, key.getCharInfo());&#xD;
                    // sprites.put(key, c);&#xD;
                    // c.attachToParent(map, c.genName());&#xD;
                    }&#xD;
                }&#xD;
            }&#xD;
            i -= charOffset;&#xD;
        }&#xD;
    }&#xD;
    // Update controllers&#xD;
    for (Controller controller : controllers.values()) {&#xD;
        controller.step(delta);&#xD;
        // Temp sprite changing&#xD;
        if (Input.actionJustPressed(controller.getDevice(), Action.UI_RIGHT)) {&#xD;
            controller.info.nextClass();&#xD;
            Vec2f pos = sprites.get(controller).parentPosition;&#xD;
            sprites.get(controller).detach();&#xD;
            CharacterSprite c = new CharacterSprite(pos, controller.info);&#xD;
            sprites.put(controller, c);&#xD;
            c.attachToParent(map, c.genName());&#xD;
        } else if (Input.actionJustPressed(controller.getDevice(), Action.UI_LEFT)) {&#xD;
            controller.info.previousClass();&#xD;
            Vec2f pos = sprites.get(controller).parentPosition;&#xD;
            sprites.get(controller).detach();&#xD;
            CharacterSprite c = new CharacterSprite(pos, controller.info);&#xD;
            sprites.put(controller, c);&#xD;
            c.attachToParent(map, c.genName());&#xD;
        } else if (Input.actionJustPressed(controller.getDevice(), Action.UI_UP)) {&#xD;
            controller.info.nextSkin();&#xD;
            Vec2f pos = sprites.get(controller).parentPosition;&#xD;
            sprites.get(controller).detach();&#xD;
            CharacterSprite c = new CharacterSprite(pos, controller.info);&#xD;
            sprites.put(controller, c);&#xD;
            c.attachToParent(map, c.genName());&#xD;
        } else if (Input.actionJustPressed(controller.getDevice(), Action.UI_DOWN)) {&#xD;
            controller.info.previousSkin();&#xD;
            Vec2f pos = sprites.get(controller).parentPosition;&#xD;
            sprites.get(controller).detach();&#xD;
            CharacterSprite c = new CharacterSprite(pos, controller.info);&#xD;
            sprites.put(controller, c);&#xD;
            c.attachToParent(map, c.genName());&#xD;
        } else if (Input.actionJustPressed(controller.getDevice(), Action.UI_PAUSE)) {&#xD;
            GameMaster.gm.controllers.clear();&#xD;
            for (Controller controller2 : controllers.values()) GameMaster.gm.controllers.add(controller2);&#xD;
            GameMaster.gm.requestNextState(new MapChooser(), &quot;data/mapXML/empty.xml&quot;);&#xD;
        }&#xD;
    }&#xD;
    if (Input.actionJustPressed(Device.KEYBOARD, Action.UI_OK)) {&#xD;
        GameMaster.gm.controllers.clear();&#xD;
        for (Controller controller : controllers.values()) GameMaster.gm.controllers.add(controller);&#xD;
        GameMaster.gm.requestNextState(new MapChooser(), &quot;data/mapXML/empty.xml&quot;);&#xD;
    } else if (Input.actionJustPressed(Device.KEYBOARD, Action.UI_BACK)) {&#xD;
        GameMaster.gm.requestNextState(new Intro(), &quot;data/mapXML/empty.xml&quot;);&#xD;
    }&#xD;
    super.update(delta);&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_Th2YkHuqEemZOa7va52DCQ" name="getControllers" visibility="public" method="_Th4NwXuqEemZOa7va52DCQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_Th3msHuqEemZOa7va52DCQ" type="_817IUHurEem9A9zbMJW8SQ" direction="return">
                  <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_Th3msXuqEemZOa7va52DCQ"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Th4NwHuqEemZOa7va52DCQ" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_Th5b4HuqEemZOa7va52DCQ" name="init" visibility="public" method="_Th5b4XuqEemZOa7va52DCQ"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_Th6qAHuqEemZOa7va52DCQ" name="update" visibility="public" method="_Th8fMHuqEemZOa7va52DCQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_Th7REHuqEemZOa7va52DCQ" name="delta">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Th-UYHuqEemZOa7va52DCQ" name="Start" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_Th-7cHuqEemZOa7va52DCQ" general="_ThGKoHuqEemZOa7va52DCQ"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_Th_igHuqEemZOa7va52DCQ" name="Start" visibility="public"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_TiCl0HuqEemZOa7va52DCQ" name="update" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_TiDM4HuqEemZOa7va52DCQ" name="delta">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_TiG3QHuqEemZOa7va52DCQ" name="Loading" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_TiHeUHuqEemZOa7va52DCQ" general="_ThGKoHuqEemZOa7va52DCQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_TiIFYHuqEemZOa7va52DCQ" name="loading" visibility="public" isLeaf="true" isStatic="true" type="_TiG3QHuqEemZOa7va52DCQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_TiJTgHuqEemZOa7va52DCQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new Loading()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_TiJ6kHuqEemZOa7va52DCQ" name="next" visibility="private" type="_ThGKoHuqEemZOa7va52DCQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_TiKhoHuqEemZOa7va52DCQ" name="mapXmlRedader" visibility="private" type="_8zHr8HurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_TiLvwHuqEemZOa7va52DCQ" name="Loading" visibility="private"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_TiOzEHuqEemZOa7va52DCQ" name="init" visibility="public"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_TiPaIXuqEemZOa7va52DCQ" name="setNextState" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_TiQBMHuqEemZOa7va52DCQ" name="next" type="_ThGKoHuqEemZOa7va52DCQ"/>
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_TiQoQHuqEemZOa7va52DCQ" name="mapName" type="_tbdQUHupEemZOa7va52DCQ"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_TiQoQnuqEemZOa7va52DCQ" name="getNextState" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_TiRPUHuqEemZOa7va52DCQ" type="_ThGKoHuqEemZOa7va52DCQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_TiR2YHuqEemZOa7va52DCQ" name="update" visibility="public">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_TiTEgHuqEemZOa7va52DCQ" name="delta">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_TiUSoHuqEemZOa7va52DCQ" name="stopLoading" visibility="public"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_TiX9AHuqEemZOa7va52DCQ" name="Param" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_TiYkEHuqEemZOa7va52DCQ" general="_ThGKoHuqEemZOa7va52DCQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_TicOcHuqEemZOa7va52DCQ" name="gameParam" visibility="private" type="_BxDQcHuqEemZOa7va52DCQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_Tic1gHuqEemZOa7va52DCQ" name="menuParam" visibility="private" type="_8tTX0HurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_TidckHuqEemZOa7va52DCQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new MenuSelectionV&lt;Button>(10)</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_TieqsHuqEemZOa7va52DCQ" name="menuMap" visibility="private" type="_8rVB4HurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_TifRwHuqEemZOa7va52DCQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new MenuSelection&lt;>(10)</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_Tif40HuqEemZOa7va52DCQ" name="selec" visibility="private" type="_8qwaIHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_Tigf4HuqEemZOa7va52DCQ" name="param1" visibility="private" type="_8u9ksHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_TihuAHuqEemZOa7va52DCQ" name="param2" visibility="private" type="_8u9ksHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_TiiVEHuqEemZOa7va52DCQ" name="param3" visibility="private" type="_8u9ksHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_Tii8IHuqEemZOa7va52DCQ" name="param4" visibility="private" type="_8u9ksHurEem9A9zbMJW8SQ" isUnique="false"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_TikKQHuqEemZOa7va52DCQ" name="activated" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_TilYYHuqEemZOa7va52DCQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>false</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_TimmgHuqEemZOa7va52DCQ" name="maps" visibility="private" type="_tbdQUHupEemZOa7va52DCQ" isUnique="false">
                <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_TinNkHuqEemZOa7va52DCQ"/>
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Tin0oHuqEemZOa7va52DCQ" value="*"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_TiobsHuqEemZOa7va52DCQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new ArrayList&lt;>()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_TipCwHuqEemZOa7va52DCQ" name="selecMap" visibility="private" type="_3pqJsHupEemZOa7va52DCQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_TiqQ4HuqEemZOa7va52DCQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new TreeSet&lt;>()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TirfAHuqEemZOa7va52DCQ" name="init" specification="_Tiq38HuqEemZOa7va52DCQ">
                <language>JAVA</language>
                <body>&#xD;
    gameParam = new GameParam();&#xD;
    Texture texture1 = Texture.loadTexture(&quot;data/sprites/interface/Fond Menu.png&quot;);&#xD;
    texture1.setFilter(false);&#xD;
    Texture texture2 = Texture.loadTexture(&quot;data/sprites/interface/Selector.png&quot;);&#xD;
    texture2.setFilter(false);&#xD;
    UiImage bg = new UiImage(0, new Vec2f(177.78, 100), texture1, new Vec4f(1, 1, 1, 1));&#xD;
    menuParam.setBackground(bg);&#xD;
    final float scaleY = 5.5f, scaleX = 50f;&#xD;
    param1 = new Button(0, new Vec2f(scaleX, scaleY), gameParam.getStringGameMode());&#xD;
    param2 = new Button(0, new Vec2f(scaleX, scaleY), gameParam.getStringRound());&#xD;
    param3 = new Button(0, new Vec2f(scaleX, scaleY), gameParam.getStringTeam());&#xD;
    param4 = new Button(0, new Vec2f(scaleX, scaleY), &quot;Parametre&quot;);&#xD;
    param1.addAction(&quot;right&quot;, new Trigger() {&#xD;
&#xD;
        @Override&#xD;
        public void make() {&#xD;
            gameParam.nextGameMode();&#xD;
            param1.setText(gameParam.getStringGameMode());&#xD;
        }&#xD;
    });&#xD;
    param1.addAction(&quot;left&quot;, new Trigger() {&#xD;
&#xD;
        @Override&#xD;
        public void make() {&#xD;
            gameParam.previousGameMode();&#xD;
            param1.setText(gameParam.getStringGameMode());&#xD;
        }&#xD;
    });&#xD;
    param2.addAction(&quot;right&quot;, new Trigger() {&#xD;
&#xD;
        @Override&#xD;
        public void make() {&#xD;
            gameParam.nextRound();&#xD;
            param2.setText(gameParam.getStringRound());&#xD;
        }&#xD;
    });&#xD;
    param2.addAction(&quot;left&quot;, new Trigger() {&#xD;
&#xD;
        @Override&#xD;
        public void make() {&#xD;
            gameParam.previousRound();&#xD;
            param2.setText(gameParam.getStringRound());&#xD;
        }&#xD;
    });&#xD;
    param3.addAction(&quot;right&quot;, new Trigger() {&#xD;
&#xD;
        @Override&#xD;
        public void make() {&#xD;
            gameParam.nextTeam();&#xD;
            param3.setText(gameParam.getStringTeam());&#xD;
        }&#xD;
    });&#xD;
    param3.addAction(&quot;left&quot;, new Trigger() {&#xD;
&#xD;
        @Override&#xD;
        public void make() {&#xD;
            gameParam.previousTeam();&#xD;
            param3.setText(gameParam.getStringTeam());&#xD;
        }&#xD;
    });&#xD;
    param3.visible = false;&#xD;
    param4.visible = false;&#xD;
    selec = new UiImage(0, new Vec2f(65, 10), texture2, new Vec4f(1, 1, 1, 1));&#xD;
    menuParam.ecartement = 8;&#xD;
    menuParam.setImageSelec(selec, 2);&#xD;
    menuParam.setPosition(new Vec2f(-57, -40));&#xD;
    menuParam.addElementInListOfChoices(param1, 1);&#xD;
    menuParam.addElementInListOfChoices(param2, 1);&#xD;
    menuParam.focus = param1;&#xD;
    // test&#xD;
    menuMap.setEcartementX(14);&#xD;
    menuMap.setEcartementY(14);&#xD;
    menuMap.setImageSelec(new UiImage(0, new Vec2f(15), texture2, new Vec4f(1, 1, 1, 1)), 3);&#xD;
    menuMap.setPosition(new Vec2f(-9, -30));&#xD;
    File mapFolder = new File(&quot;data/mapXML&quot;);&#xD;
    File[] folderContent = mapFolder.listFiles();&#xD;
    for (int i = 0; i &lt; folderContent.length; i++) {&#xD;
        String name = folderContent[i].getPath();&#xD;
        int index = name.lastIndexOf('/');&#xD;
        if (index &lt; 0)&#xD;
            index = name.lastIndexOf('\\');&#xD;
        name = name.substring(index + 1);&#xD;
        if (!name.endsWith(&quot;.dtd&quot;)) {&#xD;
            name = name.substring(0, name.lastIndexOf('.'));&#xD;
            maps.add(name);&#xD;
        }&#xD;
    }&#xD;
    int y = 0, nbElemH = 7;&#xD;
    for (int i = 0; i &lt; maps.size(); i++) {&#xD;
        String mapName = maps.get(i);&#xD;
        Texture image = Texture.loadTexture(&quot;data/MAP_VIS/&quot; + maps.get(i) + &quot;.png&quot;);&#xD;
        int x = i % nbElemH;&#xD;
        if (x == 0 &amp;&amp; i != 0)&#xD;
            y++;&#xD;
        UiImage picture = new UiImage(0, new Vec2f(12), image, new Vec4f(1, 1, 1, 1));&#xD;
        menuMap.put(picture, 1, x, y);&#xD;
        picture.addAction(&quot;selec&quot;, new Trigger() {&#xD;
&#xD;
            @Override&#xD;
            public void make() {&#xD;
                if (selecMap.contains(mapName)) {&#xD;
                    selecMap.remove(mapName);&#xD;
                } else {&#xD;
                    selecMap.add(mapName);&#xD;
                }&#xD;
            }&#xD;
        });&#xD;
    }&#xD;
    menuMap.active.setValue(false);&#xD;
    menuParam.exit = new EventListener&lt;MenuEventExit>() {&#xD;
&#xD;
        @Override&#xD;
        public void action(MenuEventExit e) {&#xD;
            switch(e.getSide()) {&#xD;
                case Down:&#xD;
                case Up:&#xD;
                    break;&#xD;
                case Right:&#xD;
                case Left:&#xD;
                default:&#xD;
                    menuParam.active.setValue(false);&#xD;
                    menuMap.active.setValue(true);&#xD;
                    menuMap.restart();&#xD;
                    break;&#xD;
            }&#xD;
        }&#xD;
    };&#xD;
    menuMap.exit = new EventListener&lt;MenuEventExit>() {&#xD;
&#xD;
        @Override&#xD;
        public void action(MenuEventExit e) {&#xD;
            switch(e.getSide()) {&#xD;
                case Down:&#xD;
                case Up:&#xD;
                    break;&#xD;
                case Right:&#xD;
                case Left:&#xD;
                default:&#xD;
                    menuParam.active.setValue(true);&#xD;
                    menuMap.active.setValue(false);&#xD;
                    menuParam.restart();&#xD;
                    break;&#xD;
            }&#xD;
        }&#xD;
    };&#xD;
    super.init();&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tit7QHuqEemZOa7va52DCQ" name="update" specification="_TistIHuqEemZOa7va52DCQ">
                <language>JAVA</language>
                <body>&#xD;
    if (Input.actionJustPressed(Device.KEYBOARD, Action.UI_UP)) {&#xD;
        if (!activated &amp;&amp; menuParam.active.getValue()) {&#xD;
            menuParam.up(delta);&#xD;
        } else if (menuMap.active.getValue()) {&#xD;
            menuMap.up();&#xD;
        }&#xD;
    }&#xD;
    if (Input.actionJustPressed(Device.KEYBOARD, Action.UI_DOWN)) {&#xD;
        if (!activated &amp;&amp; menuParam.active.getValue()) {&#xD;
            menuParam.down(delta);&#xD;
        } else if (menuMap.active.getValue()) {&#xD;
            menuMap.down();&#xD;
        }&#xD;
    }&#xD;
    if (Input.actionJustPressed(Device.KEYBOARD, Action.UI_LEFT)) {&#xD;
        if (activated &amp;&amp; menuParam.active.getValue()) {&#xD;
            menuParam.getTarget().lunchAction(&quot;left&quot;);&#xD;
        } else if (menuParam.active.getValue()) {&#xD;
            menuParam.left();&#xD;
        } else if (menuMap.active.getValue()) {&#xD;
            menuMap.left();&#xD;
        }&#xD;
    }&#xD;
    if (Input.actionJustPressed(Device.KEYBOARD, Action.UI_RIGHT)) {&#xD;
        if (activated &amp;&amp; menuParam.active.getValue()) {&#xD;
            menuParam.getTarget().lunchAction(&quot;right&quot;);&#xD;
        } else if (menuParam.active.getValue()) {&#xD;
            menuParam.right();&#xD;
        } else if (menuMap.active.getValue()) {&#xD;
            menuMap.right();&#xD;
        }&#xD;
    }&#xD;
    if (Input.actionJustPressed(Device.KEYBOARD, Action.JUMP)) {&#xD;
        if (menuParam.active.getValue()) {&#xD;
            activated = !activated;&#xD;
        }&#xD;
        if (menuMap.active.getValue()) {&#xD;
            menuMap.getElemSelec().lunchAction(&quot;selec&quot;);&#xD;
        }&#xD;
    }&#xD;
    if (Input.actionJustPressed(Device.KEYBOARD, Action.UI_OK)) {&#xD;
        GameMaster.gm.requestNextState(new CharacterChooser(), GameMaster.mapEmpty);&#xD;
    }&#xD;
    if (GameParam.getGameMode() == GameMode.Rixe) {&#xD;
        menuParam.addElementInListOfChoices(param3, 1);&#xD;
    } else {&#xD;
        menuParam.removeElementInListOfChoices(param3);&#xD;
    }&#xD;
    menuParam.update(delta);&#xD;
    super.update(delta);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TivwcHuqEemZOa7va52DCQ" name="draw" specification="_TivJYHuqEemZOa7va52DCQ">
                <language>JAVA</language>
                <body>&#xD;
    super.draw();&#xD;
    menuParam.draw();&#xD;
    menuMap.draw();&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_Tiq38HuqEemZOa7va52DCQ" name="init" visibility="public" method="_TirfAHuqEemZOa7va52DCQ"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_TistIHuqEemZOa7va52DCQ" name="update" visibility="public" method="_Tit7QHuqEemZOa7va52DCQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_TitUMHuqEemZOa7va52DCQ" name="delta">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_TivJYHuqEemZOa7va52DCQ" name="draw" visibility="public" method="_TivwcHuqEemZOa7va52DCQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_TiyMsHuqEemZOa7va52DCQ" name="Score" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_TiyMsXuqEemZOa7va52DCQ" general="_ThGKoHuqEemZOa7va52DCQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_TiyzwHuqEemZOa7va52DCQ" name="menu" visibility="private" type="_8rVo8HurEem9A9zbMJW8SQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_TiyzwXuqEemZOa7va52DCQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new Menu(5)</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tiza0HuqEemZOa7va52DCQ" name="init" specification="_TiyzwnuqEemZOa7va52DCQ">
                <language>JAVA</language>
                <body>&#xD;
    Texture texture1 = Texture.loadTexture(&quot;data/sprites/interface/Fond Menu_Score.png&quot;);&#xD;
    texture1.setFilter(false);&#xD;
    UiImage bg = new UiImage(0, new Vec2f(177.78, 100), texture1, new Vec4f(1, 1, 1, 1));&#xD;
    menu.setBackground(bg);&#xD;
    Texture texButtonA = Texture.loadTexture(&quot;data/sprites/interface/Button_A.png&quot;);&#xD;
    texButtonA.setFilter(false);&#xD;
    UiImage butA = new UiImage(0, new Vec2f(texButtonA.getWidth() / 2, texButtonA.getHeight() / 2), texButtonA, new Vec4f(1, 1, 1, 1));&#xD;
    menu.addUiElement(butA, 4);&#xD;
    Texture texButtonY = Texture.loadTexture(&quot;data/sprites/interface/Button_Y.png&quot;);&#xD;
    texButtonY.setFilter(false);&#xD;
    Texture texButtonB = Texture.loadTexture(&quot;data/sprites/interface/Button_B.png&quot;);&#xD;
    texButtonB.setFilter(false);&#xD;
    super.init();&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti0B4HuqEemZOa7va52DCQ" name="update" specification="_Tiza0XuqEemZOa7va52DCQ">
                <language>JAVA</language>
                <body>&#xD;
    if (Input.actionJustReleased(Device.KEYBOARD, Action.UI_OK)) {&#xD;
        GameMaster.gm.requestNextState(new CharacterChooser(), GameMaster.mapEmpty);&#xD;
    }&#xD;
    super.update(d);&#xD;
    menu.update(d);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti0B4nuqEemZOa7va52DCQ" name="draw" specification="_Ti0B4XuqEemZOa7va52DCQ">
                <language>JAVA</language>
                <body>&#xD;
    super.draw();&#xD;
    menu.draw();&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_TiyzwnuqEemZOa7va52DCQ" name="init" visibility="public" method="_Tiza0HuqEemZOa7va52DCQ"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_Tiza0XuqEemZOa7va52DCQ" name="update" visibility="public" method="_Ti0B4HuqEemZOa7va52DCQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_Tiza0nuqEemZOa7va52DCQ" name="d">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_Ti0B4XuqEemZOa7va52DCQ" name="draw" visibility="public" method="_Ti0B4nuqEemZOa7va52DCQ"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_TjCrYHuqEemZOa7va52DCQ" name="MapChooser" visibility="public" isAbstract="true">
              <generalization xmi:type="uml:Generalization" xmi:id="_TjD5gHuqEemZOa7va52DCQ" general="_ThGKoHuqEemZOa7va52DCQ"/>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_TjFHoHuqEemZOa7va52DCQ" name="mapChosen" visibility="private" type="_tbdQUHupEemZOa7va52DCQ" isUnique="false">
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_TjFusHuqEemZOa7va52DCQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>&quot;mapXML&quot;</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_TjGVwHuqEemZOa7va52DCQ" name="maps" visibility="private" type="_tbdQUHupEemZOa7va52DCQ" isUnique="false">
                <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_TjHj4HuqEemZOa7va52DCQ"/>
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TjHj4XuqEemZOa7va52DCQ" value="*"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_TjIK8HuqEemZOa7va52DCQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>new ArrayList&lt;>()</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_TjIyAHuqEemZOa7va52DCQ" name="init" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_TjJZEHuqEemZOa7va52DCQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>0</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_TjKAIHuqEemZOa7va52DCQ" name="ringAngle" visibility="private" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_TjKnMHuqEemZOa7va52DCQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>0</body>
                </defaultValue>
              </ownedAttribute>
              <ownedAttribute xmi:type="uml:Property" xmi:id="_TjLOQHuqEemZOa7va52DCQ" name="ringRadius" visibility="private" isLeaf="true" isUnique="false">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_TjMcYHuqEemZOa7va52DCQ" name="defaultValue">
                  <language>JAVA</language>
                  <body>50</body>
                </defaultValue>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjORkHuqEemZOa7va52DCQ" name="getMapChosen" specification="_TjNDcHuqEemZOa7va52DCQ">
                <language>JAVA</language>
                <body>&#xD;
    return &quot;data/mapXML/&quot; + mapChosen + &quot;.xml&quot;;&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjPfsHuqEemZOa7va52DCQ" name="init" specification="_TjO4oHuqEemZOa7va52DCQ">
                <language>JAVA</language>
                <body>&#xD;
    super.init();&#xD;
    File mapFolder = new File(&quot;data/mapXML&quot;);&#xD;
    File[] folderContent = mapFolder.listFiles();&#xD;
    for (int i = 0; i &lt; folderContent.length; i++) {&#xD;
        String name = folderContent[i].getPath();&#xD;
        int index = name.lastIndexOf('/');&#xD;
        if (index &lt; 0)&#xD;
            index = name.lastIndexOf('\\');&#xD;
        name = name.substring(index + 1);&#xD;
        if (!name.endsWith(&quot;.dtd&quot;)) {&#xD;
            name = name.substring(0, name.lastIndexOf('.'));&#xD;
            maps.add(name);&#xD;
        }&#xD;
    }&#xD;
    Collections.sort(maps);&#xD;
    Camera cam = new Camera(new Vec3f(0, 0, 8));&#xD;
    cam.setFOV(90);&#xD;
    map.attachToParent(cam, &quot;camera&quot;);&#xD;
    Window.setCamera(cam);&#xD;
    Text text = new Text(Main.font, Text.TextAlignH.CENTER, &quot;Choose your map&quot;);&#xD;
    TextSpatial textEnt = new TextSpatial(new Vec3f(0, -7, 0), new Vec3f(7.3f), text);&#xD;
    textEnt.attachToParent(map, &quot;Text_Select&quot;);&#xD;
    Text text2 = new Text(Main.font, Text.TextAlignH.CENTER, &quot;Q or D to change the map&quot;);&#xD;
    TextSpatial textEnt2 = new TextSpatial(new Vec3f(0, -5.6, 0), new Vec3f(4.25f), text2);&#xD;
    textEnt2.attachToParent(map, &quot;Text_touch&quot;);&#xD;
    Text text3 = new Text(Main.font, Text.TextAlignH.CENTER, &quot;Press ENTER to continue&quot;);&#xD;
    TextSpatial textEnt3 = new TextSpatial(new Vec3f(0, 5.65, 0), new Vec3f(7.15f), text3);&#xD;
    textEnt3.attachToParent(map, &quot;Text_Choice&quot;);&#xD;
    selectMap(0);&#xD;
    for (int i = 0; i &lt; maps.size(); i++) {&#xD;
        Material mat = new Material(&quot;data/shaders/sprite_simple&quot;);&#xD;
        mat.setParamTex(&quot;baseColor&quot;, Texture.loadTexture(&quot;data/MAP_VIS/&quot; + maps.get(i) + &quot;.png&quot;));&#xD;
        Mesh m = Mesh.quad(new Vec3f(0), Quat.fromAngle(0), new Vec3f(1), mat);&#xD;
        m.attachToParent(getMap(), &quot;Map_Thumbnail_&quot; + maps.get(i));&#xD;
    }&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjR78HuqEemZOa7va52DCQ" name="update" specification="_TjQt0HuqEemZOa7va52DCQ">
                <language>JAVA</language>
                <body>&#xD;
    if (Input.actionJustPressed(Device.KEYBOARD, Action.UI_RIGHT) || Input.actionJustPressed(Device.CONTROLLER01, Action.UI_RIGHT)) {&#xD;
        if (init &lt; maps.size() - 1) {&#xD;
            init++;&#xD;
        } else {&#xD;
            init = 0;&#xD;
        }&#xD;
        selectMap(init);&#xD;
    } else if (Input.actionJustPressed(Device.KEYBOARD, Action.UI_LEFT) || Input.actionJustPressed(Device.CONTROLLER01, Action.UI_LEFT)) {&#xD;
        if (init > 0) {&#xD;
            init--;&#xD;
        } else {&#xD;
            init = maps.size() - 1;&#xD;
        }&#xD;
        selectMap(init);&#xD;
    }&#xD;
    if (Input.actionJustPressed(Device.KEYBOARD, Action.UI_OK) || Input.actionJustPressed(Device.CONTROLLER01, Action.UI_OK)) {&#xD;
        GameMaster.gm.requestNextState(new Game(), getMapChosen());&#xD;
    } else if (Input.actionJustPressed(Device.KEYBOARD, Action.UI_BACK) || Input.actionJustPressed(Device.CONTROLLER01, Action.UI_BACK)) {&#xD;
        GameMaster.gm.requestPreviousState();&#xD;
    }&#xD;
    ringAngle = Utils.lerpAngle(ringAngle, Math.PI / 2 + (init * Utils.PI2 / maps.size()), Math.min(1, 8d * delta));&#xD;
    for (int i = 0; i &lt; maps.size(); i++) {&#xD;
        Entity thumbnail = getMap().getChildren().get(&quot;Map_Thumbnail_&quot; + maps.get(i));&#xD;
        if (thumbnail instanceof Mesh) {&#xD;
            double angle = ringAngle - (i * Utils.PI2 / maps.size());&#xD;
            ((Mesh) thumbnail).parentPosition = new Vec3f(ringRadius * Math.cos(angle), 0, ringRadius * Math.sin(angle) - ringRadius);&#xD;
            if (i == init)&#xD;
                ((Mesh) thumbnail).scale.set(Vec3f.lerp(((Mesh) thumbnail).scale, new Vec3f(9f), Math.min(1, 8d * delta)));&#xD;
            else&#xD;
                ((Mesh) thumbnail).scale.set(Vec3f.lerp(((Mesh) thumbnail).scale, new Vec3f(3), Math.min(1, 12d * delta)));&#xD;
        }&#xD;
    }&#xD;
    super.update(delta);&#xD;
</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjUYMHuqEemZOa7va52DCQ" name="selectMap" specification="_TjTKEHuqEemZOa7va52DCQ">
                <language>JAVA</language>
                <body>&#xD;
    mapChosen = maps.get(newMap);&#xD;
    Text text4 = new Text(Main.font, Text.TextAlignH.CENTER, mapChosen);&#xD;
    TextSpatial textEnt4 = new TextSpatial(new Vec3f(0, 4.50, -.10), new Vec3f(7.15f), text4);&#xD;
    Entity oldText = getMap().getChildren().get(&quot;Text_Mapname&quot;);&#xD;
    if (oldText != null)&#xD;
        oldText.detach();&#xD;
    textEnt4.attachToParent(getMap(), &quot;Text_Mapname&quot;);&#xD;
</body>
              </ownedBehavior>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_TjNDcHuqEemZOa7va52DCQ" name="getMapChosen" visibility="public" method="_TjORkHuqEemZOa7va52DCQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_TjNqgHuqEemZOa7va52DCQ" type="_tbdQUHupEemZOa7va52DCQ" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_TjO4oHuqEemZOa7va52DCQ" name="init" visibility="public" method="_TjPfsHuqEemZOa7va52DCQ"/>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_TjQt0HuqEemZOa7va52DCQ" name="update" visibility="public" method="_TjR78HuqEemZOa7va52DCQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_TjRU4HuqEemZOa7va52DCQ" name="delta">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:type="uml:Operation" xmi:id="_TjTKEHuqEemZOa7va52DCQ" name="selectMap" visibility="private" method="_TjUYMHuqEemZOa7va52DCQ">
                <ownedParameter xmi:type="uml:Parameter" xmi:id="_TjTxIHuqEemZOa7va52DCQ" name="newMap">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_81-LoHurEem9A9zbMJW8SQ" name="CharacterInfo" visibility="public" isAbstract="true">
            <ownedAttribute xmi:type="uml:Property" xmi:id="_9A_v4XurEem9A9zbMJW8SQ" name="charClass" visibility="private" type="_9FdZIHurEem9A9zbMJW8SQ" isUnique="false"/>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_9BAW8HurEem9A9zbMJW8SQ" name="skin" visibility="private" isUnique="false">
              <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9BAW8XurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>0</body>
              </defaultValue>
            </ownedAttribute>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9BCMIHurEem9A9zbMJW8SQ" name="CharacterInfo" specification="_9BAW8nurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    this.charClass = charClass;&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9BCMInurEem9A9zbMJW8SQ" name="previousClass" specification="_9BCMIXurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    skin = 0;&#xD;
    charClass = charClass.previousClass();&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9BCMJHurEem9A9zbMJW8SQ" name="nextClass" specification="_9BCMI3urEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    skin = 0;&#xD;
    charClass = charClass.nextClass();&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9BCzMHurEem9A9zbMJW8SQ" name="previousSkin" specification="_9BCMJXurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    skin = charClass.previousSkin(skin);&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9BCzMnurEem9A9zbMJW8SQ" name="nextSkin" specification="_9BCzMXurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    skin = charClass.nextSkin(skin);&#xD;
</body>
            </ownedBehavior>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_9BAW8nurEem9A9zbMJW8SQ" name="CharacterInfo" visibility="public" method="_9BCMIHurEem9A9zbMJW8SQ">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_9BBlEXurEem9A9zbMJW8SQ" name="charClass" type="_9FdZIHurEem9A9zbMJW8SQ"/>
            </ownedOperation>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_9BCMIXurEem9A9zbMJW8SQ" name="previousClass" visibility="public" method="_9BCMInurEem9A9zbMJW8SQ"/>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_9BCMI3urEem9A9zbMJW8SQ" name="nextClass" visibility="public" method="_9BCMJHurEem9A9zbMJW8SQ"/>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_9BCMJXurEem9A9zbMJW8SQ" name="previousSkin" visibility="public" method="_9BCzMHurEem9A9zbMJW8SQ"/>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_9BCzMXurEem9A9zbMJW8SQ" name="nextSkin" visibility="public" method="_9BCzMnurEem9A9zbMJW8SQ"/>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_9BCzM3urEem9A9zbMJW8SQ" name="getSkin" visibility="public">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_9BCzNHurEem9A9zbMJW8SQ" type="_tbdQUHupEemZOa7va52DCQ" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_9BCzNnurEem9A9zbMJW8SQ" name="createNewCharacter" visibility="public">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_9BDaQHurEem9A9zbMJW8SQ" type="_84vLwHurEem9A9zbMJW8SQ" direction="return"/>
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_9BDaQXurEem9A9zbMJW8SQ" name="spawn" type="_8dpyQHurEem9A9zbMJW8SQ"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_9AwfUHurEem9A9zbMJW8SQ" name="Main" visibility="public" isAbstract="true">
            <ownedAttribute xmi:type="uml:Property" xmi:id="_9AwfUXurEem9A9zbMJW8SQ" name="minFrametimeMilli" visibility="private" isLeaf="true" isStatic="true" isUnique="false">
              <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9AwfUnurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>8</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_9AxGYHurEem9A9zbMJW8SQ" name="tickLength" visibility="private" isStatic="true" isUnique="false">
              <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9AxGYXurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>1 / 150d</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_9AxGYnurEem9A9zbMJW8SQ" name="drawCollisions" visibility="public" isStatic="true" isUnique="false">
              <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_vAIV4I7PEdySGvm5GN66HA"/>
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9AxGY3urEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>false</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_9AxtcHurEem9A9zbMJW8SQ" name="gameMaster" visibility="private" isStatic="true" type="_9AxGZHurEem9A9zbMJW8SQ" isUnique="false"/>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_9AxtcXurEem9A9zbMJW8SQ" name="font" visibility="public" isStatic="true" isUnique="false">
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9AxtcnurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>null</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_9A0JsHurEem9A9zbMJW8SQ" name="log" visibility="public" isLeaf="true" isStatic="true" type="_tb7KYHupEemZOa7va52DCQ" isUnique="false">
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9A0wwHurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>LogManager.getLogger(&quot;Main&quot;)</body>
              </defaultValue>
            </ownedAttribute>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9A1X03urEem9A9zbMJW8SQ" name="main" specification="_9A0wwXurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    log.info(&quot;Starting Super Blep...&quot;);&#xD;
    ConfigManager.init();&#xD;
    Audio.init();&#xD;
    Window.resolutionScale = ConfigManager.getFloat(&quot;resScale&quot;);&#xD;
    Window.init(ConfigManager.getInt(&quot;resX&quot;), ConfigManager.getInt(&quot;resY&quot;), &quot;Super Blep&quot;);&#xD;
    Window.setVsync(true);&#xD;
    gameMaster = GameMaster.gm;&#xD;
    font = Font.loadFont(&quot;data/fonts/ubuntu.fnt&quot;);&#xD;
    long currentFrame;&#xD;
    long lastFrame = System.currentTimeMillis() - 8;&#xD;
    int fpsFrames = 0;&#xD;
    long fpsTime = lastFrame;&#xD;
    while (!Window.requestClose()) {&#xD;
        currentFrame = System.currentTimeMillis();&#xD;
        //Limit delta to avoid errors&#xD;
        //			double delta = Math.max(tickLength, (double)(currentFrame-lastFrame)/1000d);&#xD;
        double delta = Utils.clampD((double) (currentFrame - lastFrame) / 1000, tickLength, .17);&#xD;
        Profiler.beginFrame();&#xD;
        //If delta is too high, break down step into sub-steps&#xD;
        Profiler.startTimer(Profiler.STEP);&#xD;
        double remaining = delta;&#xD;
        while (remaining > tickLength) {&#xD;
            Window.beginFrame();&#xD;
            gameMaster.update(tickLength);&#xD;
            remaining -= tickLength;&#xD;
        }&#xD;
        if (remaining > 0) {&#xD;
            Window.beginFrame();&#xD;
            gameMaster.update(remaining);&#xD;
        }&#xD;
        Profiler.endTimer(Profiler.STEP);&#xD;
        Profiler.startTimer(Profiler.RENDER);&#xD;
        gameMaster.draw();&#xD;
        Window.endFrame();&#xD;
        Profiler.endTimer(Profiler.RENDER);&#xD;
        //FPS counter&#xD;
        fpsFrames++;&#xD;
        if (fpsFrames >= 10 &amp;&amp; (currentFrame - fpsTime) >= 250) {&#xD;
            double time = ((double) (currentFrame - fpsTime)) / fpsFrames;&#xD;
            Window.setTitle(&quot;Super Blep - &quot; + (int) (1 / (time / 1000d)) + &quot;fps&quot;);&#xD;
            fpsTime = currentFrame;&#xD;
            fpsFrames = 0;&#xD;
        }&#xD;
        Profiler.startTimer(Profiler.SLEEP);&#xD;
        //Limit framerate&#xD;
        if (currentFrame - lastFrame &lt; minFrametimeMilli)&#xD;
            try {&#xD;
                Thread.sleep(minFrametimeMilli - (currentFrame - lastFrame));&#xD;
            } catch (InterruptedException e) {&#xD;
                e.printStackTrace();&#xD;
            }&#xD;
        lastFrame = currentFrame;&#xD;
        Profiler.endTimer(Profiler.SLEEP);&#xD;
        Profiler.printData();&#xD;
    }&#xD;
    Window.destroy();&#xD;
    Audio.destroy();&#xD;
    log.info(&quot;Closing Super Blep...&quot;);&#xD;
</body>
            </ownedBehavior>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_9A0wwXurEem9A9zbMJW8SQ" name="main" visibility="public" isStatic="true" method="_9A1X03urEem9A9zbMJW8SQ">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_9A1X0HurEem9A9zbMJW8SQ" name="args" type="_tbdQUHupEemZOa7va52DCQ">
                <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_9A1X0XurEem9A9zbMJW8SQ"/>
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9A1X0nurEem9A9zbMJW8SQ" value="*"/>
              </ownedParameter>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_9AxGZHurEem9A9zbMJW8SQ" name="GameMaster" visibility="public" isAbstract="true">
            <ownedAttribute xmi:type="uml:Property" xmi:id="_9A4bIHurEem9A9zbMJW8SQ" name="controllers" visibility="public" type="_817IUHurEem9A9zbMJW8SQ" isUnique="false">
              <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_9A5CMHurEem9A9zbMJW8SQ"/>
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9A5CMXurEem9A9zbMJW8SQ" value="*"/>
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9A5CMnurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>new ArrayList&lt;>()</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_9A5CM3urEem9A9zbMJW8SQ" name="stateStack" visibility="private" type="_tg0RcHupEemZOa7va52DCQ" isUnique="false">
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9A5CNHurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>new Stack&lt;>()</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_9A5pQHurEem9A9zbMJW8SQ" name="current" visibility="public" isStatic="true" type="_ThGKoHuqEemZOa7va52DCQ" isUnique="false">
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9A5pQXurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>new Start()</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_9A5pQnurEem9A9zbMJW8SQ" name="gm" visibility="public" isLeaf="true" isStatic="true" type="_9AxGZHurEem9A9zbMJW8SQ" isUnique="false">
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9A5pQ3urEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>new GameMaster()</body>
              </defaultValue>
            </ownedAttribute>
            <ownedAttribute xmi:type="uml:Property" xmi:id="_9A5pRHurEem9A9zbMJW8SQ" name="mapEmpty" visibility="public" isLeaf="true" isStatic="true" type="_tbdQUHupEemZOa7va52DCQ" isUnique="false">
              <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_9A6QUHurEem9A9zbMJW8SQ" name="defaultValue">
                <language>JAVA</language>
                <body>&quot;data/mapXML/empty.xml&quot;</body>
              </defaultValue>
            </ownedAttribute>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9A7ecXurEem9A9zbMJW8SQ" name="GameMaster">
              <language>JAVA</language>
              <body>&#xD;
// Constructor untouchable&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9A8FgnurEem9A9zbMJW8SQ" name="requestNextState" specification="_9A7ecnurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    if (// Loading&#xD;
    current == Loading.loading) {&#xD;
        current = Loading.loading.getNextState();&#xD;
    } else {&#xD;
        stateStack.push(current);&#xD;
        if (// Start&#xD;
        current instanceof Start) {&#xD;
        } else if (// Character chooser&#xD;
        current instanceof CharacterChooser) {&#xD;
        } else if (// Map chooser&#xD;
        current instanceof MapChooser) {&#xD;
        } else if (// Intro movie&#xD;
        current instanceof Intro) {&#xD;
        } else if (current instanceof Param) {&#xD;
        } else if (current instanceof Game) {&#xD;
        } else if (current instanceof Score) {&#xD;
        }&#xD;
        current = Loading.loading;&#xD;
        current.init();&#xD;
        Loading.loading.setNextState(nextState, nextStateMap);&#xD;
    }&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9A8skHurEem9A9zbMJW8SQ" name="requestPreviousState" specification="_9A8Fg3urEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    if (current instanceof CharacterChooser) {&#xD;
        controllers.clear();&#xD;
    }&#xD;
    current = stateStack.pop();&#xD;
    if (current instanceof Intro) {&#xD;
        current = new Start();&#xD;
    }&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9A9ToXurEem9A9zbMJW8SQ" name="getMap" specification="_9A8slnurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    return current.getMap();&#xD;
</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9A9TpnurEem9A9zbMJW8SQ" name="update" specification="_9A9TpHurEem9A9zbMJW8SQ">
              <language>JAVA</language>
              <body>&#xD;
    current.update(delta);&#xD;
</body>
            </ownedBehavior>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_9A7ecnurEem9A9zbMJW8SQ" name="requestNextState" visibility="public" method="_9A8FgnurEem9A9zbMJW8SQ">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_9A8FgHurEem9A9zbMJW8SQ" name="nextState" type="_ThGKoHuqEemZOa7va52DCQ"/>
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_9A8FgXurEem9A9zbMJW8SQ" name="nextStateMap" type="_tbdQUHupEemZOa7va52DCQ"/>
            </ownedOperation>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_9A8Fg3urEem9A9zbMJW8SQ" name="requestPreviousState" visibility="public" method="_9A8skHurEem9A9zbMJW8SQ"/>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_9A8skXurEem9A9zbMJW8SQ" name="getEntities" visibility="public">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_9A8sknurEem9A9zbMJW8SQ" type="_82beoHurEem9A9zbMJW8SQ" direction="return">
                <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_9A8sk3urEem9A9zbMJW8SQ"/>
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9A8slHurEem9A9zbMJW8SQ" value="*"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_9A8slnurEem9A9zbMJW8SQ" name="getMap" visibility="public" method="_9A9ToXurEem9A9zbMJW8SQ">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_9A9ToHurEem9A9zbMJW8SQ" type="_82a3kHurEem9A9zbMJW8SQ" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_9A9TpHurEem9A9zbMJW8SQ" name="update" visibility="public" method="_9A9TpnurEem9A9zbMJW8SQ">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_9A9TpXurEem9A9zbMJW8SQ" name="delta">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_6j0jABydEduyofBvg4RL2w"/>
              </ownedParameter>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Enumeration" xmi:id="_9FdZIHurEem9A9zbMJW8SQ" name="CharacterClass" visibility="public" isAbstract="true">
            <ownedAttribute xmi:type="uml:Property" xmi:id="_9FenQ3urEem9A9zbMJW8SQ" name="skins" visibility="private" type="_tbdQUHupEemZOa7va52DCQ" isUnique="false">
              <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_9FfOUHurEem9A9zbMJW8SQ"/>
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9FfOUXurEem9A9zbMJW8SQ" value="*"/>
            </ownedAttribute>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_9FfOUnurEem9A9zbMJW8SQ" name="CharacterClass" visibility="private">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_9FgccXurEem9A9zbMJW8SQ" name="skins" type="_tbdQUHupEemZOa7va52DCQ"/>
            </ownedOperation>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_9FhqkXurEem9A9zbMJW8SQ" name="nextSkin" visibility="public">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_9FhqknurEem9A9zbMJW8SQ" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              </ownedParameter>
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_9FiRoHurEem9A9zbMJW8SQ" name="current">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_9FiRoXurEem9A9zbMJW8SQ" name="previousSkin" visibility="public">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_9FiRonurEem9A9zbMJW8SQ" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              </ownedParameter>
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_9FiRo3urEem9A9zbMJW8SQ" name="current">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_9Fi4sHurEem9A9zbMJW8SQ" name="getSkin" visibility="public">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_9Fi4sXurEem9A9zbMJW8SQ" type="_tbdQUHupEemZOa7va52DCQ" direction="return"/>
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_9Fi4snurEem9A9zbMJW8SQ" name="index">
                <type xmi:type="uml:PrimitiveType" href="pathmap://PapyrusJava_LIBRARIES/JavaLibrary.uml#_7wRIABydEduyofBvg4RL2w"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_9Fi4s3urEem9A9zbMJW8SQ" name="nextClass" visibility="public">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_9Fi4tHurEem9A9zbMJW8SQ" type="_9FdZIHurEem9A9zbMJW8SQ" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:type="uml:Operation" xmi:id="_9FjfwHurEem9A9zbMJW8SQ" name="previousClass" visibility="public">
              <ownedParameter xmi:type="uml:Parameter" xmi:id="_9FjfwXurEem9A9zbMJW8SQ" type="_9FdZIHurEem9A9zbMJW8SQ" direction="return"/>
            </ownedOperation>
            <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_9FeAMHurEem9A9zbMJW8SQ" name="Bird">
              <specification xmi:type="uml:OpaqueExpression" xmi:id="_9FeAMXurEem9A9zbMJW8SQ" name="specification">
                <language>JAVA</language>
                <body>&quot;moineau_01&quot;, &quot;canard_01&quot;, &quot;canard_02&quot;</body>
              </specification>
            </ownedLiteral>
            <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_9FeAMnurEem9A9zbMJW8SQ" name="Agile">
              <specification xmi:type="uml:OpaqueExpression" xmi:id="_9FeAM3urEem9A9zbMJW8SQ" name="specification">
                <language>JAVA</language>
                <body>&quot;chat_01&quot;, &quot;renard_01&quot;, &quot;renard_02&quot;, &quot;renard_03&quot;, &quot;renard_04&quot;, &quot;ecureuil_01&quot;</body>
              </specification>
            </ownedLiteral>
            <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_9FeANHurEem9A9zbMJW8SQ" name="Heavy">
              <specification xmi:type="uml:OpaqueExpression" xmi:id="_9FenQHurEem9A9zbMJW8SQ" name="specification">
                <language>JAVA</language>
                <body>&quot;chevre_01&quot;, &quot;vache_01&quot;</body>
              </specification>
            </ownedLiteral>
            <ownedLiteral xmi:type="uml:EnumerationLiteral" xmi:id="_9FenQXurEem9A9zbMJW8SQ" name="Aqua">
              <specification xmi:type="uml:OpaqueExpression" xmi:id="_9FenQnurEem9A9zbMJW8SQ" name="specification">
                <language>JAVA</language>
                <body>&quot;poisson_01&quot;, &quot;manchot_01&quot;, &quot;manchot_02&quot;</body>
              </specification>
            </ownedLiteral>
          </packagedElement>
        </packagedElement>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_tbbbIHupEemZOa7va52DCQ" name="java">
      <packagedElement xmi:type="uml:Package" xmi:id="_tbcCMHupEemZOa7va52DCQ" name="java">
        <packagedElement xmi:type="uml:Package" xmi:id="_tbcpQHupEemZOa7va52DCQ" name="lang">
          <packagedElement xmi:type="uml:Class" xmi:id="_tbdQUHupEemZOa7va52DCQ" name="String"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_7xsrMHurEem9A9zbMJW8SQ" name="Object"/>
          <packagedElement xmi:type="uml:Package" xmi:id="_74DK0HurEem9A9zbMJW8SQ" name="ref">
            <packagedElement xmi:type="uml:Class" xmi:id="_74Dx4HurEem9A9zbMJW8SQ" name="WeakReference"/>
          </packagedElement>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_tbmaQHupEemZOa7va52DCQ" name="nio">
          <packagedElement xmi:type="uml:Class" xmi:id="_tbmaQXupEemZOa7va52DCQ" name="ByteBuffer"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_750FYHurEem9A9zbMJW8SQ" name="ShortBuffer"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_8MtMMHurEem9A9zbMJW8SQ" name="DoubleBuffer"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_8MwPgHurEem9A9zbMJW8SQ" name="FloatBuffer"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_tbtH8HupEemZOa7va52DCQ" name="io">
          <packagedElement xmi:type="uml:Class" xmi:id="_tbtvAHupEemZOa7va52DCQ" name="File"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_tbyngHupEemZOa7va52DCQ" name="util">
          <packagedElement xmi:type="uml:Class" xmi:id="_tbyngXupEemZOa7va52DCQ" name="Properties"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tebr0HupEemZOa7va52DCQ" name="HashMap"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tehycHupEemZOa7va52DCQ" name="Comparator"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_tg0RcHupEemZOa7va52DCQ" name="Stack"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_3n2L0HupEemZOa7va52DCQ" name="HashSet"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_3pqJsHupEemZOa7va52DCQ" name="TreeSet"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_7ts8AHurEem9A9zbMJW8SQ" name="Map"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_7vC_0HurEem9A9zbMJW8SQ" name="Queue"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="_76XfAHurEem9A9zbMJW8SQ" name="EventListener"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_76roEHurEem9A9zbMJW8SQ" name="Observable"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_76xusHurEem9A9zbMJW8SQ" name="LinkedList"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_8rdkwHurEem9A9zbMJW8SQ" name="TreeMap"/>
        </packagedElement>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_tb4HEHupEemZOa7va52DCQ" name="importedTypes">
      <packagedElement xmi:type="uml:Package" xmi:id="_tb5VMHupEemZOa7va52DCQ" name="org">
        <packagedElement xmi:type="uml:Package" xmi:id="_tb58QHupEemZOa7va52DCQ" name="apache">
          <packagedElement xmi:type="uml:Package" xmi:id="_tb58QXupEemZOa7va52DCQ" name="logging">
            <packagedElement xmi:type="uml:Package" xmi:id="_tb6jUHupEemZOa7va52DCQ" name="log4j">
              <packagedElement xmi:type="uml:Class" xmi:id="_tb7KYHupEemZOa7va52DCQ" name="Logger"/>
            </packagedElement>
          </packagedElement>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_73CeMHurEem9A9zbMJW8SQ" name="lwjgl">
          <packagedElement xmi:type="uml:Package" xmi:id="_73DFQHurEem9A9zbMJW8SQ" name="openal">
            <packagedElement xmi:type="uml:Class" xmi:id="_73DsUHurEem9A9zbMJW8SQ" name="ALCCapabilities"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_75vz8HurEem9A9zbMJW8SQ" name="stb">
            <packagedElement xmi:type="uml:Class" xmi:id="_75wbAHurEem9A9zbMJW8SQ" name="STBVorbisInfo"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_8AIIwHurEem9A9zbMJW8SQ" name="glfw">
            <packagedElement xmi:type="uml:Class" xmi:id="_8AJW4HurEem9A9zbMJW8SQ" name="GLFWVidMode"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_8AyQEHurEem9A9zbMJW8SQ" name="GLFWErrorCallback"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_8MyrwHurEem9A9zbMJW8SQ" name="GLFWGamepadState"/>
          </packagedElement>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_8etiMHurEem9A9zbMJW8SQ" name="jbox2d">
          <packagedElement xmi:type="uml:Package" xmi:id="_8etiMXurEem9A9zbMJW8SQ" name="common">
            <packagedElement xmi:type="uml:Class" xmi:id="_8euJQHurEem9A9zbMJW8SQ" name="Vec2"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_8iNiIHurEem9A9zbMJW8SQ" name="dynamics">
            <packagedElement xmi:type="uml:Class" xmi:id="_8iNiIXurEem9A9zbMJW8SQ" name="BodyDef"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_8iRMgHurEem9A9zbMJW8SQ" name="Body"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_8iWFAHurEem9A9zbMJW8SQ" name="Fixture"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_8jD2sHurEem9A9zbMJW8SQ" name="World"/>
            <packagedElement xmi:type="uml:Package" xmi:id="_8jmpQHurEem9A9zbMJW8SQ" name="contacts">
              <packagedElement xmi:type="uml:Class" xmi:id="_8jnQUHurEem9A9zbMJW8SQ" name="Contact"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_8j4WEHurEem9A9zbMJW8SQ" name="callbacks">
            <packagedElement xmi:type="uml:Interface" xmi:id="_8j49IHurEem9A9zbMJW8SQ" name="ContactListener"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_8kKp8HurEem9A9zbMJW8SQ" name="ContactImpulse"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_85RXQ3urEem9A9zbMJW8SQ" name="RayCastCallback"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_8kDVMHurEem9A9zbMJW8SQ" name="collision">
            <packagedElement xmi:type="uml:Class" xmi:id="_8kDVMXurEem9A9zbMJW8SQ" name="Manifold"/>
            <packagedElement xmi:type="uml:Package" xmi:id="_8octAHurEem9A9zbMJW8SQ" name="shapes">
              <packagedElement xmi:type="uml:Class" xmi:id="_8odUEHurEem9A9zbMJW8SQ" name="Shape"/>
            </packagedElement>
          </packagedElement>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_8yy70HurEem9A9zbMJW8SQ" name="w3c">
          <packagedElement xmi:type="uml:Package" xmi:id="_8yy70XurEem9A9zbMJW8SQ" name="dom">
            <packagedElement xmi:type="uml:Class" xmi:id="_8yzi4HurEem9A9zbMJW8SQ" name="Document"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_8y2mMHurEem9A9zbMJW8SQ" name="Element"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_807CwHurEem9A9zbMJW8SQ" name="NodeList"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_81zMgHurEem9A9zbMJW8SQ" name="Node"/>
          </packagedElement>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_tdIrUHupEemZOa7va52DCQ" name="arenashooter">
        <packagedElement xmi:type="uml:Package" xmi:id="_tdJSYHupEemZOa7va52DCQ" name="engine">
          <packagedElement xmi:type="uml:Package" xmi:id="_tdJ5cHupEemZOa7va52DCQ" name="input">
            <packagedElement xmi:type="uml:Class" xmi:id="_tdJ5cXupEemZOa7va52DCQ" name="Device"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_tdf3sHupEemZOa7va52DCQ" name="math">
            <packagedElement xmi:type="uml:Class" xmi:id="_tdf3sXupEemZOa7va52DCQ" name="Vec2f"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_teG7sHupEemZOa7va52DCQ" name="Vec4f"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_tf2BEXupEemZOa7va52DCQ" name="Vec3f"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_td6HYHupEemZOa7va52DCQ" name="physic">
            <packagedElement xmi:type="uml:Class" xmi:id="_td6ucHupEemZOa7va52DCQ" name="PhysicWorld"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_tfusUHupEemZOa7va52DCQ" name="graphics">
            <packagedElement xmi:type="uml:Class" xmi:id="_tfvTYHupEemZOa7va52DCQ" name="Model"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_tfzk0HupEemZOa7va52DCQ" name="Material"/>
            <packagedElement xmi:type="uml:Package" xmi:id="_tgmPAHupEemZOa7va52DCQ" name="fonts">
              <packagedElement xmi:type="uml:Class" xmi:id="_tgmPAXupEemZOa7va52DCQ" name="Font"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_tgNNcHupEemZOa7va52DCQ" name="audio">
            <packagedElement xmi:type="uml:Class" xmi:id="_tgN0gHupEemZOa7va52DCQ" name="MusicSource"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_3nmUMHupEemZOa7va52DCQ" name="ui">
            <packagedElement xmi:type="uml:Class" xmi:id="_3nmUMXupEemZOa7va52DCQ" name="Menu"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_3pS9UHupEemZOa7va52DCQ" name="MenuSelectionV"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_3pXOwHupEemZOa7va52DCQ" name="MenuSelection"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_3pa5IHupEemZOa7va52DCQ" name="UiImage"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_3pejgHupEemZOa7va52DCQ" name="Button"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_3o4GkXupEemZOa7va52DCQ" name="xmlReaders">
            <packagedElement xmi:type="uml:Class" xmi:id="_3o4GknupEemZOa7va52DCQ" name="MapXmlReader"/>
          </packagedElement>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_tdOx8HupEemZOa7va52DCQ" name="entities">
          <packagedElement xmi:type="uml:Package" xmi:id="_tdPZAHupEemZOa7va52DCQ" name="spatials">
            <packagedElement xmi:type="uml:Class" xmi:id="_tdPZAXupEemZOa7va52DCQ" name="Character"/>
            <packagedElement xmi:type="uml:Package" xmi:id="_teCDMHupEemZOa7va52DCQ" name="items">
              <packagedElement xmi:type="uml:Class" xmi:id="_teCqQHupEemZOa7va52DCQ" name="Item"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_zmLtMHupEemZOa7va52DCQ" name="Controller"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_zmnyEHupEemZOa7va52DCQ" name="Entity"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_zmsqkHupEemZOa7va52DCQ" name="Map"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_3n7rYHupEemZOa7va52DCQ" name="Timer"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_tdc0YHupEemZOa7va52DCQ" name="game">
          <packagedElement xmi:type="uml:Package" xmi:id="_tddbcHupEemZOa7va52DCQ" name="gameStates">
            <packagedElement xmi:type="uml:Class" xmi:id="_tdeCgHupEemZOa7va52DCQ" name="Game"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_tg370HupEemZOa7va52DCQ" name="GameState"/>
            <packagedElement xmi:type="uml:Package" xmi:id="_3nsa0HupEemZOa7va52DCQ" name="engineParam">
              <packagedElement xmi:type="uml:Class" xmi:id="_3ntB4HupEemZOa7va52DCQ" name="GameMode"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_3pNdwHupEemZOa7va52DCQ" name="GameParam"/>
            </packagedElement>
          </packagedElement>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_8yojwHurEem9A9zbMJW8SQ" name="javax">
        <packagedElement xmi:type="uml:Package" xmi:id="_8ypK0HurEem9A9zbMJW8SQ" name="xml">
          <packagedElement xmi:type="uml:Package" xmi:id="_8ypx4HurEem9A9zbMJW8SQ" name="parsers">
            <packagedElement xmi:type="uml:Class" xmi:id="_8ypx4XurEem9A9zbMJW8SQ" name="DocumentBuilderFactory"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_8yuqYHurEem9A9zbMJW8SQ" name="DocumentBuilder"/>
          </packagedElement>
        </packagedElement>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_c5mOQHuuEemclY-CiBnyDw" name="platform">
      <packagedElement xmi:type="uml:Package" xmi:id="_c50QsHuuEemclY-CiBnyDw" name="FileUtilsPlatform">
        <packagedElement xmi:type="uml:InstanceSpecification" xmi:id="_c5-owHuuEemclY-CiBnyDw" classifier="_7pfKYHurEem9A9zbMJW8SQ"/>
      </packagedElement>
    </packagedElement>
    <profileApplication xmi:type="uml:ProfileApplication" xmi:id="_tZEqsHupEemZOa7va52DCQ">
      <eAnnotations xmi:type="ecore:EAnnotation" xmi:id="_tZKxUHupEemZOa7va52DCQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="http://www.eclipse.org/papyrus/PapyrusJava/1#/"/>
      </eAnnotations>
      <appliedProfile xmi:type="uml:Profile" href="pathmap://PapyrusJava_PROFILES/PapyrusJava.profile.uml#_j9REUByGEduN1bTiWJ0lyw"/>
    </profileApplication>
    <profileApplication xmi:type="uml:ProfileApplication" xmi:id="_tZXloHupEemZOa7va52DCQ">
      <eAnnotations xmi:type="ecore:EAnnotation" xmi:id="_tZZa0HupEemZOa7va52DCQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="http://www.eclipse.org/papyrus/Codegen/1#/"/>
      </eAnnotations>
      <appliedProfile xmi:type="uml:Profile" href="pathmap://Codegen_PROFILES/Codegen.profile.uml#_fPDsIBa-EearhdjjJ6cVzQ"/>
    </profileApplication>
    <profileApplication xmi:type="uml:ProfileApplication" xmi:id="_tZgvkHupEemZOa7va52DCQ">
      <eAnnotations xmi:type="ecore:EAnnotation" xmi:id="_tZh9sHupEemZOa7va52DCQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="http://www.eclipse.org/uml2/5.0.0/UML/Profile/Standard#/"/>
      </eAnnotations>
      <appliedProfile xmi:type="uml:Profile" href="pathmap://UML_PROFILES/Standard.profile.uml#_0"/>
    </profileApplication>
  </uml:Model>
  <PapyrusJava:External xmi:id="_tbfFgHupEemZOa7va52DCQ" name="java.lang.String" base_Classifier="_tbdQUHupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_tboPcHupEemZOa7va52DCQ" name="java.nio.ByteBuffer" base_Classifier="_tbmaQXupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_tbu9IHupEemZOa7va52DCQ" name="java.io.File" base_Classifier="_tbtvAHupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_tb0csHupEemZOa7va52DCQ" name="java.util.Properties" base_Classifier="_tbyngXupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_tb8YgHupEemZOa7va52DCQ" name="org.apache.logging.log4j.Logger" base_Classifier="_tb7KYHupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_tdLHkHupEemZOa7va52DCQ" name="arenashooter.engine.input.Device" base_Classifier="_tdJ5cXupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_tdQnIHupEemZOa7va52DCQ" name="arenashooter.entities.spatials.Character" base_Classifier="_tdPZAXupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_tdfQoHupEemZOa7va52DCQ" name="arenashooter.game.gameStates.Game" base_Classifier="_tdeCgHupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_tdhs4HupEemZOa7va52DCQ" name="arenashooter.engine.math.Vec2f" base_Classifier="_tdf3sXupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_td8joHupEemZOa7va52DCQ" name="arenashooter.engine.physic.PhysicWorld" base_Classifier="_td6ucHupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_teD4YHupEemZOa7va52DCQ" name="arenashooter.entities.spatials.items.Item" base_Classifier="_teCqQHupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_teIJ0HupEemZOa7va52DCQ" name="arenashooter.engine.math.Vec4f" base_Classifier="_teG7sHupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_tec58HupEemZOa7va52DCQ" name="java.util.HashMap" base_Classifier="_tebr0HupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_tejnoHupEemZOa7va52DCQ" name="java.util.Comparator" base_Classifier="_tehycHupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_tfxIkHupEemZOa7va52DCQ" name="arenashooter.engine.graphics.Model" base_Classifier="_tfvTYHupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_tf1aAHupEemZOa7va52DCQ" name="arenashooter.engine.graphics.Material" base_Classifier="_tfzk0HupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_tf32QHupEemZOa7va52DCQ" name="arenashooter.engine.math.Vec3f" base_Classifier="_tf2BEXupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_tgPCoHupEemZOa7va52DCQ" name="arenashooter.engine.audio.MusicSource" base_Classifier="_tgN0gHupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_tgndIHupEemZOa7va52DCQ" name="arenashooter.engine.graphics.fonts.Font" base_Classifier="_tgmPAXupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_tg1fkHupEemZOa7va52DCQ" name="java.util.Stack" base_Classifier="_tg0RcHupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_tg5xAHupEemZOa7va52DCQ" name="arenashooter.game.gameStates.GameState" base_Classifier="_tg370HupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_zmNiYHupEemZOa7va52DCQ" name="arenashooter.entities.Controller" base_Classifier="_zmLtMHupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_zmpAMHupEemZOa7va52DCQ" name="arenashooter.entities.Entity" base_Classifier="_zmnyEHupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_zmufwHupEemZOa7va52DCQ" name="arenashooter.entities.Map" base_Classifier="_zmsqkHupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_3nniUHupEemZOa7va52DCQ" name="arenashooter.engine.ui.Menu" base_Classifier="_3nmUMXupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_3nu3EHupEemZOa7va52DCQ" name="arenashooter.game.gameStates.engineParam.GameMode" base_Classifier="_3ntB4HupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_3n3Z8HupEemZOa7va52DCQ" name="java.util.HashSet" base_Classifier="_3n2L0HupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_3n85gHupEemZOa7va52DCQ" name="arenashooter.entities.Timer" base_Classifier="_3n7rYHupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_3o5UsHupEemZOa7va52DCQ" name="arenashooter.engine.xmlReaders.MapXmlReader" base_Classifier="_3o4GknupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_3pPS8HupEemZOa7va52DCQ" name="arenashooter.game.gameStates.engineParam.GameParam" base_Classifier="_3pNdwHupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_3pULcHupEemZOa7va52DCQ" name="arenashooter.engine.ui.MenuSelectionV" base_Classifier="_3pS9UHupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_3pYc4HupEemZOa7va52DCQ" name="arenashooter.engine.ui.MenuSelection" base_Classifier="_3pXOwHupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_3pcuUHupEemZOa7va52DCQ" name="arenashooter.engine.ui.UiImage" base_Classifier="_3pa5IHupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_3pfxoHupEemZOa7va52DCQ" name="arenashooter.engine.ui.Button" base_Classifier="_3pejgHupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_3prX0HupEemZOa7va52DCQ" name="java.util.TreeSet" base_Classifier="_3pqJsHupEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_5gWlkHupEemZOa7va52DCQ" name="T" base_Classifier="_5gUwYHupEemZOa7va52DCQ"/>
  <standard:Create xmi:id="_BxJ-IHuqEemZOa7va52DCQ" base_BehavioralFeature="_BxJXEnuqEemZOa7va52DCQ"/>
  <PapyrusJava:Variadic xmi:id="_BxLzUHuqEemZOa7va52DCQ" base_Parameter="_BxKlMXuqEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_ThKcEHuqEemZOa7va52DCQ" name="arenashooter.game.gameStates.engineParam.GameMode" base_Classifier="_Bw_mEHuqEemZOa7va52DCQ"/>
  <standard:Create xmi:id="_ThOtgHuqEemZOa7va52DCQ" base_BehavioralFeature="_ThOGcHuqEemZOa7va52DCQ"/>
  <standard:Create xmi:id="_ThjdoHuqEemZOa7va52DCQ" base_BehavioralFeature="_ThiPgHuqEemZOa7va52DCQ"/>
  <standard:Create xmi:id="_TiAwoHuqEemZOa7va52DCQ" base_BehavioralFeature="_Th_igHuqEemZOa7va52DCQ"/>
  <standard:Create xmi:id="_TiM94HuqEemZOa7va52DCQ" base_BehavioralFeature="_TiLvwHuqEemZOa7va52DCQ"/>
  <PapyrusJava:External xmi:id="_TibAUHuqEemZOa7va52DCQ" name="arenashooter.game.gameStates.engineParam.GameParam" base_Classifier="_BxDQcHuqEemZOa7va52DCQ"/>
  <standard:Create xmi:id="_7qG1cHurEem9A9zbMJW8SQ" base_BehavioralFeature="_7qAu0HurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_7twmYHurEem9A9zbMJW8SQ" name="java.util.Map" base_Classifier="_7ts8AHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_7vGDIHurEem9A9zbMJW8SQ" name="java.util.Queue" base_Classifier="_7vC_0HurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_7xvHcHurEem9A9zbMJW8SQ" name="java.lang.Object" base_Classifier="_7xsrMHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_7yIwEHurEem9A9zbMJW8SQ" name="T" base_Classifier="_7yGT0HurEem9A9zbMJW8SQ"/>
  <standard:Create xmi:id="_7z8G4HurEem9A9zbMJW8SQ" base_BehavioralFeature="_7z6RsHurEem9A9zbMJW8SQ"/>
  <standard:Create xmi:id="_72x_gHurEem9A9zbMJW8SQ" base_BehavioralFeature="_72wKUHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_73FhgHurEem9A9zbMJW8SQ" name="org.lwjgl.openal.ALCCapabilities" base_Classifier="_73DsUHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_74GOIHurEem9A9zbMJW8SQ" name="java.lang.ref.WeakReference" base_Classifier="_74Dx4HurEem9A9zbMJW8SQ"/>
  <standard:Create xmi:id="_75jmsHurEem9A9zbMJW8SQ" base_BehavioralFeature="_75hxgHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_75yQMHurEem9A9zbMJW8SQ" name="org.lwjgl.stb.STBVorbisInfo" base_Classifier="_75wbAHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_752hoHurEem9A9zbMJW8SQ" name="java.nio.ShortBuffer" base_Classifier="_750FYHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_76D9AHurEem9A9zbMJW8SQ" name="T" base_Classifier="_76BgwHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_76ZUMHurEem9A9zbMJW8SQ" name="java.util.EventListener" base_Classifier="_76XfAHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_76dloHurEem9A9zbMJW8SQ" name="E" base_Classifier="_76bwcHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_76tdQHurEem9A9zbMJW8SQ" name="java.util.Observable" base_Classifier="_76roEHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_760yAHurEem9A9zbMJW8SQ" name="java.util.LinkedList" base_Classifier="_76xusHurEem9A9zbMJW8SQ"/>
  <standard:Create xmi:id="_766RkHurEem9A9zbMJW8SQ" base_BehavioralFeature="_764cYHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_77ZZwHurEem9A9zbMJW8SQ" name="Side" base_Classifier="_77XkkHurEem9A9zbMJW8SQ"/>
  <standard:Create xmi:id="_778zYHurEem9A9zbMJW8SQ" base_BehavioralFeature="_776-MHurEem9A9zbMJW8SQ"/>
  <standard:Create xmi:id="_79S3MHurEem9A9zbMJW8SQ" base_BehavioralFeature="_79RCAHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_8ALzIHurEem9A9zbMJW8SQ" name="org.lwjgl.glfw.GLFWVidMode" base_Classifier="_8AJW4HurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_8A0FQHurEem9A9zbMJW8SQ" name="org.lwjgl.glfw.GLFWErrorCallback" base_Classifier="_8AyQEHurEem9A9zbMJW8SQ"/>
  <standard:Create xmi:id="_8A4WsHurEem9A9zbMJW8SQ" base_BehavioralFeature="_8A2hgHurEem9A9zbMJW8SQ"/>
  <standard:Create xmi:id="_8C1egHurEem9A9zbMJW8SQ" base_BehavioralFeature="_8CzCQHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:StaticClassifier xmi:id="_8HqUIHurEem9A9zbMJW8SQ" base_Classifier="_8Hoe8HurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_8HxB0HurEem9A9zbMJW8SQ" name="TextAlignH" base_Classifier="_8HvMoHurEem9A9zbMJW8SQ"/>
  <standard:Create xmi:id="_8MiNEHurEem9A9zbMJW8SQ" base_BehavioralFeature="_8Mfw0HurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_8MvBYHurEem9A9zbMJW8SQ" name="java.nio.DoubleBuffer" base_Classifier="_8MtMMHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_8MxdoHurEem9A9zbMJW8SQ" name="java.nio.FloatBuffer" base_Classifier="_8MwPgHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_8Mz54HurEem9A9zbMJW8SQ" name="org.lwjgl.glfw.GLFWGamepadState" base_Classifier="_8MyrwHurEem9A9zbMJW8SQ"/>
  <standard:Create xmi:id="_8S4ssHurEem9A9zbMJW8SQ" base_BehavioralFeature="_8S23gHurEem9A9zbMJW8SQ"/>
  <standard:Create xmi:id="_8aRHEHurEem9A9zbMJW8SQ" base_BehavioralFeature="_8aPR4HurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_8evXYHurEem9A9zbMJW8SQ" name="org.jbox2d.common.Vec2" base_Classifier="_8euJQHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_8iPXUHurEem9A9zbMJW8SQ" name="org.jbox2d.dynamics.BodyDef" base_Classifier="_8iNiIXurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_8iTBsHurEem9A9zbMJW8SQ" name="org.jbox2d.dynamics.Body" base_Classifier="_8iRMgHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_8iX6MHurEem9A9zbMJW8SQ" name="org.jbox2d.dynamics.Fixture" base_Classifier="_8iWFAHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_8jHhEHurEem9A9zbMJW8SQ" name="org.jbox2d.dynamics.World" base_Classifier="_8jD2sHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_8jpskHurEem9A9zbMJW8SQ" name="org.jbox2d.dynamics.contacts.Contact" base_Classifier="_8jnQUHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_8j6LQHurEem9A9zbMJW8SQ" name="org.jbox2d.callbacks.ContactListener" base_Classifier="_8j49IHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_8kFKYHurEem9A9zbMJW8SQ" name="org.jbox2d.collision.Manifold" base_Classifier="_8kDVMXurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_8kL4EHurEem9A9zbMJW8SQ" name="org.jbox2d.callbacks.ContactImpulse" base_Classifier="_8kKp8HurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_8kbvsHurEem9A9zbMJW8SQ" name="ImpactLocation" base_Classifier="_8kahkHurEem9A9zbMJW8SQ"/>
  <standard:Create xmi:id="_8lT5cHurEem9A9zbMJW8SQ" base_BehavioralFeature="_8lSrUHurEem9A9zbMJW8SQ"/>
  <standard:Create xmi:id="_8oV_UHurEem9A9zbMJW8SQ" base_BehavioralFeature="_8oUxMHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:Variadic xmi:id="_8oaQwHurEem9A9zbMJW8SQ" base_Parameter="_8oYbkHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_8ofJQHurEem9A9zbMJW8SQ" name="org.jbox2d.collision.shapes.Shape" base_Classifier="_8odUEHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_8rfZ8HurEem9A9zbMJW8SQ" name="java.util.TreeMap" base_Classifier="_8rdkwHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_8rs1UHurEem9A9zbMJW8SQ" name="Comparable" base_Classifier="_8rrAIHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_8sI6MHurEem9A9zbMJW8SQ" name="E" base_Classifier="_8sHFAHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_8yrnEHurEem9A9zbMJW8SQ" name="javax.xml.parsers.DocumentBuilderFactory" base_Classifier="_8ypx4XurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_8yv4gHurEem9A9zbMJW8SQ" name="javax.xml.parsers.DocumentBuilder" base_Classifier="_8yuqYHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_8y0xAHurEem9A9zbMJW8SQ" name="org.w3c.dom.Document" base_Classifier="_8yzi4HurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_8y30UHurEem9A9zbMJW8SQ" name="org.w3c.dom.Element" base_Classifier="_8y2mMHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_80838HurEem9A9zbMJW8SQ" name="org.w3c.dom.NodeList" base_Classifier="_807CwHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_811BsHurEem9A9zbMJW8SQ" name="org.w3c.dom.Node" base_Classifier="_81zMgHurEem9A9zbMJW8SQ"/>
  <standard:Create xmi:id="_82GugHurEem9A9zbMJW8SQ" base_BehavioralFeature="_82FgYHurEem9A9zbMJW8SQ"/>
  <standard:Create xmi:id="_85KpkHurEem9A9zbMJW8SQ" base_BehavioralFeature="_85Jbc3urEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_85SlYHurEem9A9zbMJW8SQ" name="org.jbox2d.callbacks.RayCastCallback" base_Classifier="_85RXQ3urEem9A9zbMJW8SQ"/>
  <standard:Create xmi:id="_87j2QHurEem9A9zbMJW8SQ" base_BehavioralFeature="_87ioIHurEem9A9zbMJW8SQ"/>
  <standard:Create xmi:id="_88Y8sHurEem9A9zbMJW8SQ" base_BehavioralFeature="_88XukHurEem9A9zbMJW8SQ"/>
  <standard:Create xmi:id="_8-3o8HurEem9A9zbMJW8SQ" base_BehavioralFeature="_8-3B4HurEem9A9zbMJW8SQ"/>
  <standard:Create xmi:id="_8_GScHurEem9A9zbMJW8SQ" base_BehavioralFeature="_8_FrYHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_8_UU4HurEem9A9zbMJW8SQ" name="X" base_Classifier="_8_TGwHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_8_WxIHurEem9A9zbMJW8SQ" name="Y" base_Classifier="_8_U78XurEem9A9zbMJW8SQ"/>
  <standard:Create xmi:id="_8_4VkHurEem9A9zbMJW8SQ" base_BehavioralFeature="_8_3HcHurEem9A9zbMJW8SQ"/>
  <standard:Create xmi:id="_9BBlEHurEem9A9zbMJW8SQ" base_BehavioralFeature="_9BAW8nurEem9A9zbMJW8SQ"/>
  <standard:Create xmi:id="_9FgccHurEem9A9zbMJW8SQ" base_BehavioralFeature="_9FfOUnurEem9A9zbMJW8SQ"/>
  <PapyrusJava:Variadic xmi:id="_9FhqkHurEem9A9zbMJW8SQ" base_Parameter="_9FgccXurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_jDxKUHvWEemtSbXqvSvPoQ" name="arenashooter.engine.graphics.Texture" base_Classifier="_7vwKcHurEem9A9zbMJW8SQ"/>
  <standard:Create xmi:id="_jD0NoHvWEemtSbXqvSvPoQ" base_BehavioralFeature="_jDyYcnvWEemtSbXqvSvPoQ"/>
  <standard:Create xmi:id="_jEGhgHvWEemtSbXqvSvPoQ" base_BehavioralFeature="_jEFTYXvWEemtSbXqvSvPoQ"/>
  <PapyrusJava:External xmi:id="_S3VhgHviEemtSbXqvSvPoQ" name="arenashooter.engine.physic.PhysicShape" base_Classifier="_8iLs8HurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_S3X9wHviEemtSbXqvSvPoQ" name="arenashooter.engine.graphics.Model" base_Classifier="_8AmC0HurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_S3Zy8HviEemtSbXqvSvPoQ" name="arenashooter.engine.math.Vec2f" base_Classifier="_8dpyQHurEem9A9zbMJW8SQ"/>
  <standard:Create xmi:id="_S3bBEHviEemtSbXqvSvPoQ" base_BehavioralFeature="_S3Zy83viEemtSbXqvSvPoQ"/>
  <PapyrusJava:External xmi:id="_S3cPMHviEemtSbXqvSvPoQ" name="arenashooter.engine.graphics.Shader" base_Classifier="_7703kHurEem9A9zbMJW8SQ"/>
  <PapyrusJava:External xmi:id="_bpZYUHx3Eem4ef_Ffc0arQ" name="arenashooter.engine.events.Event" base_Classifier="_75_rkHurEem9A9zbMJW8SQ"/>
  <standard:Create xmi:id="_bph7MHx3Eem4ef_Ffc0arQ" base_BehavioralFeature="_bpfe8Hx3Eem4ef_Ffc0arQ"/>
  <standard:Create xmi:id="_antxsHyfEemsjr4EcXr-sw" base_BehavioralFeature="_anquYHyfEemsjr4EcXr-sw"/>
</xmi:XMI>
